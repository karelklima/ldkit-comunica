var Dee=Object.create;var Dg=Object.defineProperty;var Cee=Object.getOwnPropertyDescriptor;var jee=Object.getOwnPropertyNames;var qee=Object.getPrototypeOf,Lee=Object.prototype.hasOwnProperty;var hc=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var Li=(t,e)=>()=>(t&&(e=t(t=0)),e);var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Mee=(t,e)=>{for(var r in e)Dg(t,r,{get:e[r],enumerable:!0})},zj=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jee(e))!Lee.call(t,i)&&i!==r&&Dg(t,i,{get:()=>e[i],enumerable:!(n=Cee(e,i))||n.enumerable});return t};var Fee=(t,e,r)=>(r=t!=null?Dee(qee(t)):{},zj(e||!t||!t.__esModule?Dg(r,"default",{value:t,enumerable:!0}):r,t)),Wj=t=>zj(Dg({},"__esModule",{value:!0}),t);var Xj=_(Kj=>{"use strict";Object.defineProperty(Kj,"__esModule",{value:!0})});var Jj=_($j=>{"use strict";Object.defineProperty($j,"__esModule",{value:!0})});var Zj=_(Yj=>{"use strict";Object.defineProperty(Yj,"__esModule",{value:!0})});var tq=_(eq=>{"use strict";Object.defineProperty(eq,"__esModule",{value:!0})});var nq=_(rq=>{"use strict";Object.defineProperty(rq,"__esModule",{value:!0})});var aq=_(iq=>{"use strict";Object.defineProperty(iq,"__esModule",{value:!0})});var oq=_(sq=>{"use strict";Object.defineProperty(sq,"__esModule",{value:!0})});var cq=_(uq=>{"use strict";Object.defineProperty(uq,"__esModule",{value:!0})});var dq=_(lq=>{"use strict";Object.defineProperty(lq,"__esModule",{value:!0})});var hq=_(fq=>{"use strict";Object.defineProperty(fq,"__esModule",{value:!0})});var _q=_(pq=>{"use strict";Object.defineProperty(pq,"__esModule",{value:!0})});var bq=_(yq=>{"use strict";Object.defineProperty(yq,"__esModule",{value:!0})});var gq=_(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.Logger=void 0;var Jp=class{static getLevelOrdinal(e){return Jp.LEVELS[e]}};Cg.Logger=Jp;Jp.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5}});var CO=_(En=>{"use strict";var Bee=En&&En.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ra=En&&En.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Bee(e,t,r)};Object.defineProperty(En,"__esModule",{value:!0});Ra(Xj(),En);Ra(Jj(),En);Ra(Zj(),En);Ra(tq(),En);Ra(nq(),En);Ra(aq(),En);Ra(oq(),En);Ra(cq(),En);Ra(dq(),En);Ra(hq(),En);Ra(_q(),En);Ra(bq(),En);Ra(gq(),En)});var qg=_((jg,mq)=>{(function(t,e){typeof jg=="object"&&typeof mq<"u"?e(jg):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.Immutable={}))})(jg,function(t){"use strict";var e="delete",r=5,n=1<<r,i=n-1,a={};function s(){return{value:!1}}function o(l){l&&(l.value=!0)}function u(){}function d(l){return l.size===void 0&&(l.size=l.__iterate(p)),l.size}function f(l,c){if(typeof c!="number"){var h=c>>>0;if(""+h!==c||h===4294967295)return NaN;c=h}return c<0?d(l)+c:c}function p(){return!0}function y(l,c,h){return(l===0&&!D(l)||h!==void 0&&l<=-h)&&(c===void 0||h!==void 0&&c>=h)}function g(l,c){return E(l,c,0)}function v(l,c){return E(l,c,c)}function E(l,c,h){return l===void 0?h:D(l)?c===1/0?c:Math.max(0,c+l)|0:c===void 0||c===l?l:Math.min(c,l)|0}function D(l){return l<0||l===0&&1/l===-1/0}var O="@@__IMMUTABLE_ITERABLE__@@";function C(l){return Boolean(l&&l[O])}var R="@@__IMMUTABLE_KEYED__@@";function w(l){return Boolean(l&&l[R])}var P="@@__IMMUTABLE_INDEXED__@@";function T(l){return Boolean(l&&l[P])}function te(l){return w(l)||T(l)}var ee=function(c){return C(c)?c:B(c)},Y=function(l){function c(h){return w(h)?h:Q(h)}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c}(ee),x=function(l){function c(h){return T(h)?h:K(h)}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c}(ee),H=function(l){function c(h){return C(h)&&!te(h)?h:W(h)}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c}(ee);ee.Keyed=Y,ee.Indexed=x,ee.Set=H;var se="@@__IMMUTABLE_SEQ__@@";function Ne(l){return Boolean(l&&l[se])}var Me="@@__IMMUTABLE_RECORD__@@";function J(l){return Boolean(l&&l[Me])}function re(l){return C(l)||J(l)}var de="@@__IMMUTABLE_ORDERED__@@";function _e(l){return Boolean(l&&l[de])}var Ce=0,nt=1,ze=2,Ye=typeof Symbol=="function"&&Symbol.iterator,fe="@@iterator",ae=Ye||fe,oe=function(c){this.next=c};oe.prototype.toString=function(){return"[Iterator]"},oe.KEYS=Ce,oe.VALUES=nt,oe.ENTRIES=ze,oe.prototype.inspect=oe.prototype.toSource=function(){return this.toString()},oe.prototype[ae]=function(){return this};function pe(l,c,h,b){var m=l===0?c:l===1?h:[c,h];return b?b.value=m:b={value:m,done:!1},b}function Oe(){return{value:void 0,done:!0}}function Ue(l){return Array.isArray(l)?!0:!!V(l)}function N(l){return l&&typeof l.next=="function"}function L(l){var c=V(l);return c&&c.call(l)}function V(l){var c=l&&(Ye&&l[Ye]||l[fe]);if(typeof c=="function")return c}function $(l){var c=V(l);return c&&c===l.entries}function M(l){var c=V(l);return c&&c===l.keys}var k=Object.prototype.hasOwnProperty;function z(l){return Array.isArray(l)||typeof l=="string"?!0:l&&typeof l=="object"&&Number.isInteger(l.length)&&l.length>=0&&(l.length===0?Object.keys(l).length===1:l.hasOwnProperty(l.length-1))}var B=function(l){function c(h){return h==null?qe():re(h)?h.toSeq():Ge(h)}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.toSeq=function(){return this},c.prototype.toString=function(){return this.__toString("Seq {","}")},c.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},c.prototype.__iterate=function(b,m){var S=this._cache;if(S){for(var A=S.length,U=0;U!==A;){var X=S[m?A-++U:U++];if(b(X[1],X[0],this)===!1)break}return U}return this.__iterateUncached(b,m)},c.prototype.__iterator=function(b,m){var S=this._cache;if(S){var A=S.length,U=0;return new oe(function(){if(U===A)return Oe();var X=S[m?A-++U:U++];return pe(b,X[0],X[1])})}return this.__iteratorUncached(b,m)},c}(ee),Q=function(l){function c(h){return h==null?qe().toKeyedSeq():C(h)?w(h)?h.toSeq():h.fromEntrySeq():J(h)?h.toSeq():Fe(h)}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.toKeyedSeq=function(){return this},c}(B),K=function(l){function c(h){return h==null?qe():C(h)?w(h)?h.entrySeq():h.toIndexedSeq():J(h)?h.toSeq().entrySeq():Be(h)}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.of=function(){return c(arguments)},c.prototype.toIndexedSeq=function(){return this},c.prototype.toString=function(){return this.__toString("Seq [","]")},c}(B),W=function(l){function c(h){return(C(h)&&!te(h)?h:K(h)).toSetSeq()}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.of=function(){return c(arguments)},c.prototype.toSetSeq=function(){return this},c}(B);B.isSeq=Ne,B.Keyed=Q,B.Set=W,B.Indexed=K,B.prototype[se]=!0;var ne=function(l){function c(h){this._array=h,this.size=h.length}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.get=function(b,m){return this.has(b)?this._array[f(this,b)]:m},c.prototype.__iterate=function(b,m){for(var S=this._array,A=S.length,U=0;U!==A;){var X=m?A-++U:U++;if(b(S[X],X,this)===!1)break}return U},c.prototype.__iterator=function(b,m){var S=this._array,A=S.length,U=0;return new oe(function(){if(U===A)return Oe();var X=m?A-++U:U++;return pe(b,X,S[X])})},c}(K),ge=function(l){function c(h){var b=Object.keys(h).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(h):[]);this._object=h,this._keys=b,this.size=b.length}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.get=function(b,m){return m!==void 0&&!this.has(b)?m:this._object[b]},c.prototype.has=function(b){return k.call(this._object,b)},c.prototype.__iterate=function(b,m){for(var S=this._object,A=this._keys,U=A.length,X=0;X!==U;){var ue=A[m?U-++X:X++];if(b(S[ue],ue,this)===!1)break}return X},c.prototype.__iterator=function(b,m){var S=this._object,A=this._keys,U=A.length,X=0;return new oe(function(){if(X===U)return Oe();var ue=A[m?U-++X:X++];return pe(b,ue,S[ue])})},c}(Q);ge.prototype[de]=!0;var Se=function(l){function c(h){this._collection=h,this.size=h.length||h.size}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.__iterateUncached=function(b,m){if(m)return this.cacheResult().__iterate(b,m);var S=this._collection,A=L(S),U=0;if(N(A))for(var X;!(X=A.next()).done&&b(X.value,U++,this)!==!1;);return U},c.prototype.__iteratorUncached=function(b,m){if(m)return this.cacheResult().__iterator(b,m);var S=this._collection,A=L(S);if(!N(A))return new oe(Oe);var U=0;return new oe(function(){var X=A.next();return X.done?X:pe(b,U++,X.value)})},c}(K),Pe;function qe(){return Pe||(Pe=new ne([]))}function Fe(l){var c=Ze(l);if(c)return c.fromEntrySeq();if(typeof l=="object")return new ge(l);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+l)}function Be(l){var c=Ze(l);if(c)return c;throw new TypeError("Expected Array or collection object of values: "+l)}function Ge(l){var c=Ze(l);if(c)return $(l)?c.fromEntrySeq():M(l)?c.toSetSeq():c;if(typeof l=="object")return new ge(l);throw new TypeError("Expected Array or collection object of values, or keyed object: "+l)}function Ze(l){return z(l)?new ne(l):Ue(l)?new Se(l):void 0}var mt="@@__IMMUTABLE_MAP__@@";function ft(l){return Boolean(l&&l[mt])}function $e(l){return ft(l)&&_e(l)}function hr(l){return Boolean(l&&typeof l.equals=="function"&&typeof l.hashCode=="function")}function Wt(l,c){if(l===c||l!==l&&c!==c)return!0;if(!l||!c)return!1;if(typeof l.valueOf=="function"&&typeof c.valueOf=="function"){if(l=l.valueOf(),c=c.valueOf(),l===c||l!==l&&c!==c)return!0;if(!l||!c)return!1}return!!(hr(l)&&hr(c)&&l.equals(c))}var Nr=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(c,h){c|=0,h|=0;var b=c&65535,m=h&65535;return b*m+((c>>>16)*m+b*(h>>>16)<<16>>>0)|0};function Or(l){return l>>>1&1073741824|l&3221225471}var vt=Object.prototype.valueOf;function gr(l){if(l==null)return Wi(l);if(typeof l.hashCode=="function")return Or(l.hashCode(l));var c=Ur(l);if(c==null)return Wi(c);switch(typeof c){case"boolean":return c?1108378657:1108378656;case"number":return Pn(c);case"string":return c.length>at?va(c):Ki(c);case"object":case"function":return Fn(c);case"symbol":return Zs(c);default:if(typeof c.toString=="function")return Ki(c.toString());throw new Error("Value type "+typeof c+" cannot be hashed.")}}function Wi(l){return l===null?1108378658:1108378659}function Pn(l){if(l!==l||l===1/0)return 0;var c=l|0;for(c!==l&&(c^=l*4294967295);l>4294967295;)l/=4294967295,c^=l;return Or(c)}function va(l){var c=wt[l];return c===void 0&&(c=Ki(l),St===ct&&(St=0,wt={}),St++,wt[l]=c),c}function Ki(l){for(var c=0,h=0;h<l.length;h++)c=31*c+l.charCodeAt(h)|0;return Or(c)}function Zs(l){var c=F[l];return c!==void 0||(c=Ii(),F[l]=c),c}function Fn(l){var c;if(cr&&(c=$i.get(l),c!==void 0)||(c=l[me],c!==void 0)||!Xi&&(c=l.propertyIsEnumerable&&l.propertyIsEnumerable[me],c!==void 0||(c=ii(l),c!==void 0)))return c;if(c=Ii(),cr)$i.set(l,c);else{if(xi!==void 0&&xi(l)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Xi)Object.defineProperty(l,me,{enumerable:!1,configurable:!1,writable:!1,value:c});else if(l.propertyIsEnumerable!==void 0&&l.propertyIsEnumerable===l.constructor.prototype.propertyIsEnumerable)l.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},l.propertyIsEnumerable[me]=c;else if(l.nodeType!==void 0)l[me]=c;else throw new Error("Unable to set a non-enumerable property on object.")}return c}var xi=Object.isExtensible,Xi=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function ii(l){if(l&&l.nodeType>0)switch(l.nodeType){case 1:return l.uniqueID;case 9:return l.documentElement&&l.documentElement.uniqueID}}function Ur(l){return l.valueOf!==vt&&typeof l.valueOf=="function"?l.valueOf(l):l}function Ii(){var l=++ie;return ie&1073741824&&(ie=0),l}var cr=typeof WeakMap=="function",$i;cr&&($i=new WeakMap);var F=Object.create(null),ie=0,me="__immutablehash__";typeof Symbol=="function"&&(me=Symbol(me));var at=16,ct=255,St=0,wt={},Yr=function(l){function c(h,b){this._iter=h,this._useKeys=b,this.size=h.size}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.get=function(b,m){return this._iter.get(b,m)},c.prototype.has=function(b){return this._iter.has(b)},c.prototype.valueSeq=function(){return this._iter.valueSeq()},c.prototype.reverse=function(){var b=this,m=wa(this,!0);return this._useKeys||(m.valueSeq=function(){return b._iter.toSeq().reverse()}),m},c.prototype.map=function(b,m){var S=this,A=pn(this,b,m);return this._useKeys||(A.valueSeq=function(){return S._iter.toSeq().map(b,m)}),A},c.prototype.__iterate=function(b,m){var S=this;return this._iter.__iterate(function(A,U){return b(A,U,S)},m)},c.prototype.__iterator=function(b,m){return this._iter.__iterator(b,m)},c}(Q);Yr.prototype[de]=!0;var Bn=function(l){function c(h){this._iter=h,this.size=h.size}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.includes=function(b){return this._iter.includes(b)},c.prototype.__iterate=function(b,m){var S=this,A=0;return m&&d(this),this._iter.__iterate(function(U){return b(U,m?S.size-++A:A++,S)},m)},c.prototype.__iterator=function(b,m){var S=this,A=this._iter.__iterator(nt,m),U=0;return m&&d(this),new oe(function(){var X=A.next();return X.done?X:pe(b,m?S.size-++U:U++,X.value,X)})},c}(K),Rr=function(l){function c(h){this._iter=h,this.size=h.size}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.has=function(b){return this._iter.includes(b)},c.prototype.__iterate=function(b,m){var S=this;return this._iter.__iterate(function(A){return b(A,A,S)},m)},c.prototype.__iterator=function(b,m){var S=this._iter.__iterator(nt,m);return new oe(function(){var A=S.next();return A.done?A:pe(b,A.value,A.value,A)})},c}(W),Ts=function(l){function c(h){this._iter=h,this.size=h.size}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.entrySeq=function(){return this._iter.toSeq()},c.prototype.__iterate=function(b,m){var S=this;return this._iter.__iterate(function(A){if(A){to(A);var U=C(A);return b(U?A.get(1):A[1],U?A.get(0):A[0],S)}},m)},c.prototype.__iterator=function(b,m){var S=this._iter.__iterator(nt,m);return new oe(function(){for(;;){var A=S.next();if(A.done)return A;var U=A.value;if(U){to(U);var X=C(U);return pe(b,X?U.get(0):U[0],X?U.get(1):U[1],A)}}})},c}(Q);Bn.prototype.cacheResult=Yr.prototype.cacheResult=Rr.prototype.cacheResult=Ts.prototype.cacheResult=Es;function Lp(l){var c=Vn(l);return c._iter=l,c.size=l.size,c.flip=function(){return l},c.reverse=function(){var h=l.reverse.apply(this);return h.flip=function(){return l.reverse()},h},c.has=function(h){return l.includes(h)},c.includes=function(h){return l.has(h)},c.cacheResult=Es,c.__iterateUncached=function(h,b){var m=this;return l.__iterate(function(S,A){return h(A,S,m)!==!1},b)},c.__iteratorUncached=function(h,b){if(h===ze){var m=l.__iterator(h,b);return new oe(function(){var S=m.next();if(!S.done){var A=S.value[0];S.value[0]=S.value[1],S.value[1]=A}return S})}return l.__iterator(h===nt?Ce:nt,b)},c}function pn(l,c,h){var b=Vn(l);return b.size=l.size,b.has=function(m){return l.has(m)},b.get=function(m,S){var A=l.get(m,a);return A===a?S:c.call(h,A,m,l)},b.__iterateUncached=function(m,S){var A=this;return l.__iterate(function(U,X,ue){return m(c.call(h,U,X,ue),X,A)!==!1},S)},b.__iteratorUncached=function(m,S){var A=l.__iterator(ze,S);return new oe(function(){var U=A.next();if(U.done)return U;var X=U.value,ue=X[0];return pe(m,ue,c.call(h,X[1],ue,l),U)})},b}function wa(l,c){var h=this,b=Vn(l);return b._iter=l,b.size=l.size,b.reverse=function(){return l},l.flip&&(b.flip=function(){var m=Lp(l);return m.reverse=function(){return l.flip()},m}),b.get=function(m,S){return l.get(c?m:-1-m,S)},b.has=function(m){return l.has(c?m:-1-m)},b.includes=function(m){return l.includes(m)},b.cacheResult=Es,b.__iterate=function(m,S){var A=this,U=0;return S&&d(l),l.__iterate(function(X,ue){return m(X,c?ue:S?A.size-++U:U++,A)},!S)},b.__iterator=function(m,S){var A=0;S&&d(l);var U=l.__iterator(ze,!S);return new oe(function(){var X=U.next();if(X.done)return X;var ue=X.value;return pe(m,c?ue[0]:S?h.size-++A:A++,ue[1],X)})},b}function Ji(l,c,h,b){var m=Vn(l);return b&&(m.has=function(S){var A=l.get(S,a);return A!==a&&!!c.call(h,A,S,l)},m.get=function(S,A){var U=l.get(S,a);return U!==a&&c.call(h,U,S,l)?U:A}),m.__iterateUncached=function(S,A){var U=this,X=0;return l.__iterate(function(ue,le,Re){if(c.call(h,ue,le,Re))return X++,S(ue,b?le:X-1,U)},A),X},m.__iteratorUncached=function(S,A){var U=l.__iterator(ze,A),X=0;return new oe(function(){for(;;){var ue=U.next();if(ue.done)return ue;var le=ue.value,Re=le[0],He=le[1];if(c.call(h,He,Re,l))return pe(S,b?Re:X++,He,ue)}})},m}function Mp(l,c,h){var b=_n().asMutable();return l.__iterate(function(m,S){b.update(c.call(h,m,S,l),0,function(A){return A+1})}),b.asImmutable()}function Yi(l,c,h){var b=w(l),m=(_e(l)?ia():_n()).asMutable();l.__iterate(function(A,U){m.update(c.call(h,A,U,l),function(X){return X=X||[],X.push(b?[U,A]:A),X})});var S=ro(l);return m.map(function(A){return lt(l,S(A))}).asImmutable()}function eo(l,c,h,b){var m=l.size;if(y(c,h,m))return l;var S=g(c,m),A=v(h,m);if(S!==S||A!==A)return eo(l.toSeq().cacheResult(),c,h,b);var U=A-S,X;U===U&&(X=U<0?0:U);var ue=Vn(l);return ue.size=X===0?X:l.size&&X||void 0,!b&&Ne(l)&&X>=0&&(ue.get=function(le,Re){return le=f(this,le),le>=0&&le<X?l.get(le+S,Re):Re}),ue.__iterateUncached=function(le,Re){var He=this;if(X===0)return 0;if(Re)return this.cacheResult().__iterate(le,Re);var _t=0,ht=!0,Ct=0;return l.__iterate(function(Oa,oo){if(!(ht&&(ht=_t++<S)))return Ct++,le(Oa,b?oo:Ct-1,He)!==!1&&Ct!==X}),Ct},ue.__iteratorUncached=function(le,Re){if(X!==0&&Re)return this.cacheResult().__iterator(le,Re);if(X===0)return new oe(Oe);var He=l.__iterator(le,Re),_t=0,ht=0;return new oe(function(){for(;_t++<S;)He.next();if(++ht>X)return Oe();var Ct=He.next();return b||le===nt||Ct.done?Ct:le===Ce?pe(le,ht-1,void 0,Ct):pe(le,ht-1,Ct.value[1],Ct)})},ue}function Fp(l,c,h){var b=Vn(l);return b.__iterateUncached=function(m,S){var A=this;if(S)return this.cacheResult().__iterate(m,S);var U=0;return l.__iterate(function(X,ue,le){return c.call(h,X,ue,le)&&++U&&m(X,ue,A)}),U},b.__iteratorUncached=function(m,S){var A=this;if(S)return this.cacheResult().__iterator(m,S);var U=l.__iterator(ze,S),X=!0;return new oe(function(){if(!X)return Oe();var ue=U.next();if(ue.done)return ue;var le=ue.value,Re=le[0],He=le[1];return c.call(h,He,Re,A)?m===ze?ue:pe(m,Re,He,ue):(X=!1,Oe())})},b}function Va(l,c,h,b){var m=Vn(l);return m.__iterateUncached=function(S,A){var U=this;if(A)return this.cacheResult().__iterate(S,A);var X=!0,ue=0;return l.__iterate(function(le,Re,He){if(!(X&&(X=c.call(h,le,Re,He))))return ue++,S(le,b?Re:ue-1,U)}),ue},m.__iteratorUncached=function(S,A){var U=this;if(A)return this.cacheResult().__iterator(S,A);var X=l.__iterator(ze,A),ue=!0,le=0;return new oe(function(){var Re,He,_t;do{if(Re=X.next(),Re.done)return b||S===nt?Re:S===Ce?pe(S,le++,void 0,Re):pe(S,le++,Re.value[1],Re);var ht=Re.value;He=ht[0],_t=ht[1],ue&&(ue=c.call(h,_t,He,U))}while(ue);return S===ze?Re:pe(S,He,_t,Re)})},m}function ka(l,c){var h=w(l),b=[l].concat(c).map(function(A){return C(A)?h&&(A=Y(A)):A=h?Fe(A):Be(Array.isArray(A)?A:[A]),A}).filter(function(A){return A.size!==0});if(b.length===0)return l;if(b.length===1){var m=b[0];if(m===l||h&&w(m)||T(l)&&T(m))return m}var S=new ne(b);return h?S=S.toKeyedSeq():T(l)||(S=S.toSetSeq()),S=S.flatten(!0),S.size=b.reduce(function(A,U){if(A!==void 0){var X=U.size;if(X!==void 0)return A+X}},0),S}function Zi(l,c,h){var b=Vn(l);return b.__iterateUncached=function(m,S){if(S)return this.cacheResult().__iterate(m,S);var A=0,U=!1;function X(ue,le){ue.__iterate(function(Re,He){return(!c||le<c)&&C(Re)?X(Re,le+1):(A++,m(Re,h?He:A-1,b)===!1&&(U=!0)),!U},S)}return X(l,0),A},b.__iteratorUncached=function(m,S){if(S)return this.cacheResult().__iterator(m,S);var A=l.__iterator(m,S),U=[],X=0;return new oe(function(){for(;A;){var ue=A.next();if(ue.done!==!1){A=U.pop();continue}var le=ue.value;if(m===ze&&(le=le[1]),(!c||U.length<c)&&C(le))U.push(A),A=le.__iterator(m,S);else return h?ue:pe(m,X++,le,ue)}return Oe()})},b}function Sa(l,c,h){var b=ro(l);return l.toSeq().map(function(m,S){return b(c.call(h,m,S,l))}).flatten(!0)}function Ha(l,c){var h=Vn(l);return h.size=l.size&&l.size*2-1,h.__iterateUncached=function(b,m){var S=this,A=0;return l.__iterate(function(U){return(!A||b(c,A++,S)!==!1)&&b(U,A++,S)!==!1},m),A},h.__iteratorUncached=function(b,m){var S=l.__iterator(nt,m),A=0,U;return new oe(function(){return(!U||A%2)&&(U=S.next(),U.done)?U:A%2?pe(b,A++,c):pe(b,A++,U.value,U)})},h}function Un(l,c,h){c||(c=Qa);var b=w(l),m=0,S=l.toSeq().map(function(A,U){return[U,A,m++,h?h(A,U,l):A]}).valueSeq().toArray();return S.sort(function(A,U){return c(A[3],U[3])||A[2]-U[2]}).forEach(b?function(A,U){S[U].length=2}:function(A,U){S[U]=A[1]}),b?Q(S):T(l)?K(S):W(S)}function Ga(l,c,h){if(c||(c=Qa),h){var b=l.toSeq().map(function(m,S){return[m,h(m,S,l)]}).reduce(function(m,S){return Pi(c,m[1],S[1])?S:m});return b&&b[0]}return l.reduce(function(m,S){return Pi(c,m,S)?S:m})}function Pi(l,c,h){var b=l(h,c);return b===0&&h!==c&&(h==null||h!==h)||b>0}function ea(l,c,h,b){var m=Vn(l),S=new ne(h).map(function(A){return A.size});return m.size=b?S.max():S.min(),m.__iterate=function(A,U){for(var X=this.__iterator(nt,U),ue,le=0;!(ue=X.next()).done&&A(ue.value,le++,this)!==!1;);return le},m.__iteratorUncached=function(A,U){var X=h.map(function(Re){return Re=ee(Re),L(U?Re.reverse():Re)}),ue=0,le=!1;return new oe(function(){var Re;return le||(Re=X.map(function(He){return He.next()}),le=b?Re.every(function(He){return He.done}):Re.some(function(He){return He.done})),le?Oe():pe(A,ue++,c.apply(null,Re.map(function(He){return He.value})))})},m}function lt(l,c){return l===c?l:Ne(l)?c:l.constructor(c)}function to(l){if(l!==Object(l))throw new TypeError("Expected [K, V] tuple: "+l)}function ro(l){return w(l)?Y:T(l)?x:H}function Vn(l){return Object.create((w(l)?Q:T(l)?K:W).prototype)}function Es(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):B.prototype.cacheResult.call(this)}function Qa(l,c){return l===void 0&&c===void 0?0:l===void 0?1:c===void 0?-1:l>c?1:l<c?-1:0}function Ni(l,c){c=c||0;for(var h=Math.max(0,l.length-c),b=new Array(h),m=0;m<h;m++)b[m]=l[m+c];return b}function Di(l,c){if(!l)throw new Error(c)}function kn(l){Di(l!==1/0,"Cannot perform this action with an infinite size.")}function Zo(l){if(z(l)&&typeof l!="string")return l;if(_e(l))return l.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+l)}var j=Object.prototype.toString;function G(l){if(!l||typeof l!="object"||j.call(l)!=="[object Object]")return!1;var c=Object.getPrototypeOf(l);if(c===null)return!0;for(var h=c,b=Object.getPrototypeOf(c);b!==null;)h=b,b=Object.getPrototypeOf(h);return h===c}function Z(l){return typeof l=="object"&&(re(l)||Array.isArray(l)||G(l))}function De(l){try{return typeof l=="string"?JSON.stringify(l):String(l)}catch{return JSON.stringify(l)}}function je(l,c){return re(l)?l.has(c):Z(l)&&k.call(l,c)}function Ve(l,c,h){return re(l)?l.get(c,h):je(l,c)?typeof l.get=="function"?l.get(c):l[c]:h}function ot(l){if(Array.isArray(l))return Ni(l);var c={};for(var h in l)k.call(l,h)&&(c[h]=l[h]);return c}function It(l,c){if(!Z(l))throw new TypeError("Cannot update non-data-structure value: "+l);if(re(l)){if(!l.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+l);return l.remove(c)}if(!k.call(l,c))return l;var h=ot(l);return Array.isArray(h)?h.splice(c,1):delete h[c],h}function $t(l,c,h){if(!Z(l))throw new TypeError("Cannot update non-data-structure value: "+l);if(re(l)){if(!l.set)throw new TypeError("Cannot update immutable value without .set() method: "+l);return l.set(c,h)}if(k.call(l,c)&&h===l[c])return l;var b=ot(l);return b[c]=h,b}function Kt(l,c,h,b){b||(b=h,h=void 0);var m=Ar(re(l),l,Zo(c),0,h,b);return m===a?h:m}function Ar(l,c,h,b,m,S){var A=c===a;if(b===h.length){var U=A?m:c,X=S(U);return X===U?c:X}if(!A&&!Z(c))throw new TypeError("Cannot update within non-data-structure value in path ["+h.slice(0,b).map(De)+"]: "+c);var ue=h[b],le=A?a:Ve(c,ue,a),Re=Ar(le===a?l:re(le),le,h,b+1,m,S);return Re===le?c:Re===a?It(c,ue):$t(A?l?ai():{}:c,ue,Re)}function pr(l,c,h){return Kt(l,c,a,function(){return h})}function Nn(l,c){return pr(this,l,c)}function Ci(l,c){return Kt(l,c,function(){return a})}function wn(l){return Ci(this,l)}function Zr(l,c,h,b){return Kt(l,[c],h,b)}function lr(l,c,h){return arguments.length===1?l(this):Zr(this,l,c,h)}function Dn(l,c,h){return Kt(this,l,c,h)}function za(){for(var l=[],c=arguments.length;c--;)l[c]=arguments[c];return ta(this,l)}function no(l){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];if(typeof l!="function")throw new TypeError("Invalid merger function: "+l);return ta(this,c,l)}function ta(l,c,h){for(var b=[],m=0;m<c.length;m++){var S=Y(c[m]);S.size!==0&&b.push(S)}return b.length===0?l:l.toSeq().size===0&&!l.__ownerID&&b.length===1?l.constructor(b[0]):l.withMutations(function(A){for(var U=h?function(ue,le){Zr(A,le,a,function(Re){return Re===a?ue:h(Re,ue,le)})}:function(ue,le){A.set(le,ue)},X=0;X<b.length;X++)b[X].forEach(U)})}function ar(l){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];return ji(l,c)}function en(l,c){for(var h=[],b=arguments.length-2;b-- >0;)h[b]=arguments[b+2];return ji(c,h,l)}function Wa(l){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];return Hn(l,c)}function Os(l,c){for(var h=[],b=arguments.length-2;b-- >0;)h[b]=arguments[b+2];return Hn(c,h,l)}function Hn(l,c,h){return ji(l,c,Bp(h))}function ji(l,c,h){if(!Z(l))throw new TypeError("Cannot merge into non-data-structure value: "+l);if(re(l))return typeof h=="function"&&l.mergeWith?l.mergeWith.apply(l,[h].concat(c)):l.merge?l.merge.apply(l,c):l.concat.apply(l,c);for(var b=Array.isArray(l),m=l,S=b?x:Y,A=b?function(X){m===l&&(m=ot(m)),m.push(X)}:function(X,ue){var le=k.call(m,ue),Re=le&&h?h(m[ue],X,ue):X;(!le||Re!==m[ue])&&(m===l&&(m=ot(m)),m[ue]=Re)},U=0;U<c.length;U++)S(c[U]).forEach(A);return m}function Bp(l){function c(h,b,m){return Z(h)&&Z(b)&&Og(h,b)?ji(h,[b],c):l?l(h,b,m):b}return c}function Og(l,c){var h=B(l),b=B(c);return T(h)===T(b)&&w(h)===w(b)}function Ka(){for(var l=[],c=arguments.length;c--;)l[c]=arguments[c];return Hn(this,l)}function Y_(l){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];return Hn(this,c,l)}function Up(l){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];return Kt(this,l,ai(),function(b){return ji(b,c)})}function Vp(l){for(var c=[],h=arguments.length-1;h-- >0;)c[h]=arguments[h+1];return Kt(this,l,ai(),function(b){return Hn(b,c)})}function Rs(l){var c=this.asMutable();return l(c),c.wasAltered()?c.__ensureOwner(this.__ownerID):this}function tc(){return this.__ownerID?this:this.__ensureOwner(new u)}function rc(){return this.__ensureOwner()}function As(){return this.__altered}var _n=function(l){function c(h){return h==null?ai():ft(h)&&!_e(h)?h:ai().withMutations(function(b){var m=l(h);kn(m.size),m.forEach(function(S,A){return b.set(A,S)})})}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.of=function(){for(var b=[],m=arguments.length;m--;)b[m]=arguments[m];return ai().withMutations(function(S){for(var A=0;A<b.length;A+=2){if(A+1>=b.length)throw new Error("Missing value for key: "+b[A]);S.set(b[A],b[A+1])}})},c.prototype.toString=function(){return this.__toString("Map {","}")},c.prototype.get=function(b,m){return this._root?this._root.get(0,void 0,b,m):m},c.prototype.set=function(b,m){return ty(this,b,m)},c.prototype.remove=function(b){return ty(this,b,a)},c.prototype.deleteAll=function(b){var m=ee(b);return m.size===0?this:this.withMutations(function(S){m.forEach(function(A){return S.remove(A)})})},c.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ai()},c.prototype.sort=function(b){return ia(Un(this,b))},c.prototype.sortBy=function(b,m){return ia(Un(this,m,b))},c.prototype.map=function(b,m){var S=this;return this.withMutations(function(A){A.forEach(function(U,X){A.set(X,b.call(m,U,X,S))})})},c.prototype.__iterator=function(b,m){return new kp(this,b,m)},c.prototype.__iterate=function(b,m){var S=this,A=0;return this._root&&this._root.iterate(function(U){return A++,b(U[1],U[0],S)},m),A},c.prototype.__ensureOwner=function(b){return b===this.__ownerID?this:b?Z_(this.size,this._root,b,this.__hash):this.size===0?ai():(this.__ownerID=b,this.__altered=!1,this)},c}(Y);_n.isMap=ft;var mr=_n.prototype;mr[mt]=!0,mr[e]=mr.remove,mr.removeAll=mr.deleteAll,mr.setIn=Nn,mr.removeIn=mr.deleteIn=wn,mr.update=lr,mr.updateIn=Dn,mr.merge=mr.concat=za,mr.mergeWith=no,mr.mergeDeep=Ka,mr.mergeDeepWith=Y_,mr.mergeIn=Up,mr.mergeDeepIn=Vp,mr.withMutations=Rs,mr.wasAltered=As,mr.asImmutable=rc,mr["@@transducer/init"]=mr.asMutable=tc,mr["@@transducer/step"]=function(l,c){return l.set(c[0],c[1])},mr["@@transducer/result"]=function(l){return l.asImmutable()};var nc=function(c,h){this.ownerID=c,this.entries=h};nc.prototype.get=function(c,h,b,m){for(var S=this.entries,A=0,U=S.length;A<U;A++)if(Wt(b,S[A][0]))return S[A][1];return m},nc.prototype.update=function(c,h,b,m,S,A,U){for(var X=S===a,ue=this.entries,le=0,Re=ue.length;le<Re&&!Wt(m,ue[le][0]);le++);var He=le<Re;if(He?ue[le][1]===S:X)return this;if(o(U),(X||!He)&&o(A),!(X&&ue.length===1)){if(!He&&!X&&ue.length>=Xa)return tu(c,ue,m,S);var _t=c&&c===this.ownerID,ht=_t?ue:Ni(ue);return He?X?le===Re-1?ht.pop():ht[le]=ht.pop():ht[le]=[m,S]:ht.push([m,S]),_t?(this.entries=ht,this):new nc(c,ht)}};var eu=function(c,h,b){this.ownerID=c,this.bitmap=h,this.nodes=b};eu.prototype.get=function(c,h,b,m){h===void 0&&(h=gr(b));var S=1<<((c===0?h:h>>>c)&i),A=this.bitmap;return(A&S)===0?m:this.nodes[si(A&S-1)].get(c+r,h,b,m)},eu.prototype.update=function(c,h,b,m,S,A,U){b===void 0&&(b=gr(m));var X=(h===0?b:b>>>h)&i,ue=1<<X,le=this.bitmap,Re=(le&ue)!==0;if(!Re&&S===a)return this;var He=si(le&ue-1),_t=this.nodes,ht=Re?_t[He]:void 0,Ct=Gp(ht,c,h+r,b,m,S,A,U);if(Ct===ht)return this;if(!Re&&Ct&&_t.length>=ql)return xg(c,_t,le,X,Ct);if(Re&&!Ct&&_t.length===2&&ry(_t[He^1]))return _t[He^1];if(Re&&Ct&&_t.length===1&&ry(Ct))return Ct;var Oa=c&&c===this.ownerID,oo=Re?Ct?le:le^ue:le|ue,Fl=Re?Ct?Ta(_t,He,Ct,Oa):xr(_t,He,Oa):ru(_t,He,Ct,Oa);return Oa?(this.bitmap=oo,this.nodes=Fl,this):new eu(c,oo,Fl)};var ic=function(c,h,b){this.ownerID=c,this.count=h,this.nodes=b};ic.prototype.get=function(c,h,b,m){h===void 0&&(h=gr(b));var S=(c===0?h:h>>>c)&i,A=this.nodes[S];return A?A.get(c+r,h,b,m):m},ic.prototype.update=function(c,h,b,m,S,A,U){b===void 0&&(b=gr(m));var X=(h===0?b:b>>>h)&i,ue=S===a,le=this.nodes,Re=le[X];if(ue&&!Re)return this;var He=Gp(Re,c,h+r,b,m,S,A,U);if(He===Re)return this;var _t=this.count;if(!Re)_t++;else if(!He&&(_t--,_t<Gn))return Ag(c,le,_t,X);var ht=c&&c===this.ownerID,Ct=Ta(le,X,He,ht);return ht?(this.count=_t,this.nodes=Ct,this):new ic(c,_t,Ct)};var io=function(c,h,b){this.ownerID=c,this.keyHash=h,this.entries=b};io.prototype.get=function(c,h,b,m){for(var S=this.entries,A=0,U=S.length;A<U;A++)if(Wt(b,S[A][0]))return S[A][1];return m},io.prototype.update=function(c,h,b,m,S,A,U){b===void 0&&(b=gr(m));var X=S===a;if(b!==this.keyHash)return X?this:(o(U),o(A),ny(this,c,h,b,[m,S]));for(var ue=this.entries,le=0,Re=ue.length;le<Re&&!Wt(m,ue[le][0]);le++);var He=le<Re;if(He?ue[le][1]===S:X)return this;if(o(U),(X||!He)&&o(A),X&&Re===2)return new ra(c,this.keyHash,ue[le^1]);var _t=c&&c===this.ownerID,ht=_t?ue:Ni(ue);return He?X?le===Re-1?ht.pop():ht[le]=ht.pop():ht[le]=[m,S]:ht.push([m,S]),_t?(this.entries=ht,this):new io(c,this.keyHash,ht)};var ra=function(c,h,b){this.ownerID=c,this.keyHash=h,this.entry=b};ra.prototype.get=function(c,h,b,m){return Wt(b,this.entry[0])?this.entry[1]:m},ra.prototype.update=function(c,h,b,m,S,A,U){var X=S===a,ue=Wt(m,this.entry[0]);if(ue?S===this.entry[1]:X)return this;if(o(U),X){o(A);return}return ue?c&&c===this.ownerID?(this.entry[1]=S,this):new ra(c,this.keyHash,[m,S]):(o(A),ny(this,c,h,gr(m),[m,S]))},nc.prototype.iterate=io.prototype.iterate=function(l,c){for(var h=this.entries,b=0,m=h.length-1;b<=m;b++)if(l(h[c?m-b:b])===!1)return!1},eu.prototype.iterate=ic.prototype.iterate=function(l,c){for(var h=this.nodes,b=0,m=h.length-1;b<=m;b++){var S=h[c?m-b:b];if(S&&S.iterate(l,c)===!1)return!1}},ra.prototype.iterate=function(l,c){return l(this.entry)};var kp=function(l){function c(h,b,m){this._type=b,this._reverse=m,this._stack=h._root&&Rg(h._root)}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.next=function(){for(var b=this._type,m=this._stack;m;){var S=m.node,A=m.index++,U=void 0;if(S.entry){if(A===0)return Hp(b,S.entry)}else if(S.entries){if(U=S.entries.length-1,A<=U)return Hp(b,S.entries[this._reverse?U-A:A])}else if(U=S.nodes.length-1,A<=U){var X=S.nodes[this._reverse?U-A:A];if(X){if(X.entry)return Hp(b,X.entry);m=this._stack=Rg(X,m)}continue}m=this._stack=this._stack.__prev}return Oe()},c}(oe);function Hp(l,c){return pe(l,c[0],c[1])}function Rg(l,c){return{node:l,index:0,__prev:c}}function Z_(l,c,h,b){var m=Object.create(mr);return m.size=l,m._root=c,m.__ownerID=h,m.__hash=b,m.__altered=!1,m}var ey;function ai(){return ey||(ey=Z_(0))}function ty(l,c,h){var b,m;if(l._root){var S=s(),A=s();if(b=Gp(l._root,l.__ownerID,0,void 0,c,h,S,A),!A.value)return l;m=l.size+(S.value?h===a?-1:1:0)}else{if(h===a)return l;m=1,b=new nc(l.__ownerID,[[c,h]])}return l.__ownerID?(l.size=m,l._root=b,l.__hash=void 0,l.__altered=!0,l):b?Z_(m,b):ai()}function Gp(l,c,h,b,m,S,A,U){return l?l.update(c,h,b,m,S,A,U):S===a?l:(o(U),o(A),new ra(c,b,[m,S]))}function ry(l){return l.constructor===ra||l.constructor===io}function ny(l,c,h,b,m){if(l.keyHash===b)return new io(c,b,[l.entry,m]);var S=(h===0?l.keyHash:l.keyHash>>>h)&i,A=(h===0?b:b>>>h)&i,U,X=S===A?[ny(l,c,h+r,b,m)]:(U=new ra(c,b,m),S<A?[l,U]:[U,l]);return new eu(c,1<<S|1<<A,X)}function tu(l,c,h,b){l||(l=new u);for(var m=new ra(l,gr(h),[h,b]),S=0;S<c.length;S++){var A=c[S];m=m.update(l,0,void 0,A[0],A[1])}return m}function Ag(l,c,h,b){for(var m=0,S=0,A=new Array(h),U=0,X=1,ue=c.length;U<ue;U++,X<<=1){var le=c[U];le!==void 0&&U!==b&&(m|=X,A[S++]=le)}return new eu(l,m,A)}function xg(l,c,h,b,m){for(var S=0,A=new Array(n),U=0;h!==0;U++,h>>>=1)A[U]=h&1?c[S++]:void 0;return A[b]=m,new ic(l,S+1,A)}function si(l){return l-=l>>1&1431655765,l=(l&858993459)+(l>>2&858993459),l=l+(l>>4)&252645135,l+=l>>8,l+=l>>16,l&127}function Ta(l,c,h,b){var m=b?l:Ni(l);return m[c]=h,m}function ru(l,c,h,b){var m=l.length+1;if(b&&c+1===m)return l[c]=h,l;for(var S=new Array(m),A=0,U=0;U<m;U++)U===c?(S[U]=h,A=-1):S[U]=l[U+A];return S}function xr(l,c,h){var b=l.length-1;if(h&&c===b)return l.pop(),l;for(var m=new Array(b),S=0,A=0;A<b;A++)A===c&&(S=1),m[A]=l[A+S];return m}var Xa=n/4,ql=n/2,Gn=n/4,Cn="@@__IMMUTABLE_LIST__@@";function Ea(l){return Boolean(l&&l[Cn])}var na=function(l){function c(h){var b=Ja();if(h==null)return b;if(Ea(h))return h;var m=l(h),S=m.size;return S===0?b:(kn(S),S>0&&S<n?oi(0,S,r,null,new Qn(m.toArray())):b.withMutations(function(A){A.setSize(S),m.forEach(function(U,X){return A.set(X,U)})}))}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.of=function(){return this(arguments)},c.prototype.toString=function(){return this.__toString("List [","]")},c.prototype.get=function(b,m){if(b=f(this,b),b>=0&&b<this.size){b+=this._origin;var S=Pg(this,b);return S&&S.array[b&i]}return m},c.prototype.set=function(b,m){return Ll(this,b,m)},c.prototype.remove=function(b){return this.has(b)?b===0?this.shift():b===this.size-1?this.pop():this.splice(b,1):this},c.prototype.insert=function(b,m){return this.splice(b,0,m)},c.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Ja()},c.prototype.push=function(){var b=arguments,m=this.size;return this.withMutations(function(S){ao(S,0,m+b.length);for(var A=0;A<b.length;A++)S.set(m+A,b[A])})},c.prototype.pop=function(){return ao(this,0,-1)},c.prototype.unshift=function(){var b=arguments;return this.withMutations(function(m){ao(m,-b.length);for(var S=0;S<b.length;S++)m.set(S,b[S])})},c.prototype.shift=function(){return ao(this,1)},c.prototype.concat=function(){for(var b=arguments,m=[],S=0;S<arguments.length;S++){var A=b[S],U=l(typeof A!="string"&&Ue(A)?A:[A]);U.size!==0&&m.push(U)}return m.length===0?this:this.size===0&&!this.__ownerID&&m.length===1?this.constructor(m[0]):this.withMutations(function(X){m.forEach(function(ue){return ue.forEach(function(le){return X.push(le)})})})},c.prototype.setSize=function(b){return ao(this,0,b)},c.prototype.map=function(b,m){var S=this;return this.withMutations(function(A){for(var U=0;U<S.size;U++)A.set(U,b.call(m,A.get(U),U,S))})},c.prototype.slice=function(b,m){var S=this.size;return y(b,m,S)?this:ao(this,g(b,S),v(m,S))},c.prototype.__iterator=function(b,m){var S=m?this.size:0,A=Qp(this,m);return new oe(function(){var U=A();return U===$a?Oe():pe(b,m?--S:S++,U)})},c.prototype.__iterate=function(b,m){for(var S=m?this.size:0,A=Qp(this,m),U;(U=A())!==$a&&b(U,m?--S:S++,this)!==!1;);return S},c.prototype.__ensureOwner=function(b){return b===this.__ownerID?this:b?oi(this._origin,this._capacity,this._level,this._root,this._tail,b,this.__hash):this.size===0?Ja():(this.__ownerID=b,this.__altered=!1,this)},c}(x);na.isList=Ea;var Vr=na.prototype;Vr[Cn]=!0,Vr[e]=Vr.remove,Vr.merge=Vr.concat,Vr.setIn=Nn,Vr.deleteIn=Vr.removeIn=wn,Vr.update=lr,Vr.updateIn=Dn,Vr.mergeIn=Up,Vr.mergeDeepIn=Vp,Vr.withMutations=Rs,Vr.wasAltered=As,Vr.asImmutable=rc,Vr["@@transducer/init"]=Vr.asMutable=tc,Vr["@@transducer/step"]=function(l,c){return l.push(c)},Vr["@@transducer/result"]=function(l){return l.asImmutable()};var Qn=function(c,h){this.array=c,this.ownerID=h};Qn.prototype.removeBefore=function(c,h,b){if(b===h?1<<h:this.array.length===0)return this;var m=b>>>h&i;if(m>=this.array.length)return new Qn([],c);var S=m===0,A;if(h>0){var U=this.array[m];if(A=U&&U.removeBefore(c,h-r,b),A===U&&S)return this}if(S&&!A)return this;var X=ac(this,c);if(!S)for(var ue=0;ue<m;ue++)X.array[ue]=void 0;return A&&(X.array[m]=A),X},Qn.prototype.removeAfter=function(c,h,b){if(b===(h?1<<h:0)||this.array.length===0)return this;var m=b-1>>>h&i;if(m>=this.array.length)return this;var S;if(h>0){var A=this.array[m];if(S=A&&A.removeAfter(c,h-r,b),S===A&&m===this.array.length-1)return this}var U=ac(this,c);return U.array.splice(m+1),S&&(U.array[m]=S),U};var $a={};function Qp(l,c){var h=l._origin,b=l._capacity,m=nu(b),S=l._tail;return A(l._root,l._level,0);function A(ue,le,Re){return le===0?U(ue,Re):X(ue,le,Re)}function U(ue,le){var Re=le===m?S&&S.array:ue&&ue.array,He=le>h?0:h-le,_t=b-le;return _t>n&&(_t=n),function(){if(He===_t)return $a;var ht=c?--_t:He++;return Re&&Re[ht]}}function X(ue,le,Re){var He,_t=ue&&ue.array,ht=Re>h?0:h-Re>>le,Ct=(b-Re>>le)+1;return Ct>n&&(Ct=n),function(){for(;;){if(He){var Oa=He();if(Oa!==$a)return Oa;He=null}if(ht===Ct)return $a;var oo=c?--Ct:ht++;He=A(_t&&_t[oo],le-r,Re+(oo<<le))}}}}function oi(l,c,h,b,m,S,A){var U=Object.create(Vr);return U.size=c-l,U._origin=l,U._capacity=c,U._level=h,U._root=b,U._tail=m,U.__ownerID=S,U.__hash=A,U.__altered=!1,U}var Ig;function Ja(){return Ig||(Ig=oi(0,0,r))}function Ll(l,c,h){if(c=f(l,c),c!==c)return l;if(c>=l.size||c<0)return l.withMutations(function(A){c<0?ao(A,c).set(0,h):ao(A,0,c+1).set(c,h)});c+=l._origin;var b=l._tail,m=l._root,S=s();return c>=nu(l._capacity)?b=zp(b,l.__ownerID,0,c,h,S):m=zp(m,l.__ownerID,l._level,c,h,S),S.value?l.__ownerID?(l._root=m,l._tail=b,l.__hash=void 0,l.__altered=!0,l):oi(l._origin,l._capacity,l._level,m,b):l}function zp(l,c,h,b,m,S){var A=b>>>h&i,U=l&&A<l.array.length;if(!U&&m===void 0)return l;var X;if(h>0){var ue=l&&l.array[A],le=zp(ue,c,h-r,b,m,S);return le===ue?l:(X=ac(l,c),X.array[A]=le,X)}return U&&l.array[A]===m?l:(S&&o(S),X=ac(l,c),m===void 0&&A===X.array.length-1?X.array.pop():X.array[A]=m,X)}function ac(l,c){return c&&l&&c===l.ownerID?l:new Qn(l?l.array.slice():[],c)}function Pg(l,c){if(c>=nu(l._capacity))return l._tail;if(c<1<<l._level+r){for(var h=l._root,b=l._level;h&&b>0;)h=h.array[c>>>b&i],b-=r;return h}}function ao(l,c,h){c!==void 0&&(c|=0),h!==void 0&&(h|=0);var b=l.__ownerID||new u,m=l._origin,S=l._capacity,A=m+c,U=h===void 0?S:h<0?S+h:m+h;if(A===m&&U===S)return l;if(A>=U)return l.clear();for(var X=l._level,ue=l._root,le=0;A+le<0;)ue=new Qn(ue&&ue.array.length?[void 0,ue]:[],b),X+=r,le+=1<<X;le&&(A+=le,m+=le,U+=le,S+=le);for(var Re=nu(S),He=nu(U);He>=1<<X+r;)ue=new Qn(ue&&ue.array.length?[ue]:[],b),X+=r;var _t=l._tail,ht=He<Re?Pg(l,U-1):He>Re?new Qn([],b):_t;if(_t&&He>Re&&A<S&&_t.array.length){ue=ac(ue,b);for(var Ct=ue,Oa=X;Oa>r;Oa-=r){var oo=Re>>>Oa&i;Ct=Ct.array[oo]=ac(Ct.array[oo],b)}Ct.array[Re>>>r&i]=_t}if(U<S&&(ht=ht&&ht.removeAfter(b,0,U)),A>=He)A-=He,U-=He,X=r,ue=null,ht=ht&&ht.removeBefore(b,0,A);else if(A>m||He<Re){for(le=0;ue;){var Fl=A>>>X&i;if(Fl!==He>>>X&i)break;Fl&&(le+=(1<<X)*Fl),X-=r,ue=ue.array[Fl]}ue&&A>m&&(ue=ue.removeBefore(b,X,A-le)),ue&&He<Re&&(ue=ue.removeAfter(b,X,He-le)),le&&(A-=le,U-=le)}return l.__ownerID?(l.size=U-A,l._origin=A,l._capacity=U,l._level=X,l._root=ue,l._tail=ht,l.__hash=void 0,l.__altered=!0,l):oi(A,U,X,ue,ht)}function nu(l){return l<n?0:l-1>>>r<<r}var ia=function(l){function c(h){return h==null?iu():$e(h)?h:iu().withMutations(function(b){var m=Y(h);kn(m.size),m.forEach(function(S,A){return b.set(A,S)})})}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.of=function(){return this(arguments)},c.prototype.toString=function(){return this.__toString("OrderedMap {","}")},c.prototype.get=function(b,m){var S=this._map.get(b);return S!==void 0?this._list.get(S)[1]:m},c.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):iu()},c.prototype.set=function(b,m){return IO(this,b,m)},c.prototype.remove=function(b){return IO(this,b,a)},c.prototype.__iterate=function(b,m){var S=this;return this._list.__iterate(function(A){return A&&b(A[1],A[0],S)},m)},c.prototype.__iterator=function(b,m){return this._list.fromEntrySeq().__iterator(b,m)},c.prototype.__ensureOwner=function(b){if(b===this.__ownerID)return this;var m=this._map.__ensureOwner(b),S=this._list.__ensureOwner(b);return b?iy(m,S,b,this.__hash):this.size===0?iu():(this.__ownerID=b,this.__altered=!1,this._map=m,this._list=S,this)},c}(_n);ia.isOrderedMap=$e,ia.prototype[de]=!0,ia.prototype[e]=ia.prototype.remove;function iy(l,c,h,b){var m=Object.create(ia.prototype);return m.size=l?l.size:0,m._map=l,m._list=c,m.__ownerID=h,m.__hash=b,m.__altered=!1,m}var Ng;function iu(){return Ng||(Ng=iy(ai(),Ja()))}function IO(l,c,h){var b=l._map,m=l._list,S=b.get(c),A=S!==void 0,U,X;if(h===a){if(!A)return l;m.size>=n&&m.size>=b.size*2?(X=m.filter(function(ue,le){return ue!==void 0&&S!==le}),U=X.toKeyedSeq().map(function(ue){return ue[0]}).flip().toMap(),l.__ownerID&&(U.__ownerID=X.__ownerID=l.__ownerID)):(U=b.remove(c),X=S===m.size-1?m.pop():m.set(S,void 0))}else if(A){if(h===m.get(S)[1])return l;U=b,X=m.set(S,[c,h])}else U=b.set(c,m.size),X=m.set(m.size,[c,h]);return l.__ownerID?(l.size=U.size,l._map=U,l._list=X,l.__hash=void 0,l.__altered=!0,l):iy(U,X)}var au="@@__IMMUTABLE_STACK__@@";function su(l){return Boolean(l&&l[au])}var Ml=function(l){function c(h){return h==null?Wp():su(h)?h:Wp().pushAll(h)}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.of=function(){return this(arguments)},c.prototype.toString=function(){return this.__toString("Stack [","]")},c.prototype.get=function(b,m){var S=this._head;for(b=f(this,b);S&&b--;)S=S.next;return S?S.value:m},c.prototype.peek=function(){return this._head&&this._head.value},c.prototype.push=function(){var b=arguments;if(arguments.length===0)return this;for(var m=this.size+arguments.length,S=this._head,A=arguments.length-1;A>=0;A--)S={value:b[A],next:S};return this.__ownerID?(this.size=m,this._head=S,this.__hash=void 0,this.__altered=!0,this):ou(m,S)},c.prototype.pushAll=function(b){if(b=l(b),b.size===0)return this;if(this.size===0&&su(b))return b;kn(b.size);var m=this.size,S=this._head;return b.__iterate(function(A){m++,S={value:A,next:S}},!0),this.__ownerID?(this.size=m,this._head=S,this.__hash=void 0,this.__altered=!0,this):ou(m,S)},c.prototype.pop=function(){return this.slice(1)},c.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Wp()},c.prototype.slice=function(b,m){if(y(b,m,this.size))return this;var S=g(b,this.size),A=v(m,this.size);if(A!==this.size)return l.prototype.slice.call(this,b,m);for(var U=this.size-S,X=this._head;S--;)X=X.next;return this.__ownerID?(this.size=U,this._head=X,this.__hash=void 0,this.__altered=!0,this):ou(U,X)},c.prototype.__ensureOwner=function(b){return b===this.__ownerID?this:b?ou(this.size,this._head,b,this.__hash):this.size===0?Wp():(this.__ownerID=b,this.__altered=!1,this)},c.prototype.__iterate=function(b,m){var S=this;if(m)return new ne(this.toArray()).__iterate(function(X,ue){return b(X,ue,S)},m);for(var A=0,U=this._head;U&&b(U.value,A++,this)!==!1;)U=U.next;return A},c.prototype.__iterator=function(b,m){if(m)return new ne(this.toArray()).__iterator(b,m);var S=0,A=this._head;return new oe(function(){if(A){var U=A.value;return A=A.next,pe(b,S++,U)}return Oe()})},c}(x);Ml.isStack=su;var Sn=Ml.prototype;Sn[au]=!0,Sn.shift=Sn.pop,Sn.unshift=Sn.push,Sn.unshiftAll=Sn.pushAll,Sn.withMutations=Rs,Sn.wasAltered=As,Sn.asImmutable=rc,Sn["@@transducer/init"]=Sn.asMutable=tc,Sn["@@transducer/step"]=function(l,c){return l.unshift(c)},Sn["@@transducer/result"]=function(l){return l.asImmutable()};function ou(l,c,h,b){var m=Object.create(Sn);return m.size=l,m._head=c,m.__ownerID=h,m.__hash=b,m.__altered=!1,m}var ay;function Wp(){return ay||(ay=ou(0))}var sc="@@__IMMUTABLE_SET__@@";function oc(l){return Boolean(l&&l[sc])}function uc(l){return oc(l)&&_e(l)}function sy(l,c){if(l===c)return!0;if(!C(c)||l.size!==void 0&&c.size!==void 0&&l.size!==c.size||l.__hash!==void 0&&c.__hash!==void 0&&l.__hash!==c.__hash||w(l)!==w(c)||T(l)!==T(c)||_e(l)!==_e(c))return!1;if(l.size===0&&c.size===0)return!0;var h=!te(l);if(_e(l)){var b=l.entries();return c.every(function(X,ue){var le=b.next().value;return le&&Wt(le[1],X)&&(h||Wt(le[0],ue))})&&b.next().done}var m=!1;if(l.size===void 0)if(c.size===void 0)typeof l.cacheResult=="function"&&l.cacheResult();else{m=!0;var S=l;l=c,c=S}var A=!0,U=c.__iterate(function(X,ue){if(h?!l.has(X):m?!Wt(X,l.get(ue,a)):!Wt(l.get(ue,a),X))return A=!1,!1});return A&&l.size===U}function pt(l,c){var h=function(b){l.prototype[b]=c[b]};return Object.keys(c).forEach(h),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(c).forEach(h),l}function he(l){if(!l||typeof l!="object")return l;if(!C(l)){if(!Z(l))return l;l=B(l)}if(w(l)){var c={};return l.__iterate(function(b,m){c[m]=he(b)}),c}var h=[];return l.__iterate(function(b){h.push(he(b))}),h}var ce=function(l){function c(h){return h==null?I():oc(h)&&!_e(h)?h:I().withMutations(function(b){var m=l(h);kn(m.size),m.forEach(function(S){return b.add(S)})})}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.of=function(){return this(arguments)},c.fromKeys=function(b){return this(Y(b).keySeq())},c.intersect=function(b){return b=ee(b).toArray(),b.length?ye.intersect.apply(c(b.pop()),b):I()},c.union=function(b){return b=ee(b).toArray(),b.length?ye.union.apply(c(b.pop()),b):I()},c.prototype.toString=function(){return this.__toString("Set {","}")},c.prototype.has=function(b){return this._map.has(b)},c.prototype.add=function(b){return Ie(this,this._map.set(b,b))},c.prototype.remove=function(b){return Ie(this,this._map.remove(b))},c.prototype.clear=function(){return Ie(this,this._map.clear())},c.prototype.map=function(b,m){var S=this,A=!1,U=Ie(this,this._map.mapEntries(function(X){var ue=X[1],le=b.call(m,ue,ue,S);return le!==ue&&(A=!0),[le,le]},m));return A?U:this},c.prototype.union=function(){for(var b=[],m=arguments.length;m--;)b[m]=arguments[m];return b=b.filter(function(S){return S.size!==0}),b.length===0?this:this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(S){for(var A=0;A<b.length;A++)l(b[A]).forEach(function(U){return S.add(U)})})},c.prototype.intersect=function(){for(var b=[],m=arguments.length;m--;)b[m]=arguments[m];if(b.length===0)return this;b=b.map(function(A){return l(A)});var S=[];return this.forEach(function(A){b.every(function(U){return U.includes(A)})||S.push(A)}),this.withMutations(function(A){S.forEach(function(U){A.remove(U)})})},c.prototype.subtract=function(){for(var b=[],m=arguments.length;m--;)b[m]=arguments[m];if(b.length===0)return this;b=b.map(function(A){return l(A)});var S=[];return this.forEach(function(A){b.some(function(U){return U.includes(A)})&&S.push(A)}),this.withMutations(function(A){S.forEach(function(U){A.remove(U)})})},c.prototype.sort=function(b){return sa(Un(this,b))},c.prototype.sortBy=function(b,m){return sa(Un(this,m,b))},c.prototype.wasAltered=function(){return this._map.wasAltered()},c.prototype.__iterate=function(b,m){var S=this;return this._map.__iterate(function(A){return b(A,A,S)},m)},c.prototype.__iterator=function(b,m){return this._map.__iterator(b,m)},c.prototype.__ensureOwner=function(b){if(b===this.__ownerID)return this;var m=this._map.__ensureOwner(b);return b?this.__make(m,b):this.size===0?this.__empty():(this.__ownerID=b,this._map=m,this)},c}(H);ce.isSet=oc;var ye=ce.prototype;ye[sc]=!0,ye[e]=ye.remove,ye.merge=ye.concat=ye.union,ye.withMutations=Rs,ye.asImmutable=rc,ye["@@transducer/init"]=ye.asMutable=tc,ye["@@transducer/step"]=function(l,c){return l.add(c)},ye["@@transducer/result"]=function(l){return l.asImmutable()},ye.__empty=I,ye.__make=it;function Ie(l,c){return l.__ownerID?(l.size=c.size,l._map=c,l):c===l._map?l:c.size===0?l.__empty():l.__make(c)}function it(l,c){var h=Object.create(ye);return h.size=l?l.size:0,h._map=l,h.__ownerID=c,h}var Tt;function I(){return Tt||(Tt=it(ai()))}var Tn=function(l){function c(h,b,m){if(!(this instanceof c))return new c(h,b,m);if(Di(m!==0,"Cannot step a Range by 0"),h=h||0,b===void 0&&(b=1/0),m=m===void 0?1:Math.abs(m),b<h&&(m=-m),this._start=h,this._end=b,this._step=m,this.size=Math.max(0,Math.ceil((b-h)/m-1)+1),this.size===0){if(q)return q;q=this}}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},c.prototype.get=function(b,m){return this.has(b)?this._start+f(this,b)*this._step:m},c.prototype.includes=function(b){var m=(b-this._start)/this._step;return m>=0&&m<this.size&&m===Math.floor(m)},c.prototype.slice=function(b,m){return y(b,m,this.size)?this:(b=g(b,this.size),m=v(m,this.size),m<=b?new c(0,0):new c(this.get(b,this._end),this.get(m,this._end),this._step))},c.prototype.indexOf=function(b){var m=b-this._start;if(m%this._step===0){var S=m/this._step;if(S>=0&&S<this.size)return S}return-1},c.prototype.lastIndexOf=function(b){return this.indexOf(b)},c.prototype.__iterate=function(b,m){for(var S=this.size,A=this._step,U=m?this._start+(S-1)*A:this._start,X=0;X!==S&&b(U,m?S-++X:X++,this)!==!1;)U+=m?-A:A;return X},c.prototype.__iterator=function(b,m){var S=this.size,A=this._step,U=m?this._start+(S-1)*A:this._start,X=0;return new oe(function(){if(X===S)return Oe();var ue=U;return U+=m?-A:A,pe(b,m?S-++X:X++,ue)})},c.prototype.equals=function(b){return b instanceof c?this._start===b._start&&this._end===b._end&&this._step===b._step:sy(this,b)},c}(K),q;function qi(l,c,h){for(var b=Zo(c),m=0;m!==b.length;)if(l=Ve(l,b[m++],a),l===a)return h;return l}function cc(l,c){return qi(this,l,c)}function lc(l,c){return qi(l,c,a)!==a}function Kp(l){return lc(this,l)}function dc(){kn(this.size);var l={};return this.__iterate(function(c,h){l[h]=c}),l}ee.isIterable=C,ee.isKeyed=w,ee.isIndexed=T,ee.isAssociative=te,ee.isOrdered=_e,ee.Iterator=oe,pt(ee,{toArray:function(){kn(this.size);var c=new Array(this.size||0),h=w(this),b=0;return this.__iterate(function(m,S){c[b++]=h?[S,m]:m}),c},toIndexedSeq:function(){return new Bn(this)},toJS:function(){return he(this)},toKeyedSeq:function(){return new Yr(this,!0)},toMap:function(){return _n(this.toKeyedSeq())},toObject:dc,toOrderedMap:function(){return ia(this.toKeyedSeq())},toOrderedSet:function(){return sa(w(this)?this.valueSeq():this)},toSet:function(){return ce(w(this)?this.valueSeq():this)},toSetSeq:function(){return new Rr(this)},toSeq:function(){return T(this)?this.toIndexedSeq():w(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ml(w(this)?this.valueSeq():this)},toList:function(){return na(w(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(c,h){return this.size===0?c+h:c+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+h},concat:function(){for(var c=[],h=arguments.length;h--;)c[h]=arguments[h];return lt(this,ka(this,c))},includes:function(c){return this.some(function(h){return Wt(h,c)})},entries:function(){return this.__iterator(ze)},every:function(c,h){kn(this.size);var b=!0;return this.__iterate(function(m,S,A){if(!c.call(h,m,S,A))return b=!1,!1}),b},filter:function(c,h){return lt(this,Ji(this,c,h,!0))},find:function(c,h,b){var m=this.findEntry(c,h);return m?m[1]:b},forEach:function(c,h){return kn(this.size),this.__iterate(h?c.bind(h):c)},join:function(c){kn(this.size),c=c!==void 0?""+c:",";var h="",b=!0;return this.__iterate(function(m){b?b=!1:h+=c,h+=m!=null?m.toString():""}),h},keys:function(){return this.__iterator(Ce)},map:function(c,h){return lt(this,pn(this,c,h))},reduce:function(c,h,b){return uu(this,c,h,b,arguments.length<2,!1)},reduceRight:function(c,h,b){return uu(this,c,h,b,arguments.length<2,!0)},reverse:function(){return lt(this,wa(this,!0))},slice:function(c,h){return lt(this,eo(this,c,h,!0))},some:function(c,h){return!this.every(kt(c),h)},sort:function(c){return lt(this,Un(this,c))},values:function(){return this.__iterator(nt)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(c,h){return d(c?this.toSeq().filter(c,h):this)},countBy:function(c,h){return Mp(this,c,h)},equals:function(c){return sy(this,c)},entrySeq:function(){var c=this;if(c._cache)return new ne(c._cache);var h=c.toSeq().map(wr).toIndexedSeq();return h.fromEntrySeq=function(){return c.toSeq()},h},filterNot:function(c,h){return this.filter(kt(c),h)},findEntry:function(c,h,b){var m=b;return this.__iterate(function(S,A,U){if(c.call(h,S,A,U))return m=[A,S],!1}),m},findKey:function(c,h){var b=this.findEntry(c,h);return b&&b[0]},findLast:function(c,h,b){return this.toKeyedSeq().reverse().find(c,h,b)},findLastEntry:function(c,h,b){return this.toKeyedSeq().reverse().findEntry(c,h,b)},findLastKey:function(c,h){return this.toKeyedSeq().reverse().findKey(c,h)},first:function(c){return this.find(p,null,c)},flatMap:function(c,h){return lt(this,Sa(this,c,h))},flatten:function(c){return lt(this,Zi(this,c,!0))},fromEntrySeq:function(){return new Ts(this)},get:function(c,h){return this.find(function(b,m){return Wt(m,c)},void 0,h)},getIn:cc,groupBy:function(c,h){return Yi(this,c,h)},has:function(c){return this.get(c,a)!==a},hasIn:Kp,isSubset:function(c){return c=typeof c.includes=="function"?c:ee(c),this.every(function(h){return c.includes(h)})},isSuperset:function(c){return c=typeof c.isSubset=="function"?c:ee(c),c.isSubset(this)},keyOf:function(c){return this.findKey(function(h){return Wt(h,c)})},keySeq:function(){return this.toSeq().map(_r).toIndexedSeq()},last:function(c){return this.toSeq().reverse().first(c)},lastKeyOf:function(c){return this.toKeyedSeq().reverse().keyOf(c)},max:function(c){return Ga(this,c)},maxBy:function(c,h){return Ga(this,h,c)},min:function(c){return Ga(this,c?Zt(c):so)},minBy:function(c,h){return Ga(this,h?Zt(h):so,c)},rest:function(){return this.slice(1)},skip:function(c){return c===0?this:this.slice(Math.max(0,c))},skipLast:function(c){return c===0?this:this.slice(0,-Math.max(0,c))},skipWhile:function(c,h){return lt(this,Va(this,c,h,!0))},skipUntil:function(c,h){return this.skipWhile(kt(c),h)},sortBy:function(c,h){return lt(this,Un(this,h,c))},take:function(c){return this.slice(0,Math.max(0,c))},takeLast:function(c){return this.slice(-Math.max(0,c))},takeWhile:function(c,h){return lt(this,Fp(this,c,h))},takeUntil:function(c,h){return this.takeWhile(kt(c),h)},update:function(c){return c(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=aa(this))}});var un=ee.prototype;un[O]=!0,un[ae]=un.values,un.toJSON=un.toArray,un.__toStringMapper=De,un.inspect=un.toSource=function(){return this.toString()},un.chain=un.flatMap,un.contains=un.includes,pt(Y,{flip:function(){return lt(this,Lp(this))},mapEntries:function(c,h){var b=this,m=0;return lt(this,this.toSeq().map(function(S,A){return c.call(h,[A,S],m++,b)}).fromEntrySeq())},mapKeys:function(c,h){var b=this;return lt(this,this.toSeq().flip().map(function(m,S){return c.call(h,m,S,b)}).flip())}});var vr=Y.prototype;vr[R]=!0,vr[ae]=un.entries,vr.toJSON=dc,vr.__toStringMapper=function(l,c){return De(c)+": "+De(l)},pt(x,{toKeyedSeq:function(){return new Yr(this,!1)},filter:function(c,h){return lt(this,Ji(this,c,h,!1))},findIndex:function(c,h){var b=this.findEntry(c,h);return b?b[0]:-1},indexOf:function(c){var h=this.keyOf(c);return h===void 0?-1:h},lastIndexOf:function(c){var h=this.lastKeyOf(c);return h===void 0?-1:h},reverse:function(){return lt(this,wa(this,!1))},slice:function(c,h){return lt(this,eo(this,c,h,!1))},splice:function(c,h){var b=arguments.length;if(h=Math.max(h||0,0),b===0||b===2&&!h)return this;c=g(c,c<0?this.count():this.size);var m=this.slice(0,c);return lt(this,b===1?m:m.concat(Ni(arguments,2),this.slice(c+h)))},findLastIndex:function(c,h){var b=this.findLastEntry(c,h);return b?b[0]:-1},first:function(c){return this.get(0,c)},flatten:function(c){return lt(this,Zi(this,c,!1))},get:function(c,h){return c=f(this,c),c<0||this.size===1/0||this.size!==void 0&&c>this.size?h:this.find(function(b,m){return m===c},void 0,h)},has:function(c){return c=f(this,c),c>=0&&(this.size!==void 0?this.size===1/0||c<this.size:this.indexOf(c)!==-1)},interpose:function(c){return lt(this,Ha(this,c))},interleave:function(){var c=[this].concat(Ni(arguments)),h=ea(this.toSeq(),K.of,c),b=h.flatten(!0);return h.size&&(b.size=h.size*c.length),lt(this,b)},keySeq:function(){return Tn(0,this.size)},last:function(c){return this.get(-1,c)},skipWhile:function(c,h){return lt(this,Va(this,c,h,!1))},zip:function(){var c=[this].concat(Ni(arguments));return lt(this,ea(this,Wn,c))},zipAll:function(){var c=[this].concat(Ni(arguments));return lt(this,ea(this,Wn,c,!0))},zipWith:function(c){var h=Ni(arguments);return h[0]=this,lt(this,ea(this,c,h))}});var zn=x.prototype;zn[P]=!0,zn[de]=!0,pt(H,{get:function(c,h){return this.has(c)?c:h},includes:function(c){return this.has(c)},keySeq:function(){return this.valueSeq()}});var Ya=H.prototype;Ya.has=un.includes,Ya.contains=Ya.includes,Ya.keys=Ya.values,pt(Q,vr),pt(K,zn),pt(W,Ya);function uu(l,c,h,b,m,S){return kn(l.size),l.__iterate(function(A,U,X){m?(m=!1,h=A):h=c.call(b,h,A,U,X)},S),h}function _r(l,c){return c}function wr(l,c){return[c,l]}function kt(l){return function(){return!l.apply(this,arguments)}}function Zt(l){return function(){return-l.apply(this,arguments)}}function Wn(){return Ni(arguments)}function so(l,c){return l<c?1:l>c?-1:0}function aa(l){if(l.size===1/0)return 0;var c=_e(l),h=w(l),b=c?1:0,m=l.__iterate(h?c?function(S,A){b=31*b+Xp(gr(S),gr(A))|0}:function(S,A){b=b+Xp(gr(S),gr(A))|0}:c?function(S){b=31*b+gr(S)|0}:function(S){b=b+gr(S)|0});return Vj(m,b)}function Vj(l,c){return c=Nr(c,3432918353),c=Nr(c<<15|c>>>-15,461845907),c=Nr(c<<13|c>>>-13,5),c=(c+3864292196|0)^l,c=Nr(c^c>>>16,2246822507),c=Nr(c^c>>>13,3266489909),c=Or(c^c>>>16),c}function Xp(l,c){return l^c+2654435769+(l<<6)+(l>>2)|0}var sa=function(l){function c(h){return h==null?fc():uc(h)?h:fc().withMutations(function(b){var m=H(h);kn(m.size),m.forEach(function(S){return b.add(S)})})}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.of=function(){return this(arguments)},c.fromKeys=function(b){return this(Y(b).keySeq())},c.prototype.toString=function(){return this.__toString("OrderedSet {","}")},c}(ce);sa.isOrderedSet=uc;var Za=sa.prototype;Za[de]=!0,Za.zip=zn.zip,Za.zipWith=zn.zipWith,Za.zipAll=zn.zipAll,Za.__empty=fc,Za.__make=es;function es(l,c){var h=Object.create(Za);return h.size=l?l.size:0,h._map=l,h.__ownerID=c,h}var oy;function fc(){return oy||(oy=es(iu()))}function uy(l){if(J(l))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(re(l))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(l===null||typeof l!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var sr=function(c,h){var b;uy(c);var m=function(U){var X=this;if(U instanceof m)return U;if(!(this instanceof m))return new m(U);if(!b){b=!0;var ue=Object.keys(c),le=S._indices={};S._name=h,S._keys=ue,S._defaultValues=c;for(var Re=0;Re<ue.length;Re++){var He=ue[Re];le[He]=Re,S[He]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+NO(this)+' with property "'+He+'" since that property name is part of the Record API.'):xee(S,He)}}return this.__ownerID=void 0,this._values=na().withMutations(function(_t){_t.setSize(X._keys.length),Y(U).forEach(function(ht,Ct){_t.set(X._indices[Ct],ht===X._defaultValues[Ct]?void 0:ht)})}),this},S=m.prototype=Object.create(Dr);return S.constructor=m,h&&(m.displayName=h),m};sr.prototype.toString=function(){for(var c=NO(this)+" { ",h=this._keys,b,m=0,S=h.length;m!==S;m++)b=h[m],c+=(m?", ":"")+b+": "+De(this.get(b));return c+" }"},sr.prototype.equals=function(c){return this===c||J(c)&&$p(this).equals($p(c))},sr.prototype.hashCode=function(){return $p(this).hashCode()},sr.prototype.has=function(c){return this._indices.hasOwnProperty(c)},sr.prototype.get=function(c,h){if(!this.has(c))return h;var b=this._indices[c],m=this._values.get(b);return m===void 0?this._defaultValues[c]:m},sr.prototype.set=function(c,h){if(this.has(c)){var b=this._values.set(this._indices[c],h===this._defaultValues[c]?void 0:h);if(b!==this._values&&!this.__ownerID)return PO(this,b)}return this},sr.prototype.remove=function(c){return this.set(c)},sr.prototype.clear=function(){var c=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:PO(this,c)},sr.prototype.wasAltered=function(){return this._values.wasAltered()},sr.prototype.toSeq=function(){return $p(this)},sr.prototype.toJS=function(){return he(this)},sr.prototype.entries=function(){return this.__iterator(ze)},sr.prototype.__iterator=function(c,h){return $p(this).__iterator(c,h)},sr.prototype.__iterate=function(c,h){return $p(this).__iterate(c,h)},sr.prototype.__ensureOwner=function(c){if(c===this.__ownerID)return this;var h=this._values.__ensureOwner(c);return c?PO(this,h,c):(this.__ownerID=c,this._values=h,this)},sr.isRecord=J,sr.getDescriptiveName=NO;var Dr=sr.prototype;Dr[Me]=!0,Dr[e]=Dr.remove,Dr.deleteIn=Dr.removeIn=wn,Dr.getIn=cc,Dr.hasIn=un.hasIn,Dr.merge=za,Dr.mergeWith=no,Dr.mergeIn=Up,Dr.mergeDeep=Ka,Dr.mergeDeepWith=Y_,Dr.mergeDeepIn=Vp,Dr.setIn=Nn,Dr.update=lr,Dr.updateIn=Dn,Dr.withMutations=Rs,Dr.asMutable=tc,Dr.asImmutable=rc,Dr[ae]=Dr.entries,Dr.toJSON=Dr.toObject=un.toObject,Dr.inspect=Dr.toSource=function(){return this.toString()};function PO(l,c,h){var b=Object.create(Object.getPrototypeOf(l));return b._values=c,b.__ownerID=h,b}function NO(l){return l.constructor.displayName||l.constructor.name||"Record"}function $p(l){return Fe(l._keys.map(function(c){return[c,l.get(c)]}))}function xee(l,c){try{Object.defineProperty(l,c,{get:function(){return this.get(c)},set:function(h){Di(this.__ownerID,"Cannot set on an immutable record."),this.set(c,h)}})}catch{}}var kj=function(l){function c(h,b){if(!(this instanceof c))return new c(h,b);if(this._value=h,this.size=b===void 0?1/0:Math.max(0,b),this.size===0){if(DO)return DO;DO=this}}return l&&(c.__proto__=l),c.prototype=Object.create(l&&l.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},c.prototype.get=function(b,m){return this.has(b)?this._value:m},c.prototype.includes=function(b){return Wt(this._value,b)},c.prototype.slice=function(b,m){var S=this.size;return y(b,m,S)?this:new c(this._value,v(m,S)-g(b,S))},c.prototype.reverse=function(){return this},c.prototype.indexOf=function(b){return Wt(this._value,b)?0:-1},c.prototype.lastIndexOf=function(b){return Wt(this._value,b)?this.size:-1},c.prototype.__iterate=function(b,m){for(var S=this.size,A=0;A!==S&&b(this._value,m?S-++A:A++,this)!==!1;);return A},c.prototype.__iterator=function(b,m){var S=this,A=this.size,U=0;return new oe(function(){return U===A?Oe():pe(b,m?A-++U:U++,S._value)})},c.prototype.equals=function(b){return b instanceof c?Wt(this._value,b._value):sy(b)},c}(K),DO;function Hj(l,c){return Gj([],c||Iee,l,"",c&&c.length>2?[]:void 0,{"":l})}function Gj(l,c,h,b,m,S){if(typeof h!="string"&&!re(h)&&(z(h)||Ue(h)||G(h))){if(~l.indexOf(h))throw new TypeError("Cannot convert circular structure to Immutable");l.push(h),m&&b!==""&&m.push(b);var A=c.call(S,b,B(h).map(function(U,X){return Gj(l,c,U,X,m,h)}),m&&m.slice());return l.pop(),m&&m.pop(),A}return h}function Iee(l,c){return T(c)?c.toList():w(c)?c.toMap():c.toSet()}var Qj="4.1.0",Pee={version:Qj,Collection:ee,Iterable:ee,Seq:B,Map:_n,OrderedMap:ia,List:na,Stack:Ml,Set:ce,OrderedSet:sa,Record:sr,Range:Tn,Repeat:kj,is:Wt,fromJS:Hj,hash:gr,isImmutable:re,isCollection:C,isKeyed:w,isIndexed:T,isAssociative:te,isOrdered:_e,isValueObject:hr,isPlainObject:G,isSeq:Ne,isList:Ea,isMap:ft,isOrderedMap:$e,isStack:su,isSet:oc,isOrderedSet:uc,isRecord:J,get:Ve,getIn:qi,has:je,hasIn:lc,merge:ar,mergeDeep:Wa,mergeWith:en,mergeDeepWith:Os,remove:It,removeIn:Ci,set:$t,setIn:pr,update:Zr,updateIn:Kt},Nee=ee;t.Collection=ee,t.Iterable=Nee,t.List=na,t.Map=_n,t.OrderedMap=ia,t.OrderedSet=sa,t.Range=Tn,t.Record=sr,t.Repeat=kj,t.Seq=B,t.Set=ce,t.Stack=Ml,t.default=Pee,t.fromJS=Hj,t.get=Ve,t.getIn=qi,t.has=je,t.hasIn=lc,t.hash=gr,t.is=Wt,t.isAssociative=te,t.isCollection=C,t.isImmutable=re,t.isIndexed=T,t.isKeyed=w,t.isList=Ea,t.isMap=ft,t.isOrdered=_e,t.isOrderedMap=$e,t.isOrderedSet=uc,t.isPlainObject=G,t.isRecord=J,t.isSeq=Ne,t.isSet=oc,t.isStack=su,t.isValueObject=hr,t.merge=ar,t.mergeDeep=Wa,t.mergeDeepWith=Os,t.mergeWith=en,t.remove=It,t.removeIn=Ci,t.set=$t,t.setIn=pr,t.update=Zr,t.updateIn=Kt,t.version=Qj,Object.defineProperty(t,"__esModule",{value:!0})})});var jO=_(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.ActionContextKey=Yp.ActionContext=void 0;var vq=qg(),pc=class{constructor(e={}){this.map=(0,vq.Map)(e)}setDefault(e,r){return this.has(e)?this:this.set(e,r)}set(e,r){return this.setRaw(e.name,r)}setRaw(e,r){return new pc(this.map.set(e,r))}delete(e){return new pc(this.map.delete(e.name))}get(e){return this.getRaw(e.name)}getRaw(e){return this.map.get(e)}getSafe(e){if(!this.has(e))throw new Error(`Context entry ${e.name} is required but not available`);return this.get(e)}has(e){return this.hasRaw(e.name)}hasRaw(e){return this.map.has(e)}merge(...e){let r=this;for(let n of e)for(let i of n.keys())r=r.set(i,n.get(i));return r}keys(){return[...this.map.keys()].map(e=>new Lg(e))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(e){return e instanceof pc?e:new pc((0,vq.Map)(e||{}))}};Yp.ActionContext=pc;var Lg=class{constructor(e){this.name=e}};Yp.ActionContextKey=Lg});var LO=_(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.Bus=void 0;var qO=class{constructor(e){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,e)}subscribe(e){this.actors.push(e),this.reorderForDependencies()}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){let r=this.actors.indexOf(e);return r>=0?(this.actors.splice(r,1),!0):!1}unsubscribeObserver(e){let r=this.observers.indexOf(e);return r>=0?(this.observers.splice(r,1),!0):!1}publish(e){return this.actors.map(r=>({actor:r,reply:r.test(e)}))}onRun(e,r,n){for(let i of this.observers)i.onRun(e,r,n)}addDependencies(e,r){for(let n of r){let i=this.dependencyLinks.get(n);i||(i=[],this.dependencyLinks.set(n,i)),i.push(e)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){let e=[];for(let r of this.dependencyLinks.keys()){let n=this.actors.indexOf(r);n>=0&&(this.actors.splice(n,1),e.push(r))}for(;e.length>0;){let r=-1;for(let i=0;i<e.length;i++){let a=!0;for(let s of this.dependencyLinks.get(e[i]))if(!this.actors.includes(s)&&e.includes(s)){a=!1;break}if(a){r=i;break}}if(r<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);let n=e.splice(r,1)[0];this.actors.push(n)}}}};Mg.Bus=qO});var wq=_(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.BusIndexed=void 0;var Uee=LO(),MO=class extends Uee.Bus{constructor(e){super(e),this.actorsIndex={}}subscribe(e){let r=this.getActorIdentifier(e)||"_undefined_",n=this.actorsIndex[r];n||(n=this.actorsIndex[r]=[]),n.push(e),super.subscribe(e)}unsubscribe(e){let r=this.getActorIdentifier(e)||"_undefined_",n=this.actorsIndex[r];if(n){let i=n.indexOf(e);i>=0&&n.splice(i,1),n.length===0&&delete this.actorsIndex[r]}return super.unsubscribe(e)}publish(e){let r=this.getActionIdentifier(e);return r?[...this.actorsIndex[r]||[],...this.actorsIndex._undefined_||[]].map(i=>({actor:i,reply:i.test(e)})):super.publish(e)}getActorIdentifier(e){return this.actorIdentifierFields.reduce((r,n)=>r[n],e)}getActionIdentifier(e){return this.actionIdentifierFields.reduce((r,n)=>r[n],e)}};Fg.BusIndexed=MO});var FO=_(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.CONTEXT_KEY_LOGGER=void 0;var Vee=jO();Bg.CONTEXT_KEY_LOGGER=new Vee.ActionContextKey("@comunica/core:log")});var Sq=_(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.ActionObserver=void 0;var BO=class{constructor(e){Object.assign(this,e)}};Ug.ActionObserver=BO});var Tq=_(Vg=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.Actor=void 0;var kee=FO(),uo=class{constructor(e){this.beforeActors=[],Object.assign(this,e),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(e){return e.get(kee.CONTEXT_KEY_LOGGER)}runObservable(e){let r=this.run(e);return this.bus.onRun(this,e,r),r}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(e,r){let n=r?r():{};return n.actor=this.name,n}logTrace(e,r,n){let i=uo.getContextLogger(e);i&&i.trace(r,this.getDefaultLogData(e,n))}logDebug(e,r,n){let i=uo.getContextLogger(e);i&&i.debug(r,this.getDefaultLogData(e,n))}logInfo(e,r,n){let i=uo.getContextLogger(e);i&&i.info(r,this.getDefaultLogData(e,n))}logWarn(e,r,n){let i=uo.getContextLogger(e);i&&i.warn(r,this.getDefaultLogData(e,n))}logError(e,r,n){let i=uo.getContextLogger(e);i&&i.error(r,this.getDefaultLogData(e,n))}logFatal(e,r,n){let i=uo.getContextLogger(e);i&&i.fatal(r,this.getDefaultLogData(e,n))}};Vg.Actor=uo});var Eq=_(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.Mediator=void 0;var UO=class{constructor(e){Object.assign(this,e)}publish(e){let r=this.bus.publish(e);if(r.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return r}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediate(e){return(await this.mediateActor(e)).runObservable(e)}};kg.Mediator=UO});var Je=_(Mi=>{"use strict";var Hee=Mi&&Mi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bl=Mi&&Mi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Hee(e,t,r)};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.Logger=void 0;var Gee=CO(),Qee=Gee.Logger;Mi.Logger=Qee;Bl(jO(),Mi);Bl(LO(),Mi);Bl(wq(),Mi);Bl(FO(),Mi);Bl(Sq(),Mi);Bl(Tq(),Mi);Bl(Eq(),Mi)});var Oq=_(Hg=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.ActorInit=void 0;var zee=Je(),VO=class extends zee.Actor{constructor(e){super(e)}};Hg.ActorInit=VO});var Rq=_(Ul=>{"use strict";var Wee=Ul&&Ul.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kee=Ul&&Ul.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Wee(e,t,r)};Object.defineProperty(Ul,"__esModule",{value:!0});Kee(Oq(),Ul)});var HO=_(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.ActorInitQueryBase=void 0;var Xee=Rq(),kO=class extends Xee.ActorInit{constructor(e){super(e)}async test(e){return!0}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}};Gg.ActorInitQueryBase=kO});var Nq=_(($6e,Pq)=>{var cn=Pq.exports={},co,lo;function GO(){throw new Error("setTimeout has not been defined")}function QO(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?co=setTimeout:co=GO}catch{co=GO}try{typeof clearTimeout=="function"?lo=clearTimeout:lo=QO}catch{lo=QO}})();function Aq(t){if(co===setTimeout)return setTimeout(t,0);if((co===GO||!co)&&setTimeout)return co=setTimeout,setTimeout(t,0);try{return co(t,0)}catch{try{return co.call(null,t,0)}catch{return co.call(this,t,0)}}}function $ee(t){if(lo===clearTimeout)return clearTimeout(t);if((lo===QO||!lo)&&clearTimeout)return lo=clearTimeout,clearTimeout(t);try{return lo(t)}catch{try{return lo.call(null,t)}catch{return lo.call(this,t)}}}var cu=[],Zp=!1,Vl,Qg=-1;function Jee(){!Zp||!Vl||(Zp=!1,Vl.length?cu=Vl.concat(cu):Qg=-1,cu.length&&xq())}function xq(){if(!Zp){var t=Aq(Jee);Zp=!0;for(var e=cu.length;e;){for(Vl=cu,cu=[];++Qg<e;)Vl&&Vl[Qg].run();Qg=-1,e=cu.length}Vl=null,Zp=!1,$ee(t)}}cn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];cu.push(new Iq(t,e)),cu.length===1&&!Zp&&Aq(xq)};function Iq(t,e){this.fun=t,this.array=e}Iq.prototype.run=function(){this.fun.apply(null,this.array)};cn.title="browser";cn.browser=!0;cn.env={};cn.argv=[];cn.version="";cn.versions={};function lu(){}cn.on=lu;cn.addListener=lu;cn.once=lu;cn.off=lu;cn.removeListener=lu;cn.removeAllListeners=lu;cn.emit=lu;cn.prependListener=lu;cn.prependOnceListener=lu;cn.listeners=function(t){return[]};cn.binding=function(t){throw new Error("process.binding is not supported")};cn.cwd=function(){return"/"};cn.chdir=function(t){throw new Error("process.chdir is not supported")};cn.umask=function(){return 0}});var Dq=_(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.ActorInitQuery=void 0;var Yee=HO();typeof process>"u"&&(global.process=Nq());var zO=class extends Yee.ActorInitQueryBase{};zg.ActorInitQuery=zO});var Cq=_(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.KeysRdfUpdateQuads=tn.KeysRdfResolveQuadPattern=tn.KeysRdfParseHtmlScript=tn.KeysRdfParseJsonLd=tn.KeysQueryOperation=tn.KeysInitQuery=tn.KeysHttpProxy=tn.KeysHttpMemento=tn.KeysHttp=tn.KeysCore=void 0;var Ot=Je();tn.KeysCore={log:Ot.CONTEXT_KEY_LOGGER};tn.KeysHttp={includeCredentials:new Ot.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new Ot.ActionContextKey("@comunica/bus-http:auth"),fetch:new Ot.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new Ot.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new Ot.ActionContextKey("@comunica/bus-http:http-body-timeout")};tn.KeysHttpMemento={datetime:new Ot.ActionContextKey("@comunica/actor-http-memento:datetime")};tn.KeysHttpProxy={httpProxyHandler:new Ot.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")};tn.KeysInitQuery={initialBindings:new Ot.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new Ot.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new Ot.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new Ot.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new Ot.ActionContextKey("@comunica/actor-init-query:queryString"),query:new Ot.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new Ot.ActionContextKey("@comunica/actor-init-query:baseIRI"),queryTimestamp:new Ot.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new Ot.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new Ot.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new Ot.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new Ot.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new Ot.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new Ot.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new Ot.ActionContextKey("@context")};tn.KeysQueryOperation={operation:new Ot.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new Ot.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new Ot.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new Ot.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new Ot.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new Ot.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new Ot.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new Ot.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph")};tn.KeysRdfParseJsonLd={documentLoader:new Ot.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new Ot.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new Ot.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")};tn.KeysRdfParseHtmlScript={processingHtmlScript:new Ot.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new Ot.ActionContextKey("extractAllScripts")};tn.KeysRdfResolveQuadPattern={sources:new Ot.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sources"),source:new Ot.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:source"),sourceIds:new Ot.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sourceIds")};tn.KeysRdfUpdateQuads={destination:new Ot.ActionContextKey("@comunica/bus-rdf-update-quads:destination")}});var Cr=_(kl=>{"use strict";var Zee=kl&&kl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ete=kl&&kl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zee(e,t,r)};Object.defineProperty(kl,"__esModule",{value:!0});ete(Cq(),kl)});var jq=_(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.BlankNodeScoped=void 0;var WO=class{constructor(e,r){this.termType="BlankNode",this.value=e,this.skolemized=r}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}};Wg.BlankNodeScoped=WO});var qq=_(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.BlankNodeBindingsScoped=void 0;var KO=class{constructor(e){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=e}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}};Kg.BlankNodeBindingsScoped=KO});var Xg=_(_c=>{"use strict";var tte=_c&&_c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Lq=_c&&_c.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tte(e,t,r)};Object.defineProperty(_c,"__esModule",{value:!0});Lq(jq(),_c);Lq(qq(),_c)});var $O=_($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.BlankNode=void 0;var XO=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}};$g.BlankNode=XO});var JO=_(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.DefaultGraph=void 0;var cy=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&e.termType==="DefaultGraph"}};Jg.DefaultGraph=cy;cy.INSTANCE=new cy});var Zg=_(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.NamedNode=void 0;var YO=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&e.termType==="NamedNode"&&e.value===this.value}};Yg.NamedNode=YO});var ZO=_(e1=>{"use strict";Object.defineProperty(e1,"__esModule",{value:!0});e1.Literal=void 0;var Mq=Zg(),yc=class{constructor(e,r){this.termType="Literal",this.value=e,typeof r=="string"?(this.language=r,this.datatype=yc.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=yc.XSD_STRING)}equals(e){return!!e&&e.termType==="Literal"&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}};e1.Literal=yc;yc.RDF_LANGUAGE_STRING=new Mq.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");yc.XSD_STRING=new Mq.NamedNode("http://www.w3.org/2001/XMLSchema#string")});var tR=_(t1=>{"use strict";Object.defineProperty(t1,"__esModule",{value:!0});t1.Quad=void 0;var eR=class{constructor(e,r,n,i){this.termType="Quad",this.value="",this.subject=e,this.predicate=r,this.object=n,this.graph=i}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}};t1.Quad=eR});var nR=_(r1=>{"use strict";Object.defineProperty(r1,"__esModule",{value:!0});r1.Variable=void 0;var rR=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&e.termType==="Variable"&&e.value===this.value}};r1.Variable=rR});var Bq=_(n1=>{"use strict";Object.defineProperty(n1,"__esModule",{value:!0});n1.DataFactory=void 0;var rte=$O(),nte=JO(),Fq=ZO(),ite=Zg(),ate=tR(),ste=nR(),ote=0,iR=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${ote++}_`}namedNode(e){return new ite.NamedNode(e)}blankNode(e){return new rte.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,r){return new Fq.Literal(e,r)}variable(e){return new ste.Variable(e)}defaultGraph(){return nte.DefaultGraph.INSTANCE}quad(e,r,n,i){return new ate.Quad(e,r,n,i||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(Fq.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}};n1.DataFactory=iR});var Bt=_(Aa=>{"use strict";var ute=Aa&&Aa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hl=Aa&&Aa.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ute(e,t,r)};Object.defineProperty(Aa,"__esModule",{value:!0});Hl($O(),Aa);Hl(Bq(),Aa);Hl(JO(),Aa);Hl(ZO(),Aa);Hl(Zg(),Aa);Hl(tR(),Aa);Hl(nR(),Aa)});var Gq=_(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.stringQuadToQuad=ui.quadToStringQuad=ui.stringToTerm=ui.getLiteralLanguage=ui.getLiteralType=ui.getLiteralValue=ui.termToString=void 0;var cte=Bt(),Uq=new cte.DataFactory;function du(t){if(!!t)switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":let e=t;return'"'+e.value+'"'+(e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&e.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+e.datatype.value:"")+(e.language?"@"+e.language:"");case"Quad":return`<<${du(t.subject)} ${du(t.predicate)} ${du(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+du(t.graph)}>>`;case"Variable":return"?"+t.value;case"DefaultGraph":return t.value}}ui.termToString=du;function Vq(t){let e=/^"([^]*)"/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]}ui.getLiteralValue=Vq;function kq(t){let e=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]||(e[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}ui.getLiteralType=kq;function Hq(t){let e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]?e[1].toLowerCase():""}ui.getLiteralLanguage=Hq;function fu(t,e){if(e=e||Uq,!t||!t.length)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":if(!e.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return e.variable(t.substr(1));case'"':let r=Hq(t),n=e.namedNode(kq(t));return e.literal(Vq(t),r||n);case"<":default:if(t.startsWith("<<")&&t.endsWith(">>")){let i=t.slice(2,-2),a=[],s=0,o=0;for(let u=0;u<i.length;u++){let d=i[u];if(d==="<"&&s++,d===">"){if(s===0)throw new Error("Found closing tag without opening tag in "+t);s--}d===" "&&s===0&&(a.push(i.slice(o,u)),o=u+1)}if(s!==0)throw new Error("Found opening tag without closing tag in "+t);if(a.push(i.slice(o,i.length)),a.length!==3&&a.length!==4)throw new Error("Nested quad syntax error "+t);return e.quad(fu(a[0]),fu(a[1]),fu(a[2]),a[3]?fu(a[3]):void 0)}return e.namedNode(t)}}ui.stringToTerm=fu;function lte(t){return{subject:du(t.subject),predicate:du(t.predicate),object:du(t.object),graph:du(t.graph)}}ui.quadToStringQuad=lte;function dte(t,e){return e=e||Uq,e.quad(fu(t.subject,e),fu(t.predicate,e),fu(t.object,e),fu(t.graph,e))}ui.stringQuadToQuad=dte});var On=_(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.termToString=ci.stringToTerm=ci.stringQuadToQuad=ci.quadToStringQuad=ci.getLiteralValue=ci.getLiteralType=ci.getLiteralLanguage=void 0;var Gl=Gq();Object.defineProperty(ci,"getLiteralLanguage",{enumerable:!0,get:function(){return Gl.getLiteralLanguage}});Object.defineProperty(ci,"getLiteralType",{enumerable:!0,get:function(){return Gl.getLiteralType}});Object.defineProperty(ci,"getLiteralValue",{enumerable:!0,get:function(){return Gl.getLiteralValue}});Object.defineProperty(ci,"quadToStringQuad",{enumerable:!0,get:function(){return Gl.quadToStringQuad}});Object.defineProperty(ci,"stringQuadToQuad",{enumerable:!0,get:function(){return Gl.stringQuadToQuad}});Object.defineProperty(ci,"stringToTerm",{enumerable:!0,get:function(){return Gl.stringToTerm}});Object.defineProperty(ci,"termToString",{enumerable:!0,get:function(){return Gl.termToString}})});var aR=_(i1=>{"use strict";Object.defineProperty(i1,"__esModule",{value:!0});i1.bindingsToString=void 0;var fte=On();function hte(t){let e={};for(let r of t.keys())e[r.value]=(0,fte.termToString)(t.get(r));return JSON.stringify(e,null,"  ")}i1.bindingsToString=hte});var sR=_(s1=>{"use strict";Object.defineProperty(s1,"__esModule",{value:!0});s1.Bindings=void 0;var a1=qg(),pte=aR(),fo=class{constructor(e,r){this.type="bindings",this.dataFactory=e,this.entries=r}has(e){return this.entries.has(typeof e=="string"?e:e.value)}get(e){return this.entries.get(typeof e=="string"?e:e.value)}set(e,r){return new fo(this.dataFactory,this.entries.set(typeof e=="string"?e:e.value,r))}delete(e){return new fo(this.dataFactory,this.entries.delete(typeof e=="string"?e:e.value))}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),e=>this.dataFactory.variable(e))}values(){return this.iteratorToIterable(this.entries.values())}forEach(e){this.entries.forEach((r,n)=>e(r,this.dataFactory.variable(n)))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([e,r])=>[this.dataFactory.variable(e),r])[Symbol.iterator]()}equals(e){if(!e)return!1;if(this===e)return!0;if(this.size!==e.size)return!1;for(let r of this.keys())if(!this.get(r)?.equals(e.get(r)))return!1;return!0}filter(e){return new fo(this.dataFactory,(0,a1.Map)(this.entries.filter((r,n)=>e(r,this.dataFactory.variable(n)))))}map(e){return new fo(this.dataFactory,(0,a1.Map)(this.entries.map((r,n)=>e(r,this.dataFactory.variable(n)))))}merge(e){let r=new Set([...this.iteratorToIterable(this.entries.keys()),...[...e.keys()].map(i=>i.value)]),n=[];for(let i of r){let a=this.entries.get(i),s=e.get(this.dataFactory.variable(i));if(a&&s&&!a.equals(s))return;let o=a||s;n.push([i,o])}return new fo(this.dataFactory,(0,a1.Map)(n))}mergeWith(e,r){let n=new Set([...this.iteratorToIterable(this.entries.keys()),...[...r.keys()].map(a=>a.value)]),i=[];for(let a of n){let s=this.dataFactory.variable(a),o=this.entries.get(a),u=r.get(s),d;o&&u&&!o.equals(u)?d=e(o,u,s):d=o||u,i.push([a,d])}return new fo(this.dataFactory,(0,a1.Map)(i))}toString(){return(0,pte.bindingsToString)(this)}*mapIterable(e,r){for(let n of e)yield r(n)}iteratorToIterable(e){return{[Symbol.iterator]:()=>e}}};s1.Bindings=fo});var Qq=_(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0});o1.BindingsFactory=void 0;var _te=qg(),yte=Bt(),bte=sR(),oR=class{constructor(e=new yte.DataFactory){this.dataFactory=e}bindings(e=[]){return new bte.Bindings(this.dataFactory,(0,_te.Map)(e.map(([r,n])=>[r.value,n])))}fromBindings(e){return this.bindings([...e])}fromRecord(e){return this.bindings(Object.entries(e).map(([r,n])=>[this.dataFactory.variable(r),n]))}};o1.BindingsFactory=oR});var Kn=_(hu=>{"use strict";var gte=hu&&hu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uR=hu&&hu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gte(e,t,r)};Object.defineProperty(hu,"__esModule",{value:!0});uR(sR(),hu);uR(Qq(),hu);uR(aR(),hu)});var Wq=_((bDe,zq)=>{"use strict";zq.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],r.get(i[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i of e.entries())if(!r.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(e[i]!==r[i])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}});var e0=_(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.expressionTypes=bc.types=void 0;var mte;(function(t){t.ALT="alt",t.ASK="ask",t.BGP="bgp",t.CONSTRUCT="construct",t.DESCRIBE="describe",t.DISTINCT="distinct",t.EXPRESSION="expression",t.EXTEND="extend",t.FILTER="filter",t.FROM="from",t.GRAPH="graph",t.GROUP="group",t.INV="inv",t.JOIN="join",t.LEFT_JOIN="leftjoin",t.LINK="link",t.MINUS="minus",t.NOP="nop",t.NPS="nps",t.ONE_OR_MORE_PATH="OneOrMorePath",t.ORDER_BY="orderby",t.PATH="path",t.PATTERN="pattern",t.PROJECT="project",t.REDUCED="reduced",t.SEQ="seq",t.SERVICE="service",t.SLICE="slice",t.UNION="union",t.VALUES="values",t.ZERO_OR_MORE_PATH="ZeroOrMorePath",t.ZERO_OR_ONE_PATH="ZeroOrOnePath",t.COMPOSITE_UPDATE="compositeupdate",t.DELETE_INSERT="deleteinsert",t.LOAD="load",t.CLEAR="clear",t.CREATE="create",t.DROP="drop",t.ADD="add",t.MOVE="move",t.COPY="copy"})(mte=bc.types||(bc.types={}));var vte;(function(t){t.AGGREGATE="aggregate",t.EXISTENCE="existence",t.NAMED="named",t.OPERATOR="operator",t.TERM="term",t.WILDCARD="wildcard"})(vte=bc.expressionTypes||(bc.expressionTypes={}))});var cR=_((mDe,Kq)=>{var t0=class{constructor(){return wte||this}equals(e){return e&&this.termType===e.termType}};Object.defineProperty(t0.prototype,"value",{enumerable:!0,value:"*"});Object.defineProperty(t0.prototype,"termType",{enumerable:!0,value:"Wildcard"});var wte=new t0;Kq.exports.Wildcard=t0});var Xq=_(()=>{});var $q=_(()=>{});var Jq=_((gc,lR)=>{var u1=function(){var t=function(he,ce,ye,Ie){for(ye=ye||{},Ie=he.length;Ie--;ye[he[Ie]]=ce);return ye},e=[6,12,15,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],r=[2,210],n=[107,117,120,122,123,132,133,138,322,323,324,325,326],i=[1,20],a=[1,29],s=[6,90],o=[45,46,58],u=[45,58],d=[1,58],f=[1,60],p=[1,56],y=[1,59],g=[1,65],v=[1,66],E=[26,34,35],D=[13,16,312],O=[119,141,320,327],C=[13,16,119,141,312],R=[1,88],w=[1,92],P=[1,94],T=[119,141,320,321,327],te=[13,16,119,141,312,321],ee=[1,100],Y=[2,252],x=[1,99],H=[13,16,34,35,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],se=[6,45,46,58,68,75,78,86,88,90],Ne=[6,13,16,34,45,46,58,68,75,78,86,88,90,312],Me=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,330,331,333,334,335,336,337,338,339],J=[34,35,45,46,58],re=[1,131],de=[1,132],_e=[1,143],Ce=[1,123],nt=[1,117],ze=[1,122],Ye=[1,124],fe=[1,134],ae=[1,135],oe=[1,136],pe=[1,137],Oe=[1,139],Ue=[1,140],N=[2,460],L=[1,149],V=[1,150],$=[1,151],M=[1,144],k=[1,145],z=[1,148],B=[1,158],Q=[1,159],K=[1,160],W=[1,161],ne=[1,162],ge=[1,163],Se=[1,164],Pe=[1,165],qe=[1,166],Fe=[1,167],Be=[1,157],Ge=[1,152],Ze=[1,153],mt=[1,154],ft=[1,155],$e=[1,156],hr=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Wt=[2,311],Nr=[1,184],Or=[1,182],vt=[6,191],gr=[2,328],Wi=[2,316],Pn=[45,135],va=[6,48,78,86,88,90],Ki=[2,256],Zs=[1,198],Fn=[1,200],xi=[6,48,75,78,86,88,90],Xi=[2,254],ii=[1,206],Ur=[1,218],Ii=[1,216],cr=[1,224],$i=[1,217],F=[1,222],ie=[1,223],me=[6,68,75,78,86,88,90],at=[37,38,191,250,278],ct=[37,38,191,250,254,278],St=[37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,334,335,336,337,338,339],wt=[26,37,38,191,250,254,258,271,273,278,295,306,307,308,309,310,311,331,334,335,336,337,338,339],Yr=[1,252],Bn=[1,251],Rr=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],Ts=[1,260],Lp=[1,259],pn=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],wa=[35,93],Ji=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,271,273,278,295,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339],Mp=[13,16,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Yi=[48,93],eo=[34,38],Fp=[6,116,191],Va=[48,119],ka=[6,48,86,88,90],Zi=[2,340],Sa=[2,332],Ha=[1,312],Un=[1,314],Ga=[48,119,328],Pi=[13,16,34,195,312],ea=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],lt=[13,16,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],to=[1,346],ro=[1,347],Vn=[13,16,26,34,35,87,219,271,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,339,340,341,342,343,344],Es=[1,370],Qa=[1,371],Ni=[1,384],Di=[6,48,90],kn=[6,13,16,35,48,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],Zo=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,226,231,245,246,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,339,340,341,342,343,344],j=[46,48,90,119,167,168,170,173,174],G=[1,403],Z=[1,404],De=[1,410],je=[1,409],Ve=[48,119,191,227,328],ot=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],It=[13,16,34,35,38,48,87,93,119,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],$t=[13,16,38,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Kt=[35,48],Ar=[2,331],pr=[1,463],Nn=[1,460],Ci=[1,461],wn=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,329,331,334,335,336,337,338,339,340,341,342,343,344],Zr=[13,16,35,195,219,224,312],lr=[2,388],Dn=[1,481],za=[46,48,90,119,167,168,170,173,174,328],no=[13,16,34,35,195,219,224,312],ta=[6,13,16,34,35,48,75,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],ar=[13,16,34,35,38,48,87,93,119,191,195,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],en=[6,13,16,34,35,48,81,83,86,88,90,275,276,277,279,281,282,284,285,288,290,312,339,340,341,342,343,344],Wa=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Os=[13,16,34,312],Hn=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],ji=[2,343],Bp=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Og=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Ka=[2,338],Y_=[13,16,35,195,219,312],Up=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Vp=[13,16,38,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Rs=[46,48,90,119,167,168,170,173,174,191,227,328],tc=[13,16,34,38,48,87,100,195,231,235,299,300,301,302,303,304,305,306,307,308,309,310,311,312],rc=[13,16,34,35,48,87,93,119,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],As=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331],_n=[13,16,26,34,35,38,87,93,226,231,245,246,271,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331,333],mr=[1,632],nc=[1,633],eu=[2,326],ic=[13,16,38,195,224,312],io={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,VarTriple:39,ConstructQuery:40,CONSTRUCT:41,ConstructTemplate:42,ConstructQuery_repetition0:43,ConstructQuery_repetition1:44,WHERE:45,"{":46,ConstructQuery_option0:47,"}":48,DescribeQuery:49,DESCRIBE:50,DescribeQuery_group0:51,DescribeQuery_repetition0:52,DescribeQuery_option0:53,AskQuery:54,ASK:55,AskQuery_repetition0:56,DatasetClause:57,FROM:58,DatasetClause_option0:59,iri:60,WhereClause_option0:61,GroupGraphPattern:62,SolutionModifier_option0:63,SolutionModifierNoGroup_option0:64,SolutionModifierNoGroup_option1:65,SolutionModifierNoGroup_option2:66,GroupClause:67,GROUP:68,BY:69,GroupClause_repetition_plus0:70,GroupCondition:71,BuiltInCall:72,FunctionCall:73,HavingClause:74,HAVING:75,HavingClause_repetition_plus0:76,OrderClause:77,ORDER:78,OrderClause_repetition_plus0:79,OrderCondition:80,ASC:81,BrackettedExpression:82,DESC:83,Constraint:84,LimitOffsetClauses:85,LIMIT:86,INTEGER:87,OFFSET:88,ValuesClause:89,VALUES:90,InlineData:91,InlineData_repetition0:92,NIL:93,InlineData_repetition1:94,InlineData_repetition_plus2:95,InlineData_repetition3:96,DataBlockValue:97,Literal:98,ConstTriple:99,UNDEF:100,DataBlockValueList:101,DataBlockValueList_repetition_plus0:102,Update:103,Update_repetition0:104,Update1:105,Update_option0:106,LOAD:107,Update1_option0:108,Update1_option1:109,Update1_group0:110,Update1_option2:111,GraphRefAll:112,Update1_group1:113,Update1_option3:114,GraphOrDefault:115,TO:116,CREATE:117,Update1_option4:118,GRAPH:119,INSERTDATA:120,QuadPattern:121,DELETEDATA:122,DELETEWHERE:123,Update1_option5:124,InsertClause:125,Update1_option6:126,Update1_repetition0:127,Update1_option7:128,DeleteClause:129,Update1_option8:130,Update1_repetition1:131,DELETE:132,INSERT:133,UsingClause:134,USING:135,UsingClause_option0:136,WithClause:137,WITH:138,IntoGraphClause:139,INTO:140,DEFAULT:141,GraphOrDefault_option0:142,GraphRefAll_group0:143,QuadPattern_option0:144,QuadPattern_repetition0:145,QuadsNotTriples:146,QuadsNotTriples_group0:147,QuadsNotTriples_option0:148,QuadsNotTriples_option1:149,QuadsNotTriples_option2:150,TriplesTemplate:151,TriplesTemplate_repetition0:152,TriplesSameSubject:153,TriplesTemplate_option0:154,GroupGraphPatternSub:155,GroupGraphPatternSub_option0:156,GroupGraphPatternSub_repetition0:157,GroupGraphPatternSubTail:158,GraphPatternNotTriples:159,GroupGraphPatternSubTail_option0:160,GroupGraphPatternSubTail_option1:161,TriplesBlock:162,TriplesBlock_repetition0:163,TriplesSameSubjectPath:164,TriplesBlock_option0:165,GraphPatternNotTriples_repetition0:166,OPTIONAL:167,MINUS:168,GraphPatternNotTriples_group0:169,SERVICE:170,GraphPatternNotTriples_option0:171,GraphPatternNotTriples_group1:172,FILTER:173,BIND:174,FunctionCall_option0:175,FunctionCall_repetition0:176,ExpressionList:177,ExpressionList_repetition0:178,ConstructTemplate_option0:179,ConstructTriples:180,ConstructTriples_repetition0:181,ConstructTriples_option0:182,TriplesSameSubject_group0:183,PropertyListNotEmpty:184,TriplesNode:185,PropertyList:186,PropertyList_option0:187,VerbObjectList:188,PropertyListNotEmpty_repetition0:189,SemiOptionalVerbObjectList:190,";":191,SemiOptionalVerbObjectList_option0:192,Verb:193,ObjectList:194,a:195,ObjectList_repetition0:196,GraphNode:197,ObjectListPath:198,ObjectListPath_repetition0:199,GraphNodePath:200,TriplesSameSubjectPath_group0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,PropertyListPathNotEmpty_group0:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmpty_repetition1:207,PropertyListPathNotEmptyTail:208,PropertyListPathNotEmptyTail_group0:209,Path:210,Path_repetition0:211,PathSequence:212,PathSequence_repetition0:213,PathEltOrInverse:214,PathElt:215,PathPrimary:216,PathElt_option0:217,PathEltOrInverse_option0:218,"!":219,PathNegatedPropertySet:220,PathOneInPropertySet:221,PathNegatedPropertySet_repetition0:222,PathNegatedPropertySet_option0:223,"^":224,TriplesNode_repetition_plus0:225,"[":226,"]":227,TriplesNodePath_repetition_plus0:228,GraphNode_group0:229,GraphNodePath_group0:230,"<<":231,VarTriple_group0:232,VarTriple_group1:233,VarTriple_group2:234,">>":235,VarTriple_group3:236,VarTriple_group4:237,ConstTriple_group0:238,ConstTriple_group1:239,ConstTriple_group2:240,ConstTriple_group3:241,ConstTriple_group4:242,VarOrTerm:243,Term:244,BLANK_NODE_LABEL:245,ANON:246,ConditionalAndExpression:247,Expression_repetition0:248,ExpressionTail:249,"||":250,RelationalExpression:251,ConditionalAndExpression_repetition0:252,ConditionalAndExpressionTail:253,"&&":254,AdditiveExpression:255,RelationalExpression_group0:256,RelationalExpression_option0:257,IN:258,MultiplicativeExpression:259,AdditiveExpression_repetition0:260,AdditiveExpressionTail:261,AdditiveExpressionTail_group0:262,NumericLiteralPositive:263,AdditiveExpressionTail_repetition0:264,NumericLiteralNegative:265,AdditiveExpressionTail_repetition1:266,UnaryExpression:267,MultiplicativeExpression_repetition0:268,MultiplicativeExpressionTail:269,MultiplicativeExpressionTail_group0:270,"+":271,PrimaryExpression:272,"-":273,Aggregate:274,FUNC_ARITY0:275,FUNC_ARITY1:276,FUNC_ARITY2:277,",":278,IF:279,BuiltInCall_group0:280,BOUND:281,BNODE:282,BuiltInCall_option0:283,EXISTS:284,COUNT:285,Aggregate_option0:286,Aggregate_group0:287,FUNC_AGGREGATE:288,Aggregate_option1:289,GROUP_CONCAT:290,Aggregate_option2:291,Aggregate_option3:292,GroupConcatSeparator:293,SEPARATOR:294,"=":295,String:296,LANGTAG:297,"^^":298,DECIMAL:299,DOUBLE:300,BOOLEAN:301,STRING_LITERAL1:302,STRING_LITERAL2:303,STRING_LITERAL_LONG1:304,STRING_LITERAL_LONG2:305,INTEGER_POSITIVE:306,DECIMAL_POSITIVE:307,DOUBLE_POSITIVE:308,INTEGER_NEGATIVE:309,DECIMAL_NEGATIVE:310,DOUBLE_NEGATIVE:311,PNAME_LN:312,QueryOrUpdate_group0_option0:313,Prologue_repetition0_group0:314,SelectClauseBase_option0_group0:315,DISTINCT:316,REDUCED:317,DescribeQuery_group0_repetition_plus0_group0:318,DescribeQuery_group0_repetition_plus0:319,NAMED:320,SILENT:321,CLEAR:322,DROP:323,ADD:324,MOVE:325,COPY:326,ALL:327,".":328,UNION:329,"|":330,"/":331,PathElt_option0_group0:332,"?":333,"!=":334,"<":335,">":336,"<=":337,">=":338,NOT:339,CONCAT:340,COALESCE:341,SUBSTR:342,REGEX:343,REPLACE:344,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",41:"CONSTRUCT",45:"WHERE",46:"{",48:"}",50:"DESCRIBE",55:"ASK",58:"FROM",68:"GROUP",69:"BY",75:"HAVING",78:"ORDER",81:"ASC",83:"DESC",86:"LIMIT",87:"INTEGER",88:"OFFSET",90:"VALUES",93:"NIL",100:"UNDEF",107:"LOAD",116:"TO",117:"CREATE",119:"GRAPH",120:"INSERTDATA",122:"DELETEDATA",123:"DELETEWHERE",132:"DELETE",133:"INSERT",135:"USING",138:"WITH",140:"INTO",141:"DEFAULT",167:"OPTIONAL",168:"MINUS",170:"SERVICE",173:"FILTER",174:"BIND",191:";",195:"a",219:"!",224:"^",226:"[",227:"]",231:"<<",235:">>",245:"BLANK_NODE_LABEL",246:"ANON",250:"||",254:"&&",258:"IN",271:"+",273:"-",275:"FUNC_ARITY0",276:"FUNC_ARITY1",277:"FUNC_ARITY2",278:",",279:"IF",281:"BOUND",282:"BNODE",284:"EXISTS",285:"COUNT",288:"FUNC_AGGREGATE",290:"GROUP_CONCAT",294:"SEPARATOR",295:"=",297:"LANGTAG",298:"^^",299:"DECIMAL",300:"DOUBLE",301:"BOOLEAN",302:"STRING_LITERAL1",303:"STRING_LITERAL2",304:"STRING_LITERAL_LONG1",305:"STRING_LITERAL_LONG2",306:"INTEGER_POSITIVE",307:"DECIMAL_POSITIVE",308:"DOUBLE_POSITIVE",309:"INTEGER_NEGATIVE",310:"DECIMAL_NEGATIVE",311:"DOUBLE_NEGATIVE",312:"PNAME_LN",316:"DISTINCT",317:"REDUCED",320:"NAMED",321:"SILENT",322:"CLEAR",323:"DROP",324:"ADD",325:"MOVE",326:"COPY",327:"ALL",328:".",329:"UNION",330:"|",331:"/",333:"?",334:"!=",335:"<",336:">",337:"<=",338:">=",339:"NOT",340:"CONCAT",341:"COALESCE",342:"SUBSTR",343:"REGEX",344:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[198,2],[164,2],[164,2],[202,4],[208,1],[208,3],[210,2],[212,2],[215,2],[214,2],[216,1],[216,1],[216,2],[216,3],[220,1],[220,1],[220,4],[221,1],[221,1],[221,2],[221,2],[185,3],[185,3],[203,3],[203,3],[197,1],[197,1],[200,1],[200,1],[39,9],[39,5],[99,9],[99,5],[243,1],[243,1],[244,1],[244,1],[244,1],[244,1],[244,1],[36,2],[249,2],[247,2],[253,2],[251,1],[251,3],[251,4],[255,2],[261,2],[261,2],[261,2],[259,2],[269,2],[267,2],[267,2],[267,2],[267,1],[272,1],[272,1],[272,1],[272,1],[272,1],[272,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[274,5],[274,5],[274,6],[293,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[296,1],[296,1],[296,1],[296,1],[263,1],[263,1],[263,1],[265,1],[265,1],[265,1],[60,1],[60,1],[60,1],[313,0],[313,1],[5,1],[5,1],[314,1],[314,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[315,1],[315,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[318,1],[318,1],[319,1],[319,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[199,0],[199,3],[201,1],[201,1],[204,0],[204,1],[205,1],[205,1],[206,0],[206,3],[207,0],[207,2],[209,1],[209,1],[211,0],[211,3],[213,0],[213,3],[332,1],[332,1],[332,1],[217,0],[217,1],[218,0],[218,1],[222,0],[222,3],[223,0],[223,1],[225,1],[225,2],[228,1],[228,2],[229,1],[229,1],[230,1],[230,1],[232,1],[232,1],[233,1],[233,1],[234,1],[234,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[241,1],[241,1],[242,1],[242,1],[248,0],[248,2],[252,0],[252,2],[256,1],[256,1],[256,1],[256,1],[256,1],[256,1],[257,0],[257,1],[260,0],[260,2],[262,1],[262,1],[264,0],[264,2],[266,0],[266,2],[268,0],[268,2],[270,1],[270,1],[280,1],[280,1],[280,1],[280,1],[280,1],[283,0],[283,1],[286,0],[286,1],[287,1],[287,1],[289,0],[289,1],[291,0],[291,1],[292,0],[292,1]],performAction:function(ce,ye,Ie,it,Tt,I,Tn){var q=I.length-1;switch(Tt){case 1:if(I[q-1]=I[q-1]||{},pt.base&&(I[q-1].base=pt.base),pt.base="",I[q-1].prefixes=pt.prefixes,pt.prefixes=null,I[q-1].type==="update"){let _r={};for(let wr of I[q-1].updates)if(wr.updateType==="insert"){let kt={};for(let Zt of wr.insert)if(Zt.type==="bgp"||Zt.type==="graph")for(let Wn of Zt.triples)Wn.subject.termType==="BlankNode"&&(kt[Wn.subject.value]=!0),Wn.predicate.termType==="BlankNode"&&(kt[Wn.predicate.value]=!0),Wn.object.termType==="BlankNode"&&(kt[Wn.object.value]=!0);for(let Zt of Object.keys(kt)){if(_r[Zt])throw new Error("Detected reuse blank node across different INSERT DATA clauses");_r[Zt]=!0}}}return I[q-1];case 3:this.$=xr(I[q-1],I[q],{type:"query"});break;case 4:pt.base=ql(I[q]);break;case 5:pt.prefixes||(pt.prefixes={}),I[q-1]=I[q-1].substr(0,I[q-1].length-1),I[q]=ql(I[q]),pt.prefixes[I[q-1]]=I[q];break;case 6:this.$=xr(I[q-3],Qn(I[q-2]),I[q-1],I[q]);break;case 7:if(!pt.skipValidation&&(Sn(I[q-3].variables.map(wr=>su(wr.expression))).some(wr=>wr.aggregation==="count"&&!(wr.expression instanceof ra))||I[q].group)){for(let wr of I[q-3].variables)if(wr.termType==="Variable"){if(!I[q].group||!I[q].group.map(kt=>au(kt)).includes(au(wr)))throw Error("Projection of ungrouped variable (?"+au(wr)+")")}else if(su(wr.expression).length===0){let kt=Ml(wr.expression);for(let Zt of kt)if(!I[q].group||!I[q].group.map||!I[q].group.map(Wn=>au(Wn)).includes(au(Zt)))throw Error("Use of ungrouped variable in projection of operation (?"+au(Zt)+")")}}let zn=I[q-1].where.filter(_r=>_r.type==="query");if(zn.length>0){let _r=I[q-3].variables.filter(kt=>kt.variable&&kt.variable.value).map(kt=>kt.variable.value),wr=Sn(zn.map(kt=>kt.variables)).map(kt=>kt.value||kt.variable.value);for(let kt of _r)if(wr.indexOf(kt)>=0)throw Error("Target id of 'AS' (?"+kt+") already used in subquery")}this.$=xr(I[q-3],Qn(I[q-2]),I[q-1],I[q]);break;case 8:this.$=xr(I[q-1],{variables:[new ra]});break;case 9:let Ya=I[q].map(_r=>_r.value||_r.variable.value),uu=Wp(Ya);if(uu.length>0)throw Error("Two or more of the resulting columns have the same name (?"+uu[0]+")");this.$=xr(I[q-1],{variables:I[q]});break;case 10:this.$=xr({queryType:"SELECT"},I[q]&&(I[q-1]=si(I[q]),I[q]={},I[q][I[q-1]]=!0,I[q]));break;case 11:case 12:this.$=xr(I[q-3],I[q-2],I[q-1],I[q],{type:"query"});break;case 13:case 100:case 137:case 166:this.$=Gn(I[q]);break;case 14:case 28:this.$=Ea(I[q-3],{variable:Gn(I[q-1])});break;case 15:this.$=sc(Ea(I[q-3],{variable:Gn(I[q-1])}));break;case 16:this.$=xr({queryType:"CONSTRUCT",template:I[q-3]},Qn(I[q-2]),I[q-1],I[q]);break;case 17:this.$=xr({queryType:"CONSTRUCT",template:I[q-2]=I[q-2]?I[q-2].triples:[]},Qn(I[q-5]),{where:[{type:"bgp",triples:ru([],I[q-2])}]},I[q]);break;case 18:this.$=xr({queryType:"DESCRIBE",variables:I[q-3]==="*"?[new ra]:I[q-3].map(Gn)},Qn(I[q-2]),I[q-1],I[q]);break;case 19:this.$=xr({queryType:"ASK"},Qn(I[q-2]),I[q-1],I[q]);break;case 20:case 61:this.$={iri:I[q],named:!!I[q-1]};break;case 21:this.$={where:I[q].patterns};break;case 22:this.$=xr(I[q-1],I[q]);break;case 23:this.$=xr(I[q-2],I[q-1],I[q]);break;case 24:this.$={group:I[q]};break;case 25:case 26:case 32:case 34:this.$=Ea(I[q]);break;case 27:this.$=Ea(I[q-1]);break;case 29:case 35:this.$=Ea(Gn(I[q]));break;case 30:this.$={having:I[q]};break;case 31:this.$={order:I[q]};break;case 33:this.$=Ea(I[q],{descending:!0});break;case 36:this.$={limit:$a(I[q])};break;case 37:this.$={offset:$a(I[q])};break;case 38:this.$={limit:$a(I[q-2]),offset:$a(I[q])};break;case 39:this.$={limit:$a(I[q]),offset:$a(I[q-2])};break;case 40:this.$={type:"values",values:I[q]};break;case 41:this.$=I[q-1].map(function(_r){var wr={};return wr[I[q-3]]=_r,wr});break;case 42:this.$=I[q-1].map(function(){return{}});break;case 43:var qi=I[q-4].length;I[q-4]=I[q-4].map(Gn),this.$=I[q-1].map(function(_r){if(_r.length!==qi)throw Error("Inconsistent VALUES length");for(var wr={},kt=0;kt<qi;kt++)wr["?"+I[q-4][kt].value]=_r[kt];return wr});break;case 46:this.$=sc(I[q]);break;case 47:this.$=void 0;break;case 48:case 92:case 117:case 167:this.$=I[q-1];break;case 49:this.$={type:"update",updates:Ta(I[q-2],I[q-1])};break;case 50:this.$=xr({type:"load",silent:!!I[q-2],source:I[q-1]},I[q]&&{destination:I[q]});break;case 51:this.$={type:si(I[q-2]),silent:!!I[q-1],graph:I[q]};break;case 52:this.$={type:si(I[q-4]),silent:!!I[q-3],source:I[q-2],destination:I[q]};break;case 53:this.$={type:"create",silent:!!I[q-2],graph:{type:"graph",name:I[q]}};break;case 54:this.$={updateType:"insert",insert:oc(I[q])};break;case 55:this.$={updateType:"delete",delete:uc(oc(I[q]))};break;case 56:this.$={updateType:"deletewhere",delete:uc(I[q])};break;case 57:this.$=xr({updateType:"insertdelete"},I[q-5],{insert:I[q-4]||[]},{delete:I[q-3]||[]},Qn(I[q-2],"using"),{where:I[q].patterns});break;case 58:this.$=xr({updateType:"insertdelete"},I[q-5],{delete:I[q-4]||[]},{insert:I[q-3]||[]},Qn(I[q-2],"using"),{where:I[q].patterns});break;case 59:this.$=uc(I[q]);break;case 60:case 63:case 160:case 181:this.$=I[q];break;case 62:this.$={graph:I[q]};break;case 64:this.$={type:"graph",default:!0};break;case 65:case 66:this.$={type:"graph",name:I[q]};break;case 67:this.$={},this.$[si(I[q])]=!0;break;case 68:this.$=I[q-2]?Xa(I[q-1],[I[q-2]]):Xa(I[q-1]);break;case 69:var cc=xr(I[q-3]||{triples:[]},{type:"graph",name:Gn(I[q-5])});this.$=I[q]?[cc,I[q]]:[cc];break;case 70:case 75:this.$={type:"bgp",triples:Xa(I[q-2],[I[q-1]])};break;case 71:this.$={type:"group",patterns:[I[q-1]]};break;case 72:for(let _r of I[q-1].filter(wr=>wr.type==="bind")){let wr=I[q-1].indexOf(_r),kt=new Set;for(let Zt of I[q-1].slice(0,wr))(Zt.type==="group"||Zt.type==="bgp")&&ay(Zt).forEach(Wn=>kt.add(Wn));if(kt.has(_r.variable.value))throw Error("Variable used to bind is already bound (?"+_r.variable.value+")")}this.$={type:"group",patterns:I[q-1]};break;case 73:this.$=I[q-1]?Xa([I[q-1]],I[q]):Xa(I[q]);break;case 74:this.$=I[q]?[I[q-2],I[q]]:I[q-2];break;case 76:I[q-1].length?this.$={type:"union",patterns:Xa(I[q-1].map(Qp),[Qp(I[q])])}:this.$=I[q];break;case 77:this.$=xr(I[q],{type:"optional"});break;case 78:this.$=xr(I[q],{type:"minus"});break;case 79:this.$=xr(I[q],{type:"graph",name:Gn(I[q-1])});break;case 80:this.$=xr(I[q],{type:"service",name:Gn(I[q-1]),silent:!!I[q-2]});break;case 81:this.$={type:"filter",expression:I[q]};break;case 82:this.$={type:"bind",variable:Gn(I[q-1]),expression:I[q-3]};break;case 83:this.$=sc({type:"bind",variable:Gn(I[q-1]),expression:I[q-3]});break;case 88:this.$={type:"functionCall",function:I[q-1],args:[]};break;case 89:this.$={type:"functionCall",function:I[q-5],args:Ta(I[q-2],I[q-1]),distinct:!!I[q-3]};break;case 90:case 108:case 119:case 210:case 218:case 220:case 232:case 234:case 244:case 248:case 268:case 270:case 274:case 278:case 301:case 307:case 318:case 328:case 334:case 340:case 344:case 354:case 356:case 360:case 368:case 372:case 374:case 382:case 384:case 388:case 390:case 399:case 431:case 433:case 443:case 447:case 449:case 451:this.$=[];break;case 91:this.$=Ta(I[q-2],I[q-1]);break;case 93:this.$=Xa(I[q-2],[I[q-1]]);break;case 94:case 105:this.$=I[q].map(function(_r){return xr(Ja(I[q-1]),_r)});break;case 95:this.$=ru(I[q].map(function(_r){return xr(Ja(I[q-1].entity),_r)}),I[q-1].triples);break;case 97:this.$=Xa([I[q-1]],I[q]);break;case 98:this.$=Xa(I[q]);break;case 99:this.$=iu(I[q-1],I[q]);break;case 102:case 115:case 122:this.$=pt.factory.namedNode(Hp);break;case 103:case 104:this.$=Ta(I[q-1],I[q]);break;case 106:this.$=I[q]?ru(I[q].map(function(_r){return xr(Ja(I[q-1].entity),_r)}),I[q-1].triples):I[q-1].triples;break;case 107:this.$=iu(Gn(I[q-3]),Ta(I[q-2],I[q-1]),I[q]);break;case 109:this.$=iu(Gn(I[q-1]),I[q]);break;case 110:this.$=I[q-1].length?na("|",Ta(I[q-1],I[q])):I[q];break;case 111:this.$=I[q-1].length?na("/",Ta(I[q-1],I[q])):I[q];break;case 112:this.$=I[q]?na(I[q],[I[q-1]]):I[q-1];break;case 113:this.$=I[q-1]?na(I[q-1],[I[q]]):I[q];break;case 116:case 123:this.$=na(I[q-1],[I[q]]);break;case 120:this.$=na("|",Ta(I[q-2],I[q-1]));break;case 124:this.$=na(I[q-1],[pt.factory.namedNode(Hp)]);break;case 125:case 127:this.$=iy(I[q-1]);break;case 126:case 128:this.$=Ng(I[q-1]);break;case 129:this.$={entity:I[q],triples:[]};break;case 131:this.$={entity:I[q],triples:[]};break;case 133:case 135:this.$=sc(pt.factory.quad(I[q-4],I[q-3],I[q-2],Gn(I[q-6])));break;case 134:case 136:this.$=sc(pt.factory.quad(I[q-3],I[q-2],I[q-1]));break;case 141:this.$=Ll(I[q].replace(/^(_:)/,""));break;case 142:this.$=Ll();break;case 143:this.$=pt.factory.namedNode(ey);break;case 144:case 146:case 151:case 155:this.$=Vr(I[q-1],I[q]);break;case 145:this.$=["||",I[q]];break;case 147:this.$=["&&",I[q]];break;case 149:this.$=Cn(I[q-1],[I[q-2],I[q]]);break;case 150:this.$=Cn(I[q-2]?"notin":"in",[I[q-3],I[q]]);break;case 152:case 156:this.$=[I[q-1],I[q]];break;case 153:this.$=["+",Vr(I[q-1],I[q])];break;case 154:var lc=oi(I[q-1].value.replace("-",""),I[q-1].datatype);this.$=["-",Vr(lc,I[q])];break;case 157:this.$=Cn("UPLUS",[I[q]]);break;case 158:this.$=Cn(I[q-1],[I[q]]);break;case 159:this.$=Cn("UMINUS",[I[q]]);break;case 169:this.$=Cn(si(I[q-1]));break;case 170:this.$=Cn(si(I[q-3]),[I[q-1]]);break;case 171:this.$=Cn(si(I[q-5]),[I[q-3],I[q-1]]);break;case 172:this.$=Cn(si(I[q-7]),[I[q-5],I[q-3],I[q-1]]);break;case 173:this.$=Cn(si(I[q-1]),I[q]);break;case 174:this.$=Cn("bound",[Gn(I[q-1])]);break;case 175:this.$=Cn(I[q-1],[]);break;case 176:this.$=Cn(I[q-3],[I[q-1]]);break;case 177:this.$=Cn(I[q-2]?"notexists":"exists",[Qp(I[q])]);break;case 178:case 179:this.$=Ea(I[q-1],{type:"aggregate",aggregation:si(I[q-4]),distinct:!!I[q-2]});break;case 180:this.$=Ea(I[q-2],{type:"aggregate",aggregation:si(I[q-5]),distinct:!!I[q-3],separator:I[q-1]||" "});break;case 182:this.$=oi(I[q]);break;case 183:this.$=Ig(I[q-1],si(I[q].substr(1)));break;case 184:this.$=oi(I[q-2],I[q]);break;case 185:case 198:this.$=oi(I[q],ty);break;case 186:case 199:this.$=oi(I[q],Gp);break;case 187:case 200:this.$=oi(si(I[q]),ry);break;case 190:this.$=oi(I[q].toLowerCase(),ny);break;case 191:case 192:this.$=ia(I[q],1);break;case 193:case 194:this.$=ia(I[q],3);break;case 195:this.$=oi(I[q].substr(1),ty);break;case 196:this.$=oi(I[q].substr(1),Gp);break;case 197:this.$=oi(I[q].substr(1).toLowerCase(),ry);break;case 201:this.$=pt.factory.namedNode(ql(I[q]));break;case 202:var Kp=I[q].indexOf(":"),dc=I[q].substr(0,Kp),un=pt.prefixes[dc];if(!un)throw new Error("Unknown prefix: "+dc);var vr=ql(un+I[q].substr(Kp+1));this.$=pt.factory.namedNode(vr);break;case 203:if(I[q]=I[q].substr(0,I[q].length-1),!(I[q]in pt.prefixes))throw new Error("Unknown prefix: "+I[q]);var vr=ql(pt.prefixes[I[q]]);this.$=pt.factory.namedNode(vr);break;case 211:case 219:case 221:case 223:case 233:case 235:case 241:case 245:case 249:case 263:case 265:case 267:case 269:case 271:case 273:case 275:case 277:case 302:case 308:case 319:case 335:case 369:case 385:case 404:case 406:case 432:case 434:case 444:case 448:case 450:case 452:I[q-1].push(I[q]);break;case 222:case 240:case 262:case 264:case 266:case 272:case 276:case 403:case 405:this.$=[I[q]];break;case 279:I[q-3].push(I[q-2]);break;case 329:case 341:case 345:case 355:case 357:case 361:case 373:case 375:case 383:case 389:case 391:case 400:I[q-2].push(I[q-1]);break}},table:[t(e,r,{3:1,4:2,7:3}),{1:[3]},t(n,[2,278],{5:4,8:5,313:6,9:7,103:8,17:9,40:10,49:11,54:12,104:13,18:14,22:15,25:19,6:[2,204],28:i,41:[1,16],50:[1,17],55:[1,18]}),t([6,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],[2,2],{314:21,11:22,14:23,12:[1,24],15:[1,25]}),{6:[1,26]},{6:[2,206]},{6:[2,207]},{6:[2,216],10:27,89:28,90:a},{6:[2,205]},t(s,[2,212]),t(s,[2,213]),t(s,[2,214]),t(s,[2,215]),{105:30,107:[1,31],110:32,113:33,117:[1,34],120:[1,35],122:[1,36],123:[1,37],124:38,128:39,132:[2,303],133:[2,297],137:45,138:[1,46],322:[1,40],323:[1,41],324:[1,42],325:[1,43],326:[1,44]},t(o,[2,218],{19:47}),t(o,[2,220],{23:48}),t(u,[2,234],{42:49,44:50,46:[1,51]}),{13:d,16:f,26:[1,54],34:p,51:52,60:57,312:y,318:55,319:53},t(o,[2,248],{56:61}),{26:[1,62],27:63,33:64,34:g,35:v},t(E,[2,226],{29:67,315:68,316:[1,69],317:[1,70]}),t(e,[2,211]),t(e,[2,208]),t(e,[2,209]),{13:[1,71]},{16:[1,72]},{1:[2,1]},{6:[2,3]},{6:[2,217]},{34:[1,74],35:[1,76],91:73,93:[1,75]},{6:[2,280],106:77,191:[1,78]},t(D,[2,282],{108:79,321:[1,80]}),t(O,[2,288],{111:81,321:[1,82]}),t(C,[2,293],{114:83,321:[1,84]}),{118:85,119:[2,295],321:[1,86]},{46:R,121:87},{46:R,121:89},{46:R,121:90},{125:91,133:w},{129:93,132:P},t(T,[2,286]),t(T,[2,287]),t(te,[2,290]),t(te,[2,291]),t(te,[2,292]),{132:[2,304],133:[2,298]},{13:d,16:f,60:95,312:y},{20:96,45:ee,46:Y,57:97,58:x,61:98},{20:101,45:ee,46:Y,57:102,58:x,61:98},t(o,[2,232],{43:103}),{45:[1,104],57:105,58:x},t(H,[2,360],{179:106,180:107,181:108,48:[2,358]}),t(se,[2,244],{52:109}),t(se,[2,242],{60:57,318:110,13:d,16:f,34:p,312:y}),t(se,[2,243]),t(Ne,[2,240]),t(Ne,[2,238]),t(Ne,[2,239]),t(Me,[2,201]),t(Me,[2,202]),t(Me,[2,203]),{20:111,45:ee,46:Y,57:112,58:x,61:98},t(o,[2,8]),t(o,[2,9],{33:113,34:g,35:v}),t(J,[2,222]),t(J,[2,13]),{13:d,16:f,34:re,35:de,36:114,39:115,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,231:nt,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(E,[2,10]),t(E,[2,227]),t(E,[2,224]),t(E,[2,225]),t(e,[2,4]),{13:[1,168]},t(hr,[2,40]),{46:[1,169]},{46:[1,170]},{34:[1,172],95:171},{6:[2,49]},t(e,r,{7:3,4:173}),{13:d,16:f,60:174,312:y},t(D,[2,283]),{112:175,119:[1,176],141:[1,178],143:177,320:[1,179],327:[1,180]},t(O,[2,289]),t(D,Wt,{115:181,142:183,119:Nr,141:Or}),t(C,[2,294]),{119:[1,185]},{119:[2,296]},t(vt,[2,54]),t(H,gr,{144:186,151:187,152:188,48:Wi,119:Wi}),t(vt,[2,55]),t(vt,[2,56]),t(Pn,[2,299],{126:189,129:190,132:P}),{46:R,121:191},t(Pn,[2,305],{130:192,125:193,133:w}),{46:R,121:194},t([132,133],[2,62]),t(va,Ki,{21:195,64:196,74:197,75:Zs}),t(o,[2,219]),{46:Fn,62:199},t(D,[2,250],{59:201,320:[1,202]}),{46:[2,253]},t(xi,Xi,{24:203,63:204,67:205,68:ii}),t(o,[2,221]),{20:207,45:ee,46:Y,57:208,58:x,61:98},{46:[1,209]},t(u,[2,235]),{48:[1,210]},{48:[2,359]},{13:d,16:f,34:Ur,35:Ii,39:215,60:220,87:_e,93:cr,98:221,153:211,183:212,185:213,226:$i,231:nt,243:214,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(me,[2,246],{61:98,53:225,57:226,20:227,45:ee,46:Y,58:x}),t(Ne,[2,241]),t(xi,Xi,{63:204,67:205,24:228,68:ii}),t(o,[2,249]),t(J,[2,223]),{37:[1,229]},{37:[1,230]},t(at,[2,431],{248:231}),{13:d,16:f,34:Ur,39:234,60:220,87:_e,93:cr,98:221,119:[1,232],231:nt,236:233,243:235,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(ct,[2,433],{252:236}),t(ct,[2,148],{256:237,257:238,258:[2,441],295:[1,239],334:[1,240],335:[1,241],336:[1,242],337:[1,243],338:[1,244],339:[1,245]}),t(St,[2,443],{260:246}),t(wt,[2,451],{268:247}),{13:d,16:f,34:re,35:de,60:128,72:127,73:129,82:126,87:_e,98:130,263:146,265:147,272:248,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{13:d,16:f,34:re,35:de,60:128,72:127,73:129,82:126,87:_e,98:130,263:146,265:147,272:249,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{13:d,16:f,34:re,35:de,60:128,72:127,73:129,82:126,87:_e,98:130,263:146,265:147,272:250,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(wt,[2,160]),t(wt,[2,161]),t(wt,[2,162]),t(wt,[2,163],{35:Yr,93:Bn}),t(wt,[2,164]),t(wt,[2,165]),t(wt,[2,166]),{13:d,16:f,34:re,35:de,36:253,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(Rr,[2,168]),{93:[1,254]},{35:[1,255]},{35:[1,256]},{35:[1,257]},{35:Ts,93:Lp,177:258},{35:[1,261]},{35:[1,263],93:[1,262]},{284:[1,264]},t(pn,[2,182],{297:[1,265],298:[1,266]}),t(pn,[2,185]),t(pn,[2,186]),t(pn,[2,187]),t(pn,[2,188]),t(pn,[2,189]),t(pn,[2,190]),{35:[1,267]},{35:[1,268]},{35:[1,269]},t(wa,[2,455]),t(wa,[2,456]),t(wa,[2,457]),t(wa,[2,458]),t(wa,[2,459]),{284:[2,461]},t(Ji,[2,191]),t(Ji,[2,192]),t(Ji,[2,193]),t(Ji,[2,194]),t(pn,[2,195]),t(pn,[2,196]),t(pn,[2,197]),t(pn,[2,198]),t(pn,[2,199]),t(pn,[2,200]),t(e,[2,5]),t(Mp,[2,268],{92:270}),t(Yi,[2,270],{94:271}),{34:[1,273],38:[1,272]},t(eo,[2,272]),t(n,[2,279],{6:[2,281]}),t(vt,[2,284],{109:274,139:275,140:[1,276]}),t(vt,[2,51]),{13:d,16:f,60:277,312:y},t(vt,[2,67]),t(vt,[2,313]),t(vt,[2,314]),t(vt,[2,315]),{116:[1,278]},t(Fp,[2,64]),{13:d,16:f,60:279,312:y},t(D,[2,312]),{13:d,16:f,60:280,312:y},t(Va,[2,318],{145:281}),t(Va,[2,317]),{13:d,16:f,34:Ur,35:Ii,39:215,60:220,87:_e,93:cr,98:221,153:282,183:212,185:213,226:$i,231:nt,243:214,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(Pn,[2,301],{127:283}),t(Pn,[2,300]),t([45,132,135],[2,60]),t(Pn,[2,307],{131:284}),t(Pn,[2,306]),t([45,133,135],[2,59]),t(s,[2,6]),t(ka,[2,258],{65:285,77:286,78:[1,287]}),t(va,[2,257]),{13:d,16:f,35:de,60:293,72:291,73:292,76:288,82:290,84:289,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t([6,48,68,75,78,86,88,90],[2,21]),t(H,Zi,{25:19,30:294,155:295,18:296,22:297,156:298,162:299,163:300,28:i,46:Sa,48:Sa,90:Sa,119:Sa,167:Sa,168:Sa,170:Sa,173:Sa,174:Sa}),{13:d,16:f,60:301,312:y},t(D,[2,251]),t(s,[2,7]),t(va,Ki,{64:196,74:197,21:302,75:Zs}),t(xi,[2,255]),{69:[1,303]},t(xi,Xi,{63:204,67:205,24:304,68:ii}),t(o,[2,233]),t(H,gr,{152:188,47:305,151:306,48:[2,236]}),t(o,[2,92]),{48:[2,362],182:307,328:[1,308]},{13:d,16:f,34:Ha,60:313,184:309,188:310,193:311,195:Un,312:y},t(Ga,[2,366],{188:310,193:311,60:313,186:315,187:316,184:317,13:d,16:f,34:Ha,195:Un,312:y}),t(Pi,[2,364]),t(Pi,[2,365]),{13:d,16:f,34:Ur,35:Ii,39:323,60:220,87:_e,93:cr,98:221,185:321,197:319,225:318,226:$i,229:320,231:nt,243:322,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},{13:d,16:f,34:Ha,60:313,184:324,188:310,193:311,195:Un,312:y},t(ea,[2,137]),t(ea,[2,138]),t(ea,[2,139]),t(ea,[2,140]),t(ea,[2,141]),t(ea,[2,142]),t(ea,[2,143]),t(xi,Xi,{63:204,67:205,24:325,68:ii}),t(se,[2,245]),t(me,[2,247]),t(s,[2,19]),{34:[1,326]},{34:[1,327]},t([37,38,191,278],[2,144],{249:328,250:[1,329]}),{13:d,16:f,34:[1,331],60:332,232:330,312:y},{13:d,16:f,34:Ha,60:313,193:333,195:Un,312:y},t(Pi,[2,417]),t(Pi,[2,418]),t(at,[2,146],{253:334,254:[1,335]}),{13:d,16:f,34:re,35:de,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,255:336,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{258:[1,337]},t(lt,[2,435]),t(lt,[2,436]),t(lt,[2,437]),t(lt,[2,438]),t(lt,[2,439]),t(lt,[2,440]),{258:[2,442]},t([37,38,191,250,254,258,278,295,334,335,336,337,338,339],[2,151],{261:338,262:339,263:340,265:341,271:[1,342],273:[1,343],306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe}),t(St,[2,155],{269:344,270:345,26:to,331:ro}),t(wt,[2,157]),t(wt,[2,158]),t(wt,[2,159]),t(Rr,[2,88]),t(lt,[2,352],{175:348,316:[1,349]}),{38:[1,350]},t(Rr,[2,169]),{13:d,16:f,34:re,35:de,36:351,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{13:d,16:f,34:re,35:de,36:352,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{13:d,16:f,34:re,35:de,36:353,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(Rr,[2,173]),t(Rr,[2,90]),t(lt,[2,356],{178:354}),{34:[1,355]},t(Rr,[2,175]),{13:d,16:f,34:re,35:de,36:356,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{46:Fn,62:357},t(pn,[2,183]),{13:d,16:f,60:358,312:y},t(Vn,[2,462],{286:359,316:[1,360]}),t(lt,[2,466],{289:361,316:[1,362]}),t(lt,[2,468],{291:363,316:[1,364]}),{13:d,16:f,48:[1,365],60:367,87:_e,97:366,98:368,99:369,100:Es,231:Qa,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},{48:[1,372],93:[1,373]},{46:[1,374]},t(eo,[2,273]),t(vt,[2,50]),t(vt,[2,285]),{119:[1,375]},t(vt,[2,66]),t(D,Wt,{142:183,115:376,119:Nr,141:Or}),t(Fp,[2,65]),t(vt,[2,53]),{48:[1,377],119:[1,379],146:378},t(Va,[2,330],{154:380,328:[1,381]}),{45:[1,382],134:383,135:Ni},{45:[1,385],134:386,135:Ni},t(Di,[2,260],{66:387,85:388,86:[1,389],88:[1,390]}),t(ka,[2,259]),{69:[1,391]},t(va,[2,30],{274:133,280:138,283:141,82:290,72:291,73:292,60:293,84:392,13:d,16:f,35:de,275:fe,276:ae,277:oe,279:pe,281:Oe,282:Ue,284:N,285:L,288:V,290:$,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e}),t(kn,[2,264]),t(Zo,[2,85]),t(Zo,[2,86]),t(Zo,[2,87]),{35:Yr,93:Bn},{48:[1,393]},{48:[1,394]},{20:395,45:ee,46:Y,61:98},{20:396,45:ee,46:Y,61:98},t(j,[2,334],{157:397}),t(j,[2,333]),{13:d,16:f,34:Ur,35:G,39:402,60:220,87:_e,93:cr,98:221,164:398,201:399,203:400,226:Z,231:nt,243:401,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(se,[2,20]),t(Di,[2,22]),{13:d,16:f,34:De,35:je,60:293,70:405,71:406,72:407,73:408,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(s,[2,16]),{48:[1,411]},{48:[2,237]},{48:[2,93]},t(H,[2,361],{48:[2,363]}),t(Ga,[2,94]),t(Ve,[2,368],{189:412}),t(H,[2,372],{194:413,196:414}),t(H,[2,100]),t(H,[2,101]),t(H,[2,102]),t(Ga,[2,95]),t(Ga,[2,96]),t(Ga,[2,367]),{13:d,16:f,34:Ur,35:Ii,38:[1,415],39:323,60:220,87:_e,93:cr,98:221,185:321,197:416,226:$i,229:320,231:nt,243:322,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(ot,[2,403]),t(It,[2,129]),t(It,[2,130]),t(It,[2,407]),t(It,[2,408]),{227:[1,417]},t(s,[2,18]),{38:[1,418]},{38:[1,419]},t(at,[2,432]),{13:d,16:f,34:re,35:de,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:420,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{46:[1,421]},{46:[2,411]},{46:[2,412]},{13:d,16:f,34:Ur,39:423,60:220,87:_e,93:cr,98:221,231:nt,237:422,243:424,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(ct,[2,434]),{13:d,16:f,34:re,35:de,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,251:425,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(ct,[2,149]),{35:Ts,93:Lp,177:426},t(St,[2,444]),{13:d,16:f,34:re,35:de,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,259:427,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(wt,[2,447],{264:428}),t(wt,[2,449],{266:429}),t(lt,[2,445]),t(lt,[2,446]),t(wt,[2,452]),{13:d,16:f,34:re,35:de,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,263:146,265:147,267:430,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(lt,[2,453]),t(lt,[2,454]),t(lt,[2,354],{176:431}),t(lt,[2,353]),t([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,271,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344],[2,167]),{38:[1,432]},{278:[1,433]},{278:[1,434]},{13:d,16:f,34:re,35:de,36:435,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{38:[1,436]},{38:[1,437]},t(Rr,[2,177]),t(pn,[2,184]),{13:d,16:f,26:[1,439],34:re,35:de,36:440,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,287:438,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(Vn,[2,463]),{13:d,16:f,34:re,35:de,36:441,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(lt,[2,467]),{13:d,16:f,34:re,35:de,36:442,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(lt,[2,469]),t(hr,[2,41]),t(Mp,[2,269]),t($t,[2,44]),t($t,[2,45]),t($t,[2,46]),t($t,[2,47]),{13:d,16:f,60:220,87:_e,93:cr,98:221,99:445,119:[1,443],231:Qa,241:444,244:446,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(hr,[2,42]),t(Yi,[2,271]),t(Kt,[2,274],{96:447}),{13:d,16:f,60:448,312:y},t(vt,[2,52]),t([6,45,132,133,135,191],[2,68]),t(Va,[2,319]),{13:d,16:f,34:[1,450],60:451,147:449,312:y},t(Va,[2,70]),t(H,[2,329],{48:Ar,119:Ar}),{46:Fn,62:452},t(Pn,[2,302]),t(D,[2,309],{136:453,320:[1,454]}),{46:Fn,62:455},t(Pn,[2,308]),t(Di,[2,23]),t(Di,[2,261]),{87:[1,456]},{87:[1,457]},{13:d,16:f,34:pr,35:de,60:293,72:291,73:292,79:458,80:459,81:Nn,82:290,83:Ci,84:462,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(kn,[2,265]),t(wn,[2,71]),t(wn,[2,72]),t(va,Ki,{64:196,74:197,21:464,75:Zs}),t(xi,Xi,{63:204,67:205,24:465,68:ii}),{46:[2,344],48:[2,73],89:475,90:a,119:[1,471],158:466,159:467,166:468,167:[1,469],168:[1,470],170:[1,472],173:[1,473],174:[1,474]},t(j,[2,342],{165:476,328:[1,477]}),t(Zr,lr,{202:478,205:479,210:480,211:482,34:Dn}),t(za,[2,378],{205:479,210:480,211:482,204:483,202:484,13:lr,16:lr,35:lr,195:lr,219:lr,224:lr,312:lr,34:Dn}),t(no,[2,376]),t(no,[2,377]),{13:d,16:f,34:Ur,35:G,39:490,60:220,87:_e,93:cr,98:221,200:486,203:488,226:Z,228:485,230:487,231:nt,243:489,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(Zr,lr,{205:479,210:480,211:482,202:491,34:Dn}),t(xi,[2,24],{274:133,280:138,283:141,60:293,72:407,73:408,71:492,13:d,16:f,34:De,35:je,275:fe,276:ae,277:oe,279:pe,281:Oe,282:Ue,284:N,285:L,288:V,290:$,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e}),t(ta,[2,262]),t(ta,[2,25]),t(ta,[2,26]),{13:d,16:f,34:re,35:de,36:493,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(ta,[2,29]),t(xi,Xi,{63:204,67:205,24:494,68:ii}),t([48,119,227,328],[2,97],{190:495,191:[1,496]}),t(Ve,[2,99]),{13:d,16:f,34:Ur,35:Ii,39:323,60:220,87:_e,93:cr,98:221,185:321,197:497,226:$i,229:320,231:nt,243:322,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(ar,[2,125]),t(ot,[2,404]),t(ar,[2,126]),t(J,[2,14]),t(J,[2,15]),t(at,[2,145]),{13:d,16:f,34:Ur,39:499,60:220,87:_e,93:cr,98:221,231:nt,233:498,243:500,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},{235:[1,501]},{235:[2,419]},{235:[2,420]},t(ct,[2,147]),t(ct,[2,150]),t(St,[2,152]),t(St,[2,153],{270:345,269:502,26:to,331:ro}),t(St,[2,154],{270:345,269:503,26:to,331:ro}),t(wt,[2,156]),{13:d,16:f,34:re,35:de,36:504,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(Rr,[2,170]),{13:d,16:f,34:re,35:de,36:505,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{13:d,16:f,34:re,35:de,36:506,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{38:[1,507],278:[1,508]},t(Rr,[2,174]),t(Rr,[2,176]),{38:[1,509]},{38:[2,464]},{38:[2,465]},{38:[1,510]},{38:[2,470],191:[1,513],292:511,293:512},{13:d,16:f,34:[1,515],60:516,238:514,312:y},{13:d,16:f,34:Ha,60:313,193:517,195:Un,312:y},t(Pi,[2,427]),t(Pi,[2,428]),{35:[1,520],48:[1,518],101:519},t(vt,[2,63]),{46:[1,521]},{46:[2,320]},{46:[2,321]},t(vt,[2,57]),{13:d,16:f,60:522,312:y},t(D,[2,310]),t(vt,[2,58]),t(Di,[2,36],{88:[1,523]}),t(Di,[2,37],{86:[1,524]}),t(ka,[2,31],{274:133,280:138,283:141,82:290,72:291,73:292,60:293,84:462,80:525,13:d,16:f,34:pr,35:de,81:Nn,83:Ci,275:fe,276:ae,277:oe,279:pe,281:Oe,282:Ue,284:N,285:L,288:V,290:$,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e}),t(en,[2,266]),{35:de,82:526},{35:de,82:527},t(en,[2,34]),t(en,[2,35]),{31:528,48:[2,228],89:529,90:a},{32:530,48:[2,230],89:531,90:a},t(j,[2,335]),t(Wa,[2,336],{160:532,328:[1,533]}),{46:Fn,62:534},{46:Fn,62:535},{46:Fn,62:536},{13:d,16:f,34:[1,538],60:539,169:537,312:y},t(Os,[2,348],{171:540,321:[1,541]}),{13:d,16:f,35:de,60:293,72:291,73:292,82:290,84:542,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{35:[1,543]},t(Hn,[2,84]),t(j,[2,75]),t(H,[2,341],{46:ji,48:ji,90:ji,119:ji,167:ji,168:ji,170:ji,173:ji,174:ji}),t(za,[2,105]),t(H,[2,382],{206:544}),t(H,[2,380]),t(H,[2,381]),t(Zr,[2,390],{212:545,213:546}),t(za,[2,106]),t(za,[2,379]),{13:d,16:f,34:Ur,35:G,38:[1,547],39:490,60:220,87:_e,93:cr,98:221,200:548,203:488,226:Z,230:487,231:nt,243:489,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(ot,[2,405]),t(Bp,[2,131]),t(Bp,[2,132]),t(Bp,[2,409]),t(Bp,[2,410]),{227:[1,549]},t(ta,[2,263]),{37:[1,551],38:[1,550]},t(s,[2,17]),t(Ve,[2,369]),t(Ve,[2,370],{193:311,60:313,192:552,188:553,13:d,16:f,34:Ha,195:Un,312:y}),t(Ve,[2,103],{278:[1,554]}),{13:d,16:f,34:Ha,60:313,193:555,195:Un,312:y},t(Pi,[2,413]),t(Pi,[2,414]),t(Og,[2,134]),t(wt,[2,448]),t(wt,[2,450]),{38:[1,556],278:[1,557]},{38:[1,558]},{278:[1,559]},t(Rr,[2,91]),t(lt,[2,357]),t(Rr,[2,178]),t(Rr,[2,179]),{38:[1,560]},{38:[2,471]},{294:[1,561]},{46:[1,562]},{46:[2,421]},{46:[2,422]},{13:d,16:f,60:220,87:_e,93:cr,98:221,99:564,231:Qa,242:563,244:565,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(hr,[2,43]),t(Kt,[2,275]),{13:d,16:f,60:367,87:_e,97:567,98:368,99:369,100:Es,102:566,231:Qa,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(H,gr,{152:188,148:568,151:569,48:[2,322]}),t(Pn,[2,61]),{87:[1,570]},{87:[1,571]},t(en,[2,267]),t(en,[2,32]),t(en,[2,33]),{48:[2,11]},{48:[2,229]},{48:[2,12]},{48:[2,231]},t(H,Zi,{163:300,161:572,162:573,46:Ka,48:Ka,90:Ka,119:Ka,167:Ka,168:Ka,170:Ka,173:Ka,174:Ka}),t(Wa,[2,337]),t(Hn,[2,76],{329:[1,574]}),t(Hn,[2,77]),t(Hn,[2,78]),{46:Fn,62:575},{46:[2,346]},{46:[2,347]},{13:d,16:f,34:[1,577],60:578,172:576,312:y},t(Os,[2,349]),t(Hn,[2,81]),{13:d,16:f,34:re,35:de,36:579,39:580,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,231:nt,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},{13:d,16:f,34:Ur,35:G,39:490,60:220,87:_e,93:cr,98:221,200:581,203:488,226:Z,230:487,231:nt,243:489,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(ot,[2,110],{330:[1,582]}),t(Y_,[2,397],{214:583,218:584,224:[1,585]}),t(Up,[2,127]),t(ot,[2,406]),t(Up,[2,128]),t(ta,[2,27]),{34:[1,586]},t(Ve,[2,98]),t(Ve,[2,371]),t(H,[2,373]),{13:d,16:f,34:Ur,39:588,60:220,87:_e,93:cr,98:221,231:nt,234:587,243:589,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(Rr,[2,89]),t(lt,[2,355]),t(Rr,[2,171]),{13:d,16:f,34:re,35:de,36:590,60:128,72:127,73:129,82:126,87:_e,98:130,219:Ce,247:116,251:118,255:119,259:120,263:146,265:147,267:121,271:ze,272:125,273:Ye,274:133,275:fe,276:ae,277:oe,279:pe,280:138,281:Oe,282:Ue,283:141,284:N,285:L,288:V,290:$,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y,339:Be,340:Ge,341:Ze,342:mt,343:ft,344:$e},t(Rr,[2,180]),{295:[1,591]},{13:d,16:f,60:220,87:_e,93:cr,98:221,99:593,231:Qa,239:592,244:594,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},{235:[1,595]},{235:[2,429]},{235:[2,430]},{13:d,16:f,38:[1,596],60:367,87:_e,97:597,98:368,99:369,100:Es,231:Qa,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(Vp,[2,276]),{48:[1,598]},{48:[2,323]},t(Di,[2,38]),t(Di,[2,39]),t(j,[2,74]),t(j,[2,339]),{46:[2,345]},t(Hn,[2,79]),{46:Fn,62:599},{46:[2,350]},{46:[2,351]},{37:[1,600]},{37:[1,601]},t(Rs,[2,384],{207:602,278:[1,603]}),t(Zr,[2,389]),t([13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330],[2,111],{331:[1,604]}),{13:d,16:f,35:[1,610],60:607,195:[1,608],215:605,216:606,219:[1,609],312:y},t(Y_,[2,398]),{38:[1,611]},{48:[1,612]},{48:[2,415]},{48:[2,416]},{38:[1,613]},{296:614,302:B,303:Q,304:K,305:W},{13:d,16:f,34:Ha,60:313,193:615,195:Un,312:y},t(Pi,[2,423]),t(Pi,[2,424]),t(tc,[2,136]),t(Kt,[2,48]),t(Vp,[2,277]),t(rc,[2,324],{149:616,328:[1,617]}),t(Hn,[2,80]),{34:[1,618]},{34:[1,619]},t([46,48,90,119,167,168,170,173,174,227,328],[2,107],{208:620,191:[1,621]}),t(H,[2,383]),t(Zr,[2,391]),t(As,[2,113]),t(As,[2,395],{217:622,332:623,26:[1,625],271:[1,626],333:[1,624]}),t(_n,[2,114]),t(_n,[2,115]),{13:d,16:f,35:[1,630],60:631,93:[1,629],195:mr,220:627,221:628,224:nc,312:y},t(Zr,lr,{211:482,210:634}),t(ta,[2,28]),{235:[1,635]},t(Rr,[2,172]),{38:[2,181]},{13:d,16:f,60:220,87:_e,93:cr,98:221,99:637,231:Qa,240:636,244:638,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},t(H,gr,{152:188,150:639,151:640,48:eu,119:eu}),t(rc,[2,325]),{38:[1,641]},{38:[1,642]},t(Rs,[2,385]),t(Rs,[2,108],{211:482,209:643,210:644,13:lr,16:lr,35:lr,195:lr,219:lr,224:lr,312:lr,34:[1,645]}),t(As,[2,112]),t(As,[2,396]),t(As,[2,392]),t(As,[2,393]),t(As,[2,394]),t(_n,[2,116]),t(_n,[2,118]),t(_n,[2,119]),t(ic,[2,399],{222:646}),t(_n,[2,121]),t(_n,[2,122]),{13:d,16:f,60:647,195:[1,648],312:y},{38:[1,649]},t(Og,[2,133]),{48:[1,650]},{48:[2,425]},{48:[2,426]},t(Va,[2,69]),t(Va,[2,327]),t(Hn,[2,82]),t(Hn,[2,83]),t(H,[2,374],{198:651,199:652}),t(H,[2,386]),t(H,[2,387]),{13:d,16:f,38:[2,401],60:631,195:mr,221:654,223:653,224:nc,312:y},t(_n,[2,123]),t(_n,[2,124]),t(_n,[2,117]),{235:[1,655]},t(Rs,[2,109]),{13:d,16:f,34:Ur,35:G,39:490,60:220,87:_e,93:cr,98:221,200:656,203:488,226:Z,230:487,231:nt,243:489,244:219,245:F,246:ie,263:146,265:147,296:142,299:M,300:k,301:z,302:B,303:Q,304:K,305:W,306:ne,307:ge,308:Se,309:Pe,310:qe,311:Fe,312:y},{38:[1,657]},{38:[2,402],330:[1,658]},t(tc,[2,135]),t(Rs,[2,104],{278:[1,659]}),t(_n,[2,120]),t(ic,[2,400]),t(H,[2,375])],defaultActions:{5:[2,206],6:[2,207],8:[2,205],26:[2,1],27:[2,3],28:[2,217],77:[2,49],86:[2,296],100:[2,253],107:[2,359],157:[2,461],245:[2,442],306:[2,237],307:[2,93],331:[2,411],332:[2,412],423:[2,419],424:[2,420],439:[2,464],440:[2,465],450:[2,320],451:[2,321],512:[2,471],515:[2,421],516:[2,422],528:[2,11],529:[2,229],530:[2,12],531:[2,231],538:[2,346],539:[2,347],564:[2,429],565:[2,430],569:[2,323],574:[2,345],577:[2,350],578:[2,351],588:[2,415],589:[2,416],614:[2,181],637:[2,425],638:[2,426]},parseError:function(ce,ye){if(ye.recoverable)this.trace(ce);else{var Ie=new Error(ce);throw Ie.hash=ye,Ie}},parse:function(ce){var ye=this,Ie=[0],it=[],Tt=[null],I=[],Tn=this.table,q="",qi=0,cc=0,lc=0,Kp=2,dc=1,un=I.slice.call(arguments,1),vr=Object.create(this.lexer),zn={yy:{}};for(var Ya in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ya)&&(zn.yy[Ya]=this.yy[Ya]);vr.setInput(ce,zn.yy),zn.yy.lexer=vr,zn.yy.parser=this,typeof vr.yylloc>"u"&&(vr.yylloc={});var uu=vr.yylloc;I.push(uu);var _r=vr.options&&vr.options.ranges;typeof zn.yy.parseError=="function"?this.parseError=zn.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function wr(sr){Ie.length=Ie.length-2*sr,Tt.length=Tt.length-sr,I.length=I.length-sr}e:var kt=function(){var sr;return sr=vr.lex()||dc,typeof sr!="number"&&(sr=ye.symbols_[sr]||sr),sr};for(var Zt,Wn,so,aa,Vj,Xp,sa={},Za,es,oy,fc;;){if(so=Ie[Ie.length-1],this.defaultActions[so]?aa=this.defaultActions[so]:((Zt===null||typeof Zt>"u")&&(Zt=kt()),aa=Tn[so]&&Tn[so][Zt]),typeof aa>"u"||!aa.length||!aa[0]){var uy="";fc=[];for(Za in Tn[so])this.terminals_[Za]&&Za>Kp&&fc.push("'"+this.terminals_[Za]+"'");vr.showPosition?uy="Parse error on line "+(qi+1)+`:
`+vr.showPosition()+`
Expecting `+fc.join(", ")+", got '"+(this.terminals_[Zt]||Zt)+"'":uy="Parse error on line "+(qi+1)+": Unexpected "+(Zt==dc?"end of input":"'"+(this.terminals_[Zt]||Zt)+"'"),this.parseError(uy,{text:vr.match,token:this.terminals_[Zt]||Zt,line:vr.yylineno,loc:uu,expected:fc})}if(aa[0]instanceof Array&&aa.length>1)throw new Error("Parse Error: multiple actions possible at state: "+so+", token: "+Zt);switch(aa[0]){case 1:Ie.push(Zt),Tt.push(vr.yytext),I.push(vr.yylloc),Ie.push(aa[1]),Zt=null,Wn?(Zt=Wn,Wn=null):(cc=vr.yyleng,q=vr.yytext,qi=vr.yylineno,uu=vr.yylloc,lc>0&&lc--);break;case 2:if(es=this.productions_[aa[1]][1],sa.$=Tt[Tt.length-es],sa._$={first_line:I[I.length-(es||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(es||1)].first_column,last_column:I[I.length-1].last_column},_r&&(sa._$.range=[I[I.length-(es||1)].range[0],I[I.length-1].range[1]]),Xp=this.performAction.apply(sa,[q,cc,qi,zn.yy,aa[1],Tt,I].concat(un)),typeof Xp<"u")return Xp;es&&(Ie=Ie.slice(0,-1*es*2),Tt=Tt.slice(0,-1*es),I=I.slice(0,-1*es)),Ie.push(this.productions_[aa[1]][0]),Tt.push(sa.$),I.push(sa._$),oy=Tn[Ie[Ie.length-2]][Ie[Ie.length-1]],Ie.push(oy);break;case 3:return!0}}return!0}},ra=cR().Wildcard,kp="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Hp=kp+"type",Rg=kp+"first",Z_=kp+"rest",ey=kp+"nil",ai="http://www.w3.org/2001/XMLSchema#",ty=ai+"integer",Gp=ai+"decimal",ry=ai+"double",ny=ai+"boolean",tu="",Ag="",xg="";function si(he){return he.toLowerCase()}function Ta(he,ce){return he.push(ce),he}function ru(he,ce){return he.push.apply(he,ce),he}function xr(he){he||(he={});for(var ce=1,ye=arguments.length,Ie;ce<ye&&(Ie=arguments[ce]||{});ce++)for(var it in Ie)he[it]=Ie[it];return he}function Xa(){for(var he=[],ce=0,ye=arguments.length;ce<ye;ce++)he=he.concat.apply(he,arguments[ce]);return he}function ql(he){if(he[0]==="<"&&(he=he.substring(1,he.length-1)),/^[a-z]+:/i.test(he))return he;if(!pt.base)throw new Error("Cannot resolve relative IRI "+he+" because no base IRI was set.");switch(tu!==pt.base&&(tu=pt.base,Ag=tu.replace(/[^\/:]*$/,""),xg=tu.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),he[0]){case void 0:return tu;case"#":return tu+he;case"?":return tu.replace(/(?:\?.*)?$/,he);case"/":return xg+he;default:return Ag+he}}function Gn(he){if(he){var ce=he[0];if(ce==="?"||ce==="$")return pt.factory.variable(he.substr(1))}return he}function Cn(he,ce){return{type:"operation",operator:he,args:ce||[]}}function Ea(he,ce){var ye={expression:he==="*"?new ra:he};if(ce)for(var Ie in ce)ye[Ie]=ce[Ie];return ye}function na(he,ce){return{type:"path",pathType:he,items:ce}}function Vr(he,ce){for(var ye=0,Ie=ce.length,it;ye<Ie&&(it=ce[ye]);ye++)he=Cn(it[0],[he,it[1]]);return he}function Qn(he,ce){var ye=[],Ie=[],it=he.length,Tt,I={};if(!it)return null;for(var Tn=0;Tn<it&&(Tt=he[Tn]);Tn++)(Tt.named?Ie:ye).push(Tt.iri);return I[ce||"from"]={default:ye,named:Ie},I}function $a(he){return parseInt(he,10)}function Qp(he){return he.type==="group"&&he.patterns.length===1?he.patterns[0]:he}function oi(he,ce){return ce&&ce.termType!=="NamedNode"&&(ce=pt.factory.namedNode(ce)),pt.factory.literal(he,ce)}function Ig(he,ce){return pt.factory.literal(he,ce)}function Ja(he,ce,ye){var Ie={};return he!=null&&(Ie.subject=he),ce!=null&&(Ie.predicate=ce),ye!=null&&(Ie.object=ye),Ie}function Ll(he){return typeof he=="string"?he.startsWith("e_")?pt.factory.blankNode(he):pt.factory.blankNode("e_"+he):pt.factory.blankNode("g_"+zp++)}var zp=0;pt._resetBlanks=function(){zp=0};var ac=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Pg={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},ao=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,nu=String.fromCharCode;function ia(he,ce){he=he.substring(ce,he.length-ce);try{he=he.replace(ac,function(ye,Ie,it,Tt){var I;if(Ie){if(I=parseInt(Ie,16),isNaN(I))throw new Error;return nu(I)}else if(it){if(I=parseInt(it,16),isNaN(I))throw new Error;return I<65535?nu(I):nu(55296+((I-=65536)>>10),56320+(I&1023))}else{var Tn=Pg[Tt];if(!Tn)throw new Error;return Tn}})}catch{return""}if(ao.exec(he))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+he);return he}function iy(he){var ce=Ll(),ye=ce,Ie=[],it,Tt=[];he.forEach(function(qi){Ie.push(qi.entity),ru(Tt,qi.triples)});for(var I=0,Tn=0,q=Ie.length,it=Array(q*2);I<q;)it[Tn++]=Ja(ye,pt.factory.namedNode(Rg),Ie[I]),it[Tn++]=Ja(ye,pt.factory.namedNode(Z_),ye=++I<q?Ll():pt.factory.namedNode(ey));return{entity:ce,triples:ru(it,Tt)}}function Ng(he){var ce=Ll();return{entity:ce,triples:he.map(function(ye){return xr(Ja(ce),ye)})}}function iu(he,ce,ye){var Ie=[],it=[];return ce.forEach(function(Tt){Ie.push(Ja(null,he,Tt.entity)),ru(it,Tt.triples)}),Xa(Ie,ye||[],it)}function IO(he){for(var ce=[],ye,Ie=0,it;it=he[Ie];Ie++)switch(it.type){case"bgp":it.triples.length&&(ye?ru(ye.triples,it.triples):Ta(ce,ye=it));break;default:(!it.patterns||it.patterns.length>0)&&(Ta(ce,it),ye=null)}return ce}function au(he){return he.variable?he.variable.value:he.value||he.expression.value}function su(he){if(!he)return[];if(he.type==="aggregate")return[he];if(he.type==="operation"){let ce=[];for(let ye of he.args)ce.push(...su(ye));return ce}return[]}function Ml(he){let ce=new Set,ye=function(Ie){!Ie||(Ie.termType==="Variable"?ce.add(Ie):Ie.type==="operation"&&Ie.args.forEach(ye))};return ye(he),ce}function Sn(he,ce=1,ye=[]){for(let Ie of he)ce>0&&Ie instanceof Array?Sn(Ie,ce-1,ye):ye.push(Ie);return ye}function ou(he){return he.termType==="Variable"}function ay(he){if(he.triples){let ce=[];for(let ye of he.triples)ou(ye.subject)&&ce.push(ye.subject.value),ou(ye.predicate)&&ce.push(ye.predicate.value),ou(ye.object)&&ce.push(ye.object.value);return ce}else if(he.patterns){let ce=[];for(let ye of he.patterns)ce.push(...ay(ye));return ce}return[]}function Wp(he){let ce=he.slice().sort(),ye=[];for(let Ie=0;Ie<ce.length-1;Ie++)ce[Ie+1]==ce[Ie]&&ye.push(ce[Ie]);return ye}function sc(he){if(!pt.sparqlStar)throw new Error("SPARQL* support is not enabled");return he}function oc(he){for(let ce of he){if(ce.type==="graph"&&ce.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(ce.type==="bgp"||ce.type==="graph"){for(let ye of ce.triples)if(ye.subject.termType==="Variable"||ye.predicate.termType==="Variable"||ye.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return he}function uc(he){for(let ce of he)if(ce.type==="bgp"){for(let ye of ce.triples)if(ye.subject.termType==="BlankNode"||ye.predicate.termType==="BlankNode"||ye.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return he}var sy=function(){var he={EOF:1,parseError:function(ye,Ie){if(this.yy.parser)this.yy.parser.parseError(ye,Ie);else throw new Error(ye)},setInput:function(ce,ye){return this.yy=ye||this.yy||{},this._input=ce,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ce=this._input[0];this.yytext+=ce,this.yyleng++,this.offset++,this.match+=ce,this.matched+=ce;var ye=ce.match(/(?:\r\n?|\n).*/g);return ye?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ce},unput:function(ce){var ye=ce.length,Ie=ce.split(/(?:\r\n?|\n)/g);this._input=ce+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ye),this.offset-=ye;var it=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ie.length-1&&(this.yylineno-=Ie.length-1);var Tt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ie?(Ie.length===it.length?this.yylloc.first_column:0)+it[it.length-Ie.length].length-Ie[0].length:this.yylloc.first_column-ye},this.options.ranges&&(this.yylloc.range=[Tt[0],Tt[0]+this.yyleng-ye]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ce){this.unput(this.match.slice(ce))},pastInput:function(){var ce=this.matched.substr(0,this.matched.length-this.match.length);return(ce.length>20?"...":"")+ce.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ce=this.match;return ce.length<20&&(ce+=this._input.substr(0,20-ce.length)),(ce.substr(0,20)+(ce.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ce=this.pastInput(),ye=new Array(ce.length+1).join("-");return ce+this.upcomingInput()+`
`+ye+"^"},test_match:function(ce,ye){var Ie,it,Tt;if(this.options.backtrack_lexer&&(Tt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Tt.yylloc.range=this.yylloc.range.slice(0))),it=ce[0].match(/(?:\r\n?|\n).*/g),it&&(this.yylineno+=it.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:it?it[it.length-1].length-it[it.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ce[0].length},this.yytext+=ce[0],this.match+=ce[0],this.matches=ce,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ce[0].length),this.matched+=ce[0],Ie=this.performAction.call(this,this.yy,this,ye,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ie)return Ie;if(this._backtrack){for(var I in Tt)this[I]=Tt[I];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ce,ye,Ie,it;this._more||(this.yytext="",this.match="");for(var Tt=this._currentRules(),I=0;I<Tt.length;I++)if(Ie=this._input.match(this.rules[Tt[I]]),Ie&&(!ye||Ie[0].length>ye[0].length)){if(ye=Ie,it=I,this.options.backtrack_lexer){if(ce=this.test_match(Ie,Tt[I]),ce!==!1)return ce;if(this._backtrack){ye=!1;continue}else return!1}else if(!this.options.flex)break}return ye?(ce=this.test_match(ye,Tt[it]),ce!==!1?ce:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ye=this.next();return ye||this.lex()},begin:function(ye){this.conditionStack.push(ye)},popState:function(){var ye=this.conditionStack.length-1;return ye>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ye){return ye=this.conditionStack.length-1-Math.abs(ye||0),ye>=0?this.conditionStack[ye]:"INITIAL"},pushState:function(ye){this.begin(ye)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(ye,Ie,it,Tt){var I=Tt;switch(it){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 316;case 5:return 317;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 41;case 11:return 45;case 12:return 46;case 13:return 48;case 14:return 50;case 15:return 55;case 16:return 58;case 17:return 320;case 18:return 68;case 19:return 69;case 20:return 75;case 21:return 78;case 22:return 81;case 23:return 83;case 24:return 86;case 25:return 88;case 26:return 90;case 27:return 191;case 28:return 107;case 29:return 321;case 30:return 140;case 31:return 322;case 32:return 323;case 33:return 117;case 34:return 324;case 35:return 116;case 36:return 325;case 37:return 326;case 38:return 120;case 39:return 122;case 40:return 123;case 41:return 138;case 42:return 132;case 43:return 133;case 44:return 135;case 45:return 141;case 46:return 119;case 47:return 327;case 48:return 328;case 49:return 167;case 50:return 170;case 51:return 174;case 52:return 100;case 53:return 168;case 54:return 329;case 55:return 173;case 56:return 231;case 57:return 235;case 58:return 278;case 59:return 195;case 60:return 330;case 61:return 331;case 62:return 224;case 63:return 333;case 64:return 271;case 65:return 219;case 66:return 226;case 67:return 227;case 68:return 250;case 69:return 254;case 70:return 295;case 71:return 334;case 72:return 335;case 73:return 336;case 74:return 337;case 75:return 338;case 76:return 258;case 77:return 339;case 78:return 273;case 79:return 281;case 80:return 282;case 81:return 275;case 82:return 276;case 83:return 277;case 84:return 340;case 85:return 341;case 86:return 279;case 87:return 343;case 88:return 342;case 89:return 344;case 90:return 284;case 91:return 285;case 92:return 288;case 93:return 290;case 94:return 294;case 95:return 298;case 96:return 301;case 97:return 13;case 98:return 16;case 99:return 312;case 100:return 245;case 101:return 34;case 102:return 297;case 103:return 87;case 104:return 299;case 105:return 300;case 106:return 306;case 107:return 307;case 108:return 308;case 109:return 309;case 110:return 310;case 111:return 311;case 112:return"EXPONENT";case 113:return 302;case 114:return 303;case 115:return 304;case 116:return 305;case 117:return 93;case 118:return 246;case 119:return 6;case 120:return"INVALID";case 121:console.log(Ie.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}};return he}();io.lexer=sy;function pt(){this.yy={}}return pt.prototype=io,io.Parser=pt,new pt}();typeof hc<"u"&&typeof gc<"u"&&(gc.parser=u1,gc.Parser=u1.Parser,gc.parse=function(){return u1.parse.apply(u1,arguments)},gc.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var r=Xq().readFileSync($q().normalize(e[1]),"utf8");return gc.parser.parse(r)},typeof lR<"u"&&hc.main===lR&&gc.main(process.argv.slice(1)))});var tL=_((EDe,eL)=>{var Ste="http://www.w3.org/2001/XMLSchema#integer",Tte="http://www.w3.org/2001/XMLSchema#string";function jr(t){this._options=t=t||{};var e=t.prefixes||{};this._prefixByIri={};var r=[];for(var n in e){var i=e[n];ly(i)&&(this._prefixByIri[i]=n,r.push(i))}var a=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=t.sparqlStar,this._indent=ly(t.indent)?t.indent:"  ",this._newline=ly(t.newline)?t.newline:`
`,this._explicitDatatype=Boolean(t.explicitDatatype)}jr.prototype.toQuery=function(t){var e="";return t.queryType&&(e+=t.queryType.toUpperCase()+" "),t.reduced&&(e+="REDUCED "),t.distinct&&(e+="DISTINCT "),t.variables?e+=xa(t.variables,void 0,function(r){return mc(r)?this.toEntity(r):"("+this.toExpression(r.expression)+" AS "+c1(r.variable)+")"},this)+" ":t.template&&(e+=this.group(t.template,!0)+this._newline),t.from&&(e+=this.graphs("FROM ",t.from.default)+this.graphs("FROM NAMED ",t.from.named)),t.where&&(e+="WHERE "+this.group(t.where,!0)+this._newline),t.updates&&(e+=xa(t.updates,";"+this._newline,this.toUpdate,this)),t.group&&(e+="GROUP BY "+xa(t.group,void 0,function(r){var n=mc(r.expression)?this.toEntity(r.expression):"("+this.toExpression(r.expression)+")";return r.variable?"("+n+" AS "+c1(r.variable)+")":n},this)+this._newline),t.having&&(e+="HAVING ("+xa(t.having,void 0,this.toExpression,this)+")"+this._newline),t.order&&(e+="ORDER BY "+xa(t.order,void 0,function(r){var n="("+this.toExpression(r.expression)+")";return r.descending?"DESC "+n:n},this)+this._newline),t.offset&&(e+="OFFSET "+t.offset+this._newline),t.limit&&(e+="LIMIT "+t.limit+this._newline),t.values&&(e+=this.values(t)),e=this.baseAndPrefixes(t)+e,e.trim()};jr.prototype.baseAndPrefixes=function(t){var e=t.base?"BASE <"+t.base+">"+this._newline:"",r="";for(var n in t.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+t.prefixes[n]+">"+this._newline);return e+r};jr.prototype.toPattern=function(t){var e=t.type||t instanceof Array&&"array"||(t.subject&&t.predicate&&t.object?"triple":"");if(!(e in this))throw new Error("Unknown entry type: "+e);return this[e](t)};jr.prototype.triple=function(t){return this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+"."};jr.prototype.array=function(t){return xa(t,this._newline,this.toPattern,this)};jr.prototype.bgp=function(t){return this.encodeTriples(t.triples)};jr.prototype.encodeTriples=function(t){if(!t.length)return"";for(var e=[],r=void 0,n=void 0,i=0;i<t.length;i++){var a=t[i];Ql(a.subject,r)?Ql(a.predicate,n)?e.push(","):(n=a.predicate,e.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&e.push("."+this._newline),r=a.subject,n=a.predicate,e.push(this.toEntity(r)," ",this.toEntity(n))),e.push(" ",this.toEntity(a.object))}return e.push("."),e.join("")};jr.prototype.graph=function(t){return"GRAPH "+this.toEntity(t.name)+" "+this.group(t)};jr.prototype.graphs=function(t,e){return!e||e.length===0?"":xa(e,"",function(r){return t+this.toEntity(r)+this._newline},this)};jr.prototype.group=function(t,e){return t=e!==!0?this.array(t.patterns||t.triples):this.toPattern(t.type!=="group"?t:t.patterns),t.indexOf(this._newline)===-1?"{ "+t+" }":"{"+this._newline+this.indent(t)+this._newline+"}"};jr.prototype.query=function(t){return this.toQuery(t)};jr.prototype.filter=function(t){return"FILTER("+this.toExpression(t.expression)+")"};jr.prototype.bind=function(t){return"BIND("+this.toExpression(t.expression)+" AS "+c1(t.variable)+")"};jr.prototype.optional=function(t){return"OPTIONAL "+this.group(t)};jr.prototype.union=function(t){return xa(t.patterns,this._newline+"UNION"+this._newline,function(e){return this.group(e,!0)},this)};jr.prototype.minus=function(t){return"MINUS "+this.group(t)};jr.prototype.values=function(t){var e=Object.keys(t.values.reduce(function(i,a){for(var s in a)i[s]=!0;return i},{})),r,n;return e.length===1?r=n="":(r="(",n=")"),"VALUES "+r+e.join(" ")+n+" {"+this._newline+xa(t.values,this._newline,function(i){return"  "+r+xa(e,void 0,function(a){return i[a]?this.toEntity(i[a]):"UNDEF"},this)+n},this)+this._newline+"}"};jr.prototype.service=function(t){return"SERVICE "+(t.silent?"SILENT ":"")+this.toEntity(t.name)+" "+this.group(t)};jr.prototype.toExpression=function(t){if(mc(t))return this.toEntity(t);switch(t.type.toLowerCase()){case"aggregate":return t.aggregation.toUpperCase()+"("+(t.distinct?"DISTINCT ":"")+this.toExpression(t.expression)+(t.separator?'; SEPARATOR = "'+t.separator.replace(Yq,Zq)+'"':"")+")";case"functioncall":return this.toEntity(t.function)+"("+xa(t.args,", ",this.toExpression,this)+")";case"operation":var e=t.operator.toUpperCase(),r=t.args||[];switch(t.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(mc(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+e+" "+(mc(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"uplus":return"+("+this.toExpression(r[0])+")";case"uminus":return"-("+this.toExpression(r[0])+")";case"notin":e="NOT IN";case"in":return this.toExpression(r[0])+" "+e+"("+(ly(r[1])?r[1]:xa(r[1],", ",this.toExpression,this))+")";case"notexists":e="NOT EXISTS";case"exists":return e+" "+this.group(r[0],!0);default:return e+"("+xa(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+t.type)}};jr.prototype.toEntity=function(t){if(mc(t))switch(t.termType){case"Wildcard":return"*";case"Variable":return c1(t);case"BlankNode":return"_:"+t.value;case"Literal":var e=t.value||"",r=t.language||"",n=t.datatype;if(t='"'+e.replace(Yq,Zq)+'"',r)t+="@"+r;else if(n){if(!this._explicitDatatype)switch(n.value){case Tte:return t;case Ste:if(/^\d+$/.test(e))return e+" "}t+="^^"+this.encodeIRI(n.value)}return t;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return t.graph&&t.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(t.graph)+" { "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" }  >>":"<< "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" >>";default:return this.encodeIRI(t.value)}else{var i=t.items.map(this.toEntity,this),a=t.pathType;switch(a){case"^":case"!":return a+i[0];case"*":case"+":case"?":return"("+i[0]+a+")";default:return"("+i.join(a)+")"}}};var Yq=/["\\\t\n\r\b\f]/g,Zq=function(t){return Ete[t]},Ete={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};jr.prototype.encodeIRI=function(t){var e=this._prefixRegex.exec(t);if(e){var r=this._prefixByIri[e[1]];return this._usedPrefixes[r]=!0,r+":"+e[2]}return"<"+t+">"};jr.prototype.toUpdate=function(t){switch(t.type||t.updateType){case"load":return"LOAD"+(t.source?" "+this.toEntity(t.source):"")+(t.destination?" INTO GRAPH "+this.toEntity(t.destination):"");case"insert":return"INSERT DATA "+this.group(t.insert,!0);case"delete":return"DELETE DATA "+this.group(t.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(t.delete,!0);case"insertdelete":return(t.graph?"WITH "+this.toEntity(t.graph)+this._newline:"")+(t.delete.length?"DELETE "+this.group(t.delete,!0)+this._newline:"")+(t.insert.length?"INSERT "+this.group(t.insert,!0)+this._newline:"")+(t.using?this.graphs("USING ",t.using.default):"")+(t.using?this.graphs("USING NAMED ",t.using.named):"")+"WHERE "+this.group(t.where,!0);case"add":case"copy":case"move":return t.type.toUpperCase()+" "+(t.silent?"SILENT ":"")+(t.source.default?"DEFAULT":this.toEntity(t.source.name))+" TO "+this.toEntity(t.destination.name);case"create":case"clear":case"drop":return t.type.toUpperCase()+(t.silent?" SILENT ":" ")+(t.graph.default?"DEFAULT":t.graph.named?"NAMED":t.graph.all?"ALL":"GRAPH "+this.toEntity(t.graph.name));default:throw new Error("Unknown update query type: "+t.type)}};jr.prototype.indent=function(t){return t.replace(/^/gm,this._indent)};function c1(t){return"?"+t.value}function ly(t){return typeof t=="string"}function mc(t){return typeof t.termType=="string"}function Ql(t,e){if(!t||!mc(t)||!e||!mc(e)||t.termType!==e.termType)return!1;switch(t.termType){case"Literal":return t.value===e.value&&t.language===e.language&&Ql(t.datatype,e.datatype);case"Quad":return Ql(t.subject,e.subject)&&Ql(t.predicate,e.predicate)&&Ql(t.object,e.object)&&Ql(t.graph,e.graph);default:return t.value===e.value}}function xa(t,e,r,n){return t.map(r,n).join(ly(e)?e:" ")}eL.exports=function(e={}){return{stringify:function(r){var n=Object.create(e);return n.prefixes=r.prefixes,new jr(n).toQuery(r)},createGenerator:function(){return new jr(e)}}}});var r0=_((ODe,rL)=>{var vc=Jq().Parser,Ote=tL(),Rte=cR().Wildcard,{DataFactory:Ate}=Bt();rL.exports={Parser:function({prefixes:t,baseIRI:e,factory:r,sparqlStar:n,skipValidation:i,skipUngroupedVariableCheck:a}={}){var s={};for(var o in t||{})s[o]=t[o];var u=new vc;return u.parse=function(){return vc.base=e||"",vc.prefixes=Object.create(s),vc.factory=r||new Ate,vc.sparqlStar=Boolean(n),vc.skipValidation=Boolean(i)||Boolean(a),vc.prototype.parse.apply(u,arguments)},u._resetBlanks=vc._resetBlanks,u},Generator:Ote,Wildcard:Rte}});var dy=_(pu=>{"use strict";var xte=pu&&pu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ite=pu&&pu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Pte=pu&&pu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xte(e,t,r);return Ite(e,t),e};Object.defineProperty(pu,"__esModule",{value:!0});var et=Pte(e0()),Nte=Bt(),Dte=On(),Cte=r0(),dR=class{constructor(e){this.dataFactory=e||new Nte.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,r=!0){return this.flattenMulti({type:et.types.ALT,input:e},r)}createAsk(e){return{type:et.types.ASK,input:e}}createBoundAggregate(e,r,n,i,a){let s=this.createAggregateExpression(r,n,i,a);return s.variable=e,s}createBgp(e){return{type:et.types.BGP,patterns:e}}createConstruct(e,r){return{type:et.types.CONSTRUCT,input:e,template:r}}createDescribe(e,r){return{type:et.types.DESCRIBE,input:e,terms:r}}createDistinct(e){return{type:et.types.DISTINCT,input:e}}createExtend(e,r,n){return{type:et.types.EXTEND,input:e,variable:r,expression:n}}createFrom(e,r,n){return{type:et.types.FROM,input:e,default:r,named:n}}createFilter(e,r){return{type:et.types.FILTER,input:e,expression:r}}createGraph(e,r){return{type:et.types.GRAPH,input:e,name:r}}createGroup(e,r,n){return{type:et.types.GROUP,input:e,variables:r,aggregates:n}}createInv(e){return{type:et.types.INV,path:e}}createJoin(e,r=!0){return this.flattenMulti({type:et.types.JOIN,input:e},r)}createLeftJoin(e,r,n){return n?{type:et.types.LEFT_JOIN,input:[e,r],expression:n}:{type:et.types.LEFT_JOIN,input:[e,r]}}createLink(e){return{type:et.types.LINK,iri:e}}createMinus(e,r){return{type:et.types.MINUS,input:[e,r]}}createNop(){return{type:et.types.NOP}}createNps(e){return{type:et.types.NPS,iris:e}}createOneOrMorePath(e){return{type:et.types.ONE_OR_MORE_PATH,path:e}}createOrderBy(e,r){return{type:et.types.ORDER_BY,input:e,expressions:r}}createPath(e,r,n,i){return i?{type:et.types.PATH,subject:e,predicate:r,object:n,graph:i}:{type:et.types.PATH,subject:e,predicate:r,object:n,graph:this.dataFactory.defaultGraph()}}createPattern(e,r,n,i){let a=this.dataFactory.quad(e,r,n,i);return a.type=et.types.PATTERN,a}createProject(e,r){return{type:et.types.PROJECT,input:e,variables:r}}createReduced(e){return{type:et.types.REDUCED,input:e}}createSeq(e,r=!0){return this.flattenMulti({type:et.types.SEQ,input:e},r)}createService(e,r,n){return{type:et.types.SERVICE,input:e,name:r,silent:Boolean(n)}}createSlice(e,r,n){return r=r||0,n!==void 0?{type:et.types.SLICE,input:e,start:r,length:n}:{type:et.types.SLICE,input:e,start:r}}createUnion(e,r=!0){return this.flattenMulti({type:et.types.UNION,input:e},r)}createValues(e,r){return{type:et.types.VALUES,variables:e,bindings:r}}createZeroOrMorePath(e){return{type:et.types.ZERO_OR_MORE_PATH,path:e}}createZeroOrOnePath(e){return{type:et.types.ZERO_OR_ONE_PATH,path:e}}createAggregateExpression(e,r,n,i){return i?{type:et.types.EXPRESSION,expressionType:et.expressionTypes.AGGREGATE,aggregator:e,expression:r,separator:i,distinct:n}:{type:et.types.EXPRESSION,expressionType:et.expressionTypes.AGGREGATE,aggregator:e,expression:r,distinct:n}}createExistenceExpression(e,r){return{type:et.types.EXPRESSION,expressionType:et.expressionTypes.EXISTENCE,not:e,input:r}}createNamedExpression(e,r){return{type:et.types.EXPRESSION,expressionType:et.expressionTypes.NAMED,name:e,args:r}}createOperatorExpression(e,r){return{type:et.types.EXPRESSION,expressionType:et.expressionTypes.OPERATOR,operator:e,args:r}}createTermExpression(e){return{type:et.types.EXPRESSION,expressionType:et.expressionTypes.TERM,term:e}}createWildcardExpression(){return{type:et.types.EXPRESSION,expressionType:et.expressionTypes.WILDCARD,wildcard:new Cte.Wildcard}}createTerm(e){return(0,Dte.stringToTerm)(e,this.dataFactory)}createCompositeUpdate(e){return{type:et.types.COMPOSITE_UPDATE,updates:e}}createDeleteInsert(e,r,n){let i={type:et.types.DELETE_INSERT};return e&&(i.delete=e),r&&(i.insert=r),n&&(i.where=n),i}createLoad(e,r,n){let i={type:et.types.LOAD,source:e};return r&&(i.destination=r),this.addSilent(i,Boolean(n))}createClear(e,r){return this.addSilent({type:et.types.CLEAR,source:e},Boolean(r))}createCreate(e,r){return this.addSilent({type:et.types.CREATE,source:e},Boolean(r))}createDrop(e,r){return this.addSilent({type:et.types.DROP,source:e},Boolean(r))}createAdd(e,r,n){return this.addSilent({type:et.types.ADD,source:e,destination:r},Boolean(n))}createMove(e,r,n){return this.addSilent({type:et.types.MOVE,source:e,destination:r},Boolean(n))}createCopy(e,r,n){return this.addSilent({type:et.types.COPY,source:e,destination:r},Boolean(n))}addSilent(e,r){return r&&(e.silent=r),e}flattenMulti(e,r){if(!r)return e;let n=e.type,i=e.input,a=[];for(let s of i)s.type===n?a.push(...s.input):a.push(s);return e.input=a,e}};pu.default=dR});var l1=_(fy=>{"use strict";var jte=fy&&fy.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fy,"__esModule",{value:!0});var Ae=e0(),qte=jte(dy()),li=class{static flatten(e){return Array.prototype.concat(...e).filter(r=>r)}static objectify(e){if(e.termType){if(e.termType==="Quad")return{type:"pattern",termType:"Quad",subject:li.objectify(e.subject),predicate:li.objectify(e.predicate),object:li.objectify(e.object),graph:li.objectify(e.graph)};{let r={termType:e.termType,value:e.value};return e.language&&(r.language=e.language),e.datatype&&(r.datatype=li.objectify(e.datatype)),r}}if(Array.isArray(e))return e.map(r=>li.objectify(r));if(e===Object(e)){let r={};for(let n of Object.keys(e))r[n]=li.objectify(e[n]);return r}return e}static inScopeVariables(e){let r=[];function n(a){r.find(s=>a.value===s.value)||r.push(a)}function i(a){a.subject.termType==="Variable"&&n(a.subject),a.predicate.termType==="Variable"&&n(a.predicate),a.object.termType==="Variable"&&n(a.object),a.graph.termType==="Variable"&&n(a.graph),a.subject.termType==="Quad"&&i(a.subject),a.predicate.termType==="Quad"&&i(a.predicate),a.object.termType==="Quad"&&i(a.object),a.graph.termType==="Quad"&&i(a.graph)}return li.recurseOperation(e,{[Ae.types.EXPRESSION]:a=>(a.expressionType===Ae.expressionTypes.AGGREGATE&&a.variable&&n(a.variable),!0),[Ae.types.EXTEND]:a=>(n(a.variable),!0),[Ae.types.GRAPH]:a=>(a.name.termType==="Variable"&&n(a.name),!0),[Ae.types.GROUP]:a=>(a.variables.forEach(n),!0),[Ae.types.PATH]:a=>(a.subject.termType==="Variable"&&n(a.subject),a.object.termType==="Variable"&&n(a.object),a.graph.termType==="Variable"&&n(a.graph),a.subject.termType==="Quad"&&i(a.subject),a.object.termType==="Quad"&&i(a.object),a.graph.termType==="Quad"&&i(a.graph),!0),[Ae.types.PATTERN]:a=>(i(a),!0),[Ae.types.PROJECT]:a=>(a.variables.forEach(n),!1),[Ae.types.SERVICE]:a=>(a.name.termType==="Variable"&&n(a.name),!0),[Ae.types.VALUES]:a=>(a.variables.forEach(n),!0)}),r}static recurseOperation(e,r){let n=e,i=!0,a=r[e.type];if(a&&(i=a(e)),!i)return;let s=o=>li.recurseOperation(o,r);switch(n.type){case Ae.types.ALT:n.input.map(s);break;case Ae.types.ASK:s(n.input);break;case Ae.types.BGP:n.patterns.forEach(s);break;case Ae.types.CONSTRUCT:s(n.input),n.template.map(s);break;case Ae.types.DESCRIBE:s(n.input);break;case Ae.types.DISTINCT:s(n.input);break;case Ae.types.EXPRESSION:n.expressionType===Ae.expressionTypes.EXISTENCE&&s(n.input);break;case Ae.types.EXTEND:s(n.input),s(n.expression);break;case Ae.types.FILTER:s(n.input),s(n.expression);break;case Ae.types.FROM:s(n.input);break;case Ae.types.GRAPH:s(n.input);break;case Ae.types.GROUP:s(n.input),n.aggregates.forEach(s);break;case Ae.types.INV:s(n.path);break;case Ae.types.JOIN:n.input.map(s);break;case Ae.types.LEFT_JOIN:n.input.map(s),n.expression&&s(n.expression);break;case Ae.types.LINK:break;case Ae.types.MINUS:n.input.map(s);break;case Ae.types.NOP:break;case Ae.types.NPS:break;case Ae.types.ONE_OR_MORE_PATH:s(n.path);break;case Ae.types.ORDER_BY:s(n.input),n.expressions.forEach(s);break;case Ae.types.PATH:s(n.predicate);break;case Ae.types.PATTERN:break;case Ae.types.PROJECT:s(n.input);break;case Ae.types.REDUCED:s(n.input);break;case Ae.types.SEQ:n.input.map(s);break;case Ae.types.SERVICE:s(n.input);break;case Ae.types.SLICE:s(n.input);break;case Ae.types.UNION:n.input.map(s);break;case Ae.types.VALUES:break;case Ae.types.ZERO_OR_MORE_PATH:s(n.path);break;case Ae.types.ZERO_OR_ONE_PATH:s(n.path);break;case Ae.types.COMPOSITE_UPDATE:n.updates.forEach(o=>s(o));break;case Ae.types.DELETE_INSERT:n.delete&&n.delete.forEach(o=>s(o)),n.insert&&n.insert.forEach(o=>s(o)),n.where&&s(n.where);break;case Ae.types.LOAD:break;case Ae.types.CLEAR:break;case Ae.types.CREATE:break;case Ae.types.DROP:break;case Ae.types.ADD:break;case Ae.types.MOVE:break;case Ae.types.COPY:break;default:throw new Error(`Unknown Operation type ${n.type}`)}}static mapOperation(e,r,n){let i=e,a=!0;n=n||new qte.default;let s=r[e.type];if(s&&({result:i,recurse:a}=s(e,n)),!a)return i;let o=u=>li.mapOperation(u,r,n);switch(i.type){case Ae.types.ALT:return n.createAlt(i.input.map(o));case Ae.types.ASK:return n.createAsk(o(i.input));case Ae.types.BGP:return n.createBgp(i.patterns.map(o));case Ae.types.CONSTRUCT:return n.createConstruct(o(i.input),i.template.map(o));case Ae.types.DESCRIBE:return n.createDescribe(o(i.input),i.terms);case Ae.types.DISTINCT:return n.createDistinct(o(i.input));case Ae.types.EXPRESSION:return li.mapExpression(i,r,n);case Ae.types.EXTEND:return n.createExtend(o(i.input),i.variable,o(i.expression));case Ae.types.FILTER:return n.createFilter(o(i.input),o(i.expression));case Ae.types.FROM:return n.createFrom(o(i.input),[...i.default],[...i.named]);case Ae.types.GRAPH:return n.createGraph(o(i.input),i.name);case Ae.types.GROUP:return n.createGroup(o(i.input),[].concat(i.variables),i.aggregates.map(o));case Ae.types.INV:return n.createInv(o(i.path));case Ae.types.JOIN:return n.createJoin(i.input.map(o));case Ae.types.LEFT_JOIN:return n.createLeftJoin(o(i.input[0]),o(i.input[1]),i.expression?o(i.expression):void 0);case Ae.types.LINK:return n.createLink(i.iri);case Ae.types.MINUS:return n.createMinus(o(i.input[0]),o(i.input[1]));case Ae.types.NOP:return n.createNop();case Ae.types.NPS:return n.createNps([].concat(i.iris));case Ae.types.ONE_OR_MORE_PATH:return n.createOneOrMorePath(o(i.path));case Ae.types.ORDER_BY:return n.createOrderBy(o(i.input),i.expressions.map(o));case Ae.types.PATH:return n.createPath(i.subject,o(i.predicate),i.object,i.graph);case Ae.types.PATTERN:return n.createPattern(i.subject,i.predicate,i.object,i.graph);case Ae.types.PROJECT:return n.createProject(o(i.input),[...i.variables]);case Ae.types.REDUCED:return n.createReduced(o(i.input));case Ae.types.SEQ:return n.createSeq(i.input.map(o));case Ae.types.SERVICE:return n.createService(o(i.input),i.name,i.silent);case Ae.types.SLICE:return n.createSlice(o(i.input),i.start,i.length);case Ae.types.UNION:return n.createUnion(i.input.map(o));case Ae.types.VALUES:return n.createValues([].concat(i.variables),i.bindings.map(u=>Object.assign({},u)));case Ae.types.ZERO_OR_MORE_PATH:return n.createZeroOrMorePath(o(i.path));case Ae.types.ZERO_OR_ONE_PATH:return n.createZeroOrOnePath(o(i.path));case Ae.types.COMPOSITE_UPDATE:return n.createCompositeUpdate(i.updates.map(o));case Ae.types.DELETE_INSERT:return n.createDeleteInsert(i.delete?i.delete.map(o):void 0,i.insert?i.insert.map(o):void 0,i.where?o(i.where):void 0);case Ae.types.LOAD:return n.createLoad(i.source,i.destination,i.silent);case Ae.types.CLEAR:return n.createClear(i.source,i.silent);case Ae.types.CREATE:return n.createCreate(i.source,i.silent);case Ae.types.DROP:return n.createDrop(i.source,i.silent);case Ae.types.ADD:return n.createAdd(i.source,i.destination);case Ae.types.MOVE:return n.createMove(i.source,i.destination);case Ae.types.COPY:return n.createCopy(i.source,i.destination);default:throw new Error(`Unknown Operation type ${i.type}`)}}static mapExpression(e,r,n){let i=a=>li.mapOperation(a,r,n);switch(e.expressionType){case Ae.expressionTypes.AGGREGATE:return e.variable?n.createBoundAggregate(e.variable,e.aggregator,i(e.expression),e.distinct,e.separator):n.createAggregateExpression(e.aggregator,i(e.expression),e.distinct,e.separator);case Ae.expressionTypes.EXISTENCE:return n.createExistenceExpression(e.not,i(e.input));case Ae.expressionTypes.NAMED:return n.createNamedExpression(e.name,e.args.map(i));case Ae.expressionTypes.OPERATOR:return n.createOperatorExpression(e.operator,e.args.map(i));case Ae.expressionTypes.TERM:return n.createTermExpression(e.term);case Ae.expressionTypes.WILDCARD:return n.createWildcardExpression();default:throw new Error(`Unknown Expression type ${e.expressionType}`)}}static createUniqueVariable(e,r,n){let i=0,a=e;for(;r[a];)a=`${e}${i++}`;return n.variable(a)}static isSimpleTerm(e){return e.termType!==void 0&&e.termType!=="Quad"&&e.termType!=="Wildcard"}static isQuad(e){return e.termType==="Quad"}static isWildcard(e){return e.termType==="Wildcard"}};fy.default=li});var fL=_(xs=>{"use strict";var Lte=xs&&xs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mte=xs&&xs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fte=xs&&xs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lte(e,t,r);return Mte(e,t),e},sL=xs&&xs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xs,"__esModule",{value:!0});var Bte=Wq(),Ute=On(),hy=Fte(e0()),Vte=sL(dy()),oa=sL(l1()),kte=r0().Parser,Fi=hy.types,n0=new Set,oL=0,d1=!1,ke;function Hte(t,e){e=e||{},ke=new Vte.default(e.dataFactory);let r;if(Gte(t)){let n=new kte(e);n._resetBlanks(),r=n.parse(t)}else r=t;return uL(r,e.quads,e.blankToVariable)}xs.default=Hte;function uL(t,e,r){if(n0=new Set,oL=0,d1=Boolean(e),!t.type)return ke.createNop();if(t.type!=="query"&&t.type!=="update")throw new Error("Translate only works on complete query or update objects.");let n;if(fR(t),t.type==="query"){let i={type:"group",patterns:t.where||[]};n=_u(i),n=Jte(t,n)}else t.type==="update"&&(n=Zte(t));return r&&(n=dL(n)),n}function Gte(t){return typeof t=="string"}function cL(t){return Boolean(t?.termType)}function Qte(t){return t.subject&&t.predicate&&t.object}function _y(t){return t?.termType==="Variable"}function fR(t){if(cL(t))_y(t)&&n0.add(`?${t.value}`);else if(Array.isArray(t))for(let e of t)fR(e);else if(t&&typeof t=="object")for(let e of Object.keys(t))e.startsWith("?")&&n0.add(e),fR(t[e])}function Xn(t){let e={};if(Qte(t)){let r=[Xn(t.subject),Xn(t.predicate),Xn(t.object),t.graph?Xn(t.graph):{}];Object.assign(e,...r)}else if(cL(t))_y(t)&&(e[t.value]=t);else if(t.type==="bgp"){let r=t.triples;Object.assign(e,...r.map(Xn))}else if(t.type==="path")Object.assign(e,...t.items.map(Xn));else if(t.type==="group"||t.type==="union"||t.type==="optional")Object.assign(e,...t.patterns.map(Xn));else if(t.type==="service"||t.type==="graph")Object.assign(e,Xn(t.name)),Object.assign(e,...t.patterns.map(Xn));else if(t.type==="bind")Object.assign(e,Xn(t.variable));else if(t.type==="values"){if(t.values.length>0){let r=Object.keys(t.values[0]).map(n=>ke.createTerm(n));Object.assign(e,...r.map(Xn))}}else if(t.type==="query"&&(t.queryType==="SELECT"||t.queryType==="DESCRIBE")){t.where&&t.variables.some(oa.default.isWildcard)&&Object.assign(e,...t.where.map(Xn));for(let r of t.variables)_y(r)?Object.assign(e,Xn(r)):r.variable&&Object.assign(e,Xn(r.variable));if(t.queryType==="SELECT"){if(t.group)for(let r of t.group)r.variable&&Object.assign(e,Xn(r.variable));if(t.values){let r={type:"values",values:t.values};Object.assign(e,Xn(r))}}}return e}function _u(t){let e=[],r=[];if("patterns"in t)for(let i of t.patterns)(i.type==="filter"?e:r).push(i);if(t.type==="bgp")return zte(t);let n;if(t.type==="union")n=ke.createUnion(r.map(i=>(i.type!=="group"&&(i={type:"group",patterns:[i]}),_u(i))));else{if(t.type==="graph")return Kte(t);if(t.type==="group")n=r.reduce($te,ke.createBgp([]));else if(t.type==="values")n=lL(t);else if(t.type==="query")n=uL(t,d1,!1);else throw new Error(`Unexpected type: ${t.type}`)}if(e.length>0){let i=e.map(a=>ho(a.expression));i.length>0&&(n=ke.createFilter(n,i.reduce((a,s)=>ke.createOperatorExpression("&&",[a,s]))))}return n}function ho(t){if(oa.default.isSimpleTerm(t)||oa.default.isQuad(t))return ke.createTermExpression(t);if(oa.default.isWildcard(t))return ke.createWildcardExpression();if("aggregation"in t)return ke.createAggregateExpression(t.aggregation,ho(t.expression),Boolean(t.distinct),t.separator);if("function"in t)return ke.createNamedExpression(t.function,t.args.map(ho));if("operator"in t)return t.operator==="exists"||t.operator==="notexists"?ke.createExistenceExpression(t.operator==="notexists",_u(t.args[0])):((t.operator==="in"||t.operator==="notin")&&(t.args=[t.args[0]].concat(t.args[1])),ke.createOperatorExpression(t.operator,t.args.map(ho)));throw new Error(`Unknown expression: ${JSON.stringify(t)}`)}function zte(t){let e=[],r=[];for(let n of t.triples)if("pathType"in n.predicate){let i=Wte(n);for(let a of i)a.type===Fi.PATH?(e.length>0&&r.push(ke.createBgp(e)),e=[],r.push(a)):e.push(a)}else e.push(pR(n));return e.length>0&&r.push(ke.createBgp(e)),r.length===1?r[0]:ke.createJoin(r)}function Wte(t){let e=t.subject,r=zl(t.predicate),n=t.object;return hR(e,r,n)}function zl(t){if(oa.default.isSimpleTerm(t)){if(t.termType==="NamedNode")return ke.createLink(t);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(t)}`)}if(t.pathType==="^")return ke.createInv(zl(t.items[0]));if(t.pathType==="!"){let e=[],r=[],n;"pathType"in t.items[0]&&t.items[0].pathType==="|"?n=t.items[0].items:n=t.items;for(let s of n)if(oa.default.isSimpleTerm(s))e.push(s);else if(s.pathType==="^")r.push(s.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(s)}`);let i=ke.createNps(e),a=ke.createInv(ke.createNps(r));return r.length===0?i:e.length===0?a:ke.createAlt([i,a])}if(t.pathType==="/")return ke.createSeq(t.items.map(zl));if(t.pathType==="|")return ke.createAlt(t.items.map(zl));if(t.pathType==="*")return ke.createZeroOrMorePath(zl(t.items[0]));if(t.pathType==="+")return ke.createOneOrMorePath(zl(t.items[0]));if(t.pathType==="?")return ke.createZeroOrOnePath(zl(t.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(t)}`)}function hR(t,e,r){if(e.type===Fi.LINK)return[ke.createPattern(t,e.iri,r)];if(e.type===Fi.INV)return hR(r,e.path,t);if(e.type===Fi.SEQ){let n=t;return oa.default.flatten(e.input.map((i,a)=>{let s=a===e.input.length-1?r:i0(),o=hR(n,i,s);return s.termType==="Variable"&&(n=s),o}))}return[ke.createPath(t,e,r)]}function i0(){let t=`?var${oL++}`;return n0.has(t)?i0():(n0.add(t),ke.createTerm(t))}function pR(t){if("pathType"in t.predicate)throw new Error("Trying to translate property path to quad.");return ke.createPattern(t.subject,t.predicate,t.object,t.graph)}function Kte(t){let e={type:"group",patterns:t.patterns},r=_u(e);return d1?r=Wl(r,t.name):r=ke.createGraph(r,t.name),r}var Xte=Object.values(Fi);function Wl(t,e,r){if(t.type===Fi.GRAPH){if(r)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");t=Wl(t.input,t.name)}else if(t.type===Fi.BGP)t.patterns=t.patterns.map(n=>(r&&(n.subject.equals(e)&&(n.subject=r),n.predicate.equals(e)&&(n.predicate=r),n.object.equals(e)&&(n.object=r)),n.graph.termType==="DefaultGraph"&&(n.graph=e),n));else if(t.type===Fi.PATH)r&&(t.subject.equals(e)&&(t.subject=r),t.object.equals(e)&&(t.object=r)),t.graph.termType==="DefaultGraph"&&(t.graph=e);else if(t.type===Fi.PROJECT&&!r)t.variables.some(n=>n.equals(e))||(r=i0()),t.input=Wl(t.input,e,r);else if(t.type===Fi.EXTEND&&!r)t.variable.equals(e)&&(r=i0()),t.input=Wl(t.input,e,r);else for(let n of Object.keys(t))Array.isArray(t[n])?t[n]=t[n].map(i=>Wl(i,e,r)):Xte.indexOf(t[n].type)>=0?t[n]=Wl(t[n],e,r):r&&_y(t[n])&&t[n].equals(e)&&(t[n]=r);return t}function $te(t,e){if(e.type==="optional"){let r=_u({type:"group",patterns:e.patterns});r.type===Fi.FILTER?t=ke.createLeftJoin(t,r.input,r.expression):t=ke.createLeftJoin(t,r)}else if(e.type==="minus"){let r=_u({type:"group",patterns:e.patterns});t=ke.createMinus(t,r)}else if(e.type==="bind")t=ke.createExtend(t,e.variable,ho(e.expression));else if(e.type==="service"){let r={type:"group",patterns:e.patterns},n=ke.createService(_u(r),e.name,e.silent);t=nL(t,n)}else{let r=_u(e);t=nL(t,r)}return t}function nL(t,e){return t.type===Fi.BGP&&e.type===Fi.BGP?t=ke.createBgp([...t.patterns,...e.patterns]):t.type===Fi.BGP&&t.patterns.length===0?t=e:e.type===Fi.BGP&&e.patterns.length===0||(t=ke.createJoin([t,e])),t}function lL(t){let e=(t.values.length===0?[]:Object.keys(t.values[0])).map(ke.createTerm.bind(ke)),r=t.values.map(n=>{let i=Object.keys(n);i=i.filter(s=>n[s]!==void 0);let a={};for(let s of i)a[s]=n[s];return a});return ke.createValues(e,r)}function Jte(t,e){let r=t,n=[],i={};if(r.variables=r.variables&&r.variables.map(s=>py(s,i)),r.having=r.having&&r.having.map(s=>py(s,i)),r.order=r.order&&r.order.map(s=>py(s,i)),r.group||Object.keys(i).length>0){let s=Object.keys(i).map(u=>Yte(i[u],ke.createTerm(u))),o=[];if(r.group)for(let u of r.group)if(oa.default.isSimpleTerm(u.expression))o.push(u.expression);else{let d="variable"in u?u.variable:i0();e=ke.createExtend(e,d,ho(u.expression)),o.push(d)}e=ke.createGroup(e,o,s)}if(r.having)for(let s of r.having)e=ke.createFilter(e,ho(s));t.values&&(e=ke.createJoin([e,lL(t)]));let a=[];if(t.queryType==="SELECT"||t.queryType==="DESCRIBE")if(t.variables.some(s=>s&&oa.default.isWildcard(s)))a=Object.values(Xn(t)).sort((s,o)=>s.value.localeCompare(o.value));else for(let s of t.variables)_y(s)||!("variable"in s)?a.push(s):s.variable&&(a.push(s.variable),n.push(s));for(let s of n)e=ke.createExtend(e,s.variable,ho(s.expression));return r.order&&(e=ke.createOrderBy(e,r.order.map(s=>{let o=ho(s.expression);return s.descending&&(o=ke.createOperatorExpression("desc",[o])),o}))),t.queryType==="SELECT"&&(e=ke.createProject(e,a)),r.distinct&&(e=ke.createDistinct(e)),r.reduced&&(e=ke.createReduced(e)),t.queryType==="CONSTRUCT"?e=ke.createConstruct(e,(t.template||[]).map(pR)):t.queryType==="ASK"?e=ke.createAsk(e):t.queryType==="DESCRIBE"&&(e=ke.createDescribe(e,a)),(r.offset||r.limit)&&(e=ke.createSlice(e,r.offset||0,r.limit)),r.from&&(e=ke.createFrom(e,r.from.default,r.from.named)),e}function py(t,e){if("type"in t&&t.type==="aggregate"){let r=!1,n;for(let i of Object.keys(e))if(Bte(e[i],t)){n=ke.createTerm(i),r=!0;break}return r||(n=i0(),e[(0,Ute.termToString)(n)]=t),n}return"expression"in t&&t.expression?{...t,expression:py(t.expression,e)}:"args"in t&&t.args?{...t,args:t.args.map(r=>py(r,e))}:t}function Yte(t,e){if(t.type!=="aggregate"||!t.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(t)}`);let r=ho(t);return r.variable=e,r}function Zte(t){return t.updates.length===1?iL(t.updates[0]):ke.createCompositeUpdate(t.updates.map(iL))}function iL(t){if("type"in t){if(t.type==="load")return rre(t);if(t.type==="clear"||t.type==="create"||t.type==="drop")return tre(t);if(t.type==="add"||t.type==="copy"||t.type==="move")return nre(t)}else if(t.updateType==="insertdelete"||t.updateType==="deletewhere"||t.updateType==="delete"||t.updateType==="insert")return ere(t);throw new Error(`Unknown update type ${JSON.stringify(t)}`)}function ere(t){if(!d1)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let e=[],r=[],n;if(t.delete&&(e=oa.default.flatten(t.delete.map(i=>aL(i,t.graph)))),t.insert&&(r=oa.default.flatten(t.insert.map(i=>aL(i,t.graph)))),t.where&&t.where.length>0){n=_u({type:"group",patterns:t.where});let i=t.using;i?n=ke.createFrom(n,i.default,i.named):t.graph&&(n=Wl(n,t.graph))}else t.updateType==="deletewhere"&&e.length>0&&(n=ke.createBgp(e));return ke.createDeleteInsert(e.length>0?e:void 0,r.length>0?r:void 0,n)}function aL(t,e){let r=e;t.type==="graph"&&(r=t.name);let n=t.triples;return r&&(n=n.map(i=>Object.assign(i,{graph:r}))),n.map(pR)}function tre(t){let e;switch(oa.default.isSimpleTerm(t.graph)?e=t.graph:t.graph.all?e="ALL":t.graph.default?e="DEFAULT":t.graph.named?e="NAMED":e=t.graph.name,t.type){case"clear":return ke.createClear(e,t.silent);case"create":return ke.createCreate(e,t.silent);case"drop":return ke.createDrop(e,t.silent)}}function rre(t){return ke.createLoad(t.source,t.destination,t.silent)}function nre(t){let e=t.source.default?"DEFAULT":t.source.name,r=t.destination.default?"DEFAULT":t.destination.name;switch(t.type){case"copy":return ke.createCopy(e,r,t.silent);case"move":return ke.createMove(e,r,t.silent);case"add":return ke.createAdd(e,r,t.silent)}}function dL(t){let e={},r=Array.from(n0).reduce((i,a)=>(i[a]=!0,i),{});return oa.default.mapOperation(t,{[hy.types.DELETE_INSERT]:i=>({result:i,recurse:!1}),[hy.types.PATH]:(i,a)=>({result:a.createPath(n(i.subject),i.predicate,n(i.object),n(i.graph)),recurse:!1}),[hy.types.PATTERN]:(i,a)=>({result:a.createPattern(n(i.subject),n(i.predicate),n(i.object),n(i.graph)),recurse:!1}),[hy.types.CONSTRUCT]:i=>({result:ke.createConstruct(dL(i.input),i.template),recurse:!1})});function n(i){if(i.termType==="BlankNode"){let a=e[i.value];return a||(a=oa.default.createUniqueVariable(i.value,r,ke.dataFactory),r[a.value]=!0,e[i.value]=a),a}return i}}});var a0=_((IDe,pL)=>{pL.exports=hL;function hL(t,e){if(!t)throw new Error(e||"Assertion failed")}hL.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var ts=_((PDe,_R)=>{typeof Object.create=="function"?_R.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_R.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Is=_(Ir=>{"use strict";var ire=a0(),are=ts();Ir.inherits=are;function sre(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function ore(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):sre(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Ir.toArray=ore;function ure(t){for(var e="",r=0;r<t.length;r++)e+=yL(t[r].toString(16));return e}Ir.toHex=ure;function _L(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Ir.htonl=_L;function cre(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=_L(i)),r+=bL(i.toString(16))}return r}Ir.toHex32=cre;function yL(t){return t.length===1?"0"+t:t}Ir.zero2=yL;function bL(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Ir.zero8=bL;function lre(t,e,r,n){var i=r-e;ire(i%4===0);for(var a=new Array(i/4),s=0,o=e;s<a.length;s++,o+=4){var u;n==="big"?u=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:u=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=u>>>0}return a}Ir.join32=lre;function dre(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}Ir.split32=dre;function fre(t,e){return t>>>e|t<<32-e}Ir.rotr32=fre;function hre(t,e){return t<<e|t>>>32-e}Ir.rotl32=hre;function pre(t,e){return t+e>>>0}Ir.sum32=pre;function _re(t,e,r){return t+e+r>>>0}Ir.sum32_3=_re;function yre(t,e,r,n){return t+e+r+n>>>0}Ir.sum32_4=yre;function bre(t,e,r,n,i){return t+e+r+n+i>>>0}Ir.sum32_5=bre;function gre(t,e,r,n){var i=t[e],a=t[e+1],s=n+a>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s}Ir.sum64=gre;function mre(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}Ir.sum64_hi=mre;function vre(t,e,r,n){var i=e+n;return i>>>0}Ir.sum64_lo=vre;function wre(t,e,r,n,i,a,s,o){var u=0,d=e;d=d+n>>>0,u+=d<e?1:0,d=d+a>>>0,u+=d<a?1:0,d=d+o>>>0,u+=d<o?1:0;var f=t+r+i+s+u;return f>>>0}Ir.sum64_4_hi=wre;function Sre(t,e,r,n,i,a,s,o){var u=e+n+a+o;return u>>>0}Ir.sum64_4_lo=Sre;function Tre(t,e,r,n,i,a,s,o,u,d){var f=0,p=e;p=p+n>>>0,f+=p<e?1:0,p=p+a>>>0,f+=p<a?1:0,p=p+o>>>0,f+=p<o?1:0,p=p+d>>>0,f+=p<d?1:0;var y=t+r+i+s+u+f;return y>>>0}Ir.sum64_5_hi=Tre;function Ere(t,e,r,n,i,a,s,o,u,d){var f=e+n+a+o+d;return f>>>0}Ir.sum64_5_lo=Ere;function Ore(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Ir.rotr64_hi=Ore;function Rre(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ir.rotr64_lo=Rre;function Are(t,e,r){return t>>>r}Ir.shr64_hi=Are;function xre(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Ir.shr64_lo=xre});var s0=_(mL=>{"use strict";var gL=Is(),Ire=a0();function f1(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}mL.BlockHash=f1;f1.prototype.update=function(e,r){if(e=gL.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=gL.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};f1.prototype.digest=function(e){return this.update(this._pad()),Ire(this.pending===null),this._digest(e)};f1.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,s=8;s<this.padLength;s++)i[a++]=0;return i}});var yR=_(yu=>{"use strict";var Pre=Is(),po=Pre.rotr32;function Nre(t,e,r,n){if(t===0)return vL(e,r,n);if(t===1||t===3)return SL(e,r,n);if(t===2)return wL(e,r,n)}yu.ft_1=Nre;function vL(t,e,r){return t&e^~t&r}yu.ch32=vL;function wL(t,e,r){return t&e^t&r^e&r}yu.maj32=wL;function SL(t,e,r){return t^e^r}yu.p32=SL;function Dre(t){return po(t,2)^po(t,13)^po(t,22)}yu.s0_256=Dre;function Cre(t){return po(t,6)^po(t,11)^po(t,25)}yu.s1_256=Cre;function jre(t){return po(t,7)^po(t,18)^t>>>3}yu.g0_256=jre;function qre(t){return po(t,17)^po(t,19)^t>>>10}yu.g1_256=qre});var OL=_((jDe,EL)=>{"use strict";var o0=Is(),Lre=s0(),Mre=yR(),bR=o0.rotl32,yy=o0.sum32,Fre=o0.sum32_5,Bre=Mre.ft_1,TL=Lre.BlockHash,Ure=[1518500249,1859775393,2400959708,3395469782];function _o(){if(!(this instanceof _o))return new _o;TL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o0.inherits(_o,TL);EL.exports=_o;_o.blockSize=512;_o.outSize=160;_o.hmacStrength=80;_o.padLength=64;_o.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=bR(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],s=this.h[1],o=this.h[2],u=this.h[3],d=this.h[4];for(i=0;i<n.length;i++){var f=~~(i/20),p=Fre(bR(a,5),Bre(f,s,o,u),d,n[i],Ure[f]);d=u,u=o,o=bR(s,30),s=a,a=p}this.h[0]=yy(this.h[0],a),this.h[1]=yy(this.h[1],s),this.h[2]=yy(this.h[2],o),this.h[3]=yy(this.h[3],u),this.h[4]=yy(this.h[4],d)};_o.prototype._digest=function(e){return e==="hex"?o0.toHex32(this.h,"big"):o0.split32(this.h,"big")}});var gR=_((qDe,AL)=>{"use strict";var u0=Is(),Vre=s0(),c0=yR(),kre=a0(),Ps=u0.sum32,Hre=u0.sum32_4,Gre=u0.sum32_5,Qre=c0.ch32,zre=c0.maj32,Wre=c0.s0_256,Kre=c0.s1_256,Xre=c0.g0_256,$re=c0.g1_256,RL=Vre.BlockHash,Jre=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yo(){if(!(this instanceof yo))return new yo;RL.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Jre,this.W=new Array(64)}u0.inherits(yo,RL);AL.exports=yo;yo.blockSize=512;yo.outSize=256;yo.hmacStrength=192;yo.padLength=64;yo.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Hre($re(n[i-2]),n[i-7],Xre(n[i-15]),n[i-16]);var a=this.h[0],s=this.h[1],o=this.h[2],u=this.h[3],d=this.h[4],f=this.h[5],p=this.h[6],y=this.h[7];for(kre(this.k.length===n.length),i=0;i<n.length;i++){var g=Gre(y,Kre(d),Qre(d,f,p),this.k[i],n[i]),v=Ps(Wre(a),zre(a,s,o));y=p,p=f,f=d,d=Ps(u,g),u=o,o=s,s=a,a=Ps(g,v)}this.h[0]=Ps(this.h[0],a),this.h[1]=Ps(this.h[1],s),this.h[2]=Ps(this.h[2],o),this.h[3]=Ps(this.h[3],u),this.h[4]=Ps(this.h[4],d),this.h[5]=Ps(this.h[5],f),this.h[6]=Ps(this.h[6],p),this.h[7]=Ps(this.h[7],y)};yo.prototype._digest=function(e){return e==="hex"?u0.toHex32(this.h,"big"):u0.split32(this.h,"big")}});var PL=_((LDe,IL)=>{"use strict";var mR=Is(),xL=gR();function bu(){if(!(this instanceof bu))return new bu;xL.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}mR.inherits(bu,xL);IL.exports=bu;bu.blockSize=512;bu.outSize=224;bu.hmacStrength=192;bu.padLength=64;bu.prototype._digest=function(e){return e==="hex"?mR.toHex32(this.h.slice(0,7),"big"):mR.split32(this.h.slice(0,7),"big")}});var SR=_((MDe,jL)=>{"use strict";var ua=Is(),Yre=s0(),Zre=a0(),bo=ua.rotr64_hi,go=ua.rotr64_lo,NL=ua.shr64_hi,DL=ua.shr64_lo,wc=ua.sum64,vR=ua.sum64_hi,wR=ua.sum64_lo,ene=ua.sum64_4_hi,tne=ua.sum64_4_lo,rne=ua.sum64_5_hi,nne=ua.sum64_5_lo,CL=Yre.BlockHash,ine=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ns(){if(!(this instanceof Ns))return new Ns;CL.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ine,this.W=new Array(160)}ua.inherits(Ns,CL);jL.exports=Ns;Ns.blockSize=1024;Ns.outSize=512;Ns.hmacStrength=192;Ns.padLength=128;Ns.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=_ne(n[i-4],n[i-3]),s=yne(n[i-4],n[i-3]),o=n[i-14],u=n[i-13],d=hne(n[i-30],n[i-29]),f=pne(n[i-30],n[i-29]),p=n[i-32],y=n[i-31];n[i]=ene(a,s,o,u,d,f,p,y),n[i+1]=tne(a,s,o,u,d,f,p,y)}};Ns.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],d=this.h[5],f=this.h[6],p=this.h[7],y=this.h[8],g=this.h[9],v=this.h[10],E=this.h[11],D=this.h[12],O=this.h[13],C=this.h[14],R=this.h[15];Zre(this.k.length===n.length);for(var w=0;w<n.length;w+=2){var P=C,T=R,te=dne(y,g),ee=fne(y,g),Y=ane(y,g,v,E,D,O),x=sne(y,g,v,E,D,O),H=this.k[w],se=this.k[w+1],Ne=n[w],Me=n[w+1],J=rne(P,T,te,ee,Y,x,H,se,Ne,Me),re=nne(P,T,te,ee,Y,x,H,se,Ne,Me);P=cne(i,a),T=lne(i,a),te=one(i,a,s,o,u,d),ee=une(i,a,s,o,u,d);var de=vR(P,T,te,ee),_e=wR(P,T,te,ee);C=D,R=O,D=v,O=E,v=y,E=g,y=vR(f,p,J,re),g=wR(p,p,J,re),f=u,p=d,u=s,d=o,s=i,o=a,i=vR(J,re,de,_e),a=wR(J,re,de,_e)}wc(this.h,0,i,a),wc(this.h,2,s,o),wc(this.h,4,u,d),wc(this.h,6,f,p),wc(this.h,8,y,g),wc(this.h,10,v,E),wc(this.h,12,D,O),wc(this.h,14,C,R)};Ns.prototype._digest=function(e){return e==="hex"?ua.toHex32(this.h,"big"):ua.split32(this.h,"big")};function ane(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function sne(t,e,r,n,i,a){var s=e&n^~e&a;return s<0&&(s+=4294967296),s}function one(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function une(t,e,r,n,i,a){var s=e&n^e&a^n&a;return s<0&&(s+=4294967296),s}function cne(t,e){var r=bo(t,e,28),n=bo(e,t,2),i=bo(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function lne(t,e){var r=go(t,e,28),n=go(e,t,2),i=go(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function dne(t,e){var r=bo(t,e,14),n=bo(t,e,18),i=bo(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function fne(t,e){var r=go(t,e,14),n=go(t,e,18),i=go(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function hne(t,e){var r=bo(t,e,1),n=bo(t,e,8),i=NL(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function pne(t,e){var r=go(t,e,1),n=go(t,e,8),i=DL(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function _ne(t,e){var r=bo(t,e,19),n=bo(e,t,29),i=NL(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function yne(t,e){var r=go(t,e,19),n=go(e,t,29),i=DL(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}});var ML=_((FDe,LL)=>{"use strict";var TR=Is(),qL=SR();function gu(){if(!(this instanceof gu))return new gu;qL.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}TR.inherits(gu,qL);LL.exports=gu;gu.blockSize=1024;gu.outSize=384;gu.hmacStrength=192;gu.padLength=128;gu.prototype._digest=function(e){return e==="hex"?TR.toHex32(this.h.slice(0,12),"big"):TR.split32(this.h.slice(0,12),"big")}});var FL=_(l0=>{"use strict";l0.sha1=OL();l0.sha224=PL();l0.sha256=gR();l0.sha384=ML();l0.sha512=SR()});var GL=_(HL=>{"use strict";var Kl=Is(),bne=s0(),h1=Kl.rotl32,BL=Kl.sum32,by=Kl.sum32_3,UL=Kl.sum32_4,kL=bne.BlockHash;function mo(){if(!(this instanceof mo))return new mo;kL.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Kl.inherits(mo,kL);HL.ripemd160=mo;mo.blockSize=512;mo.outSize=160;mo.hmacStrength=192;mo.padLength=64;mo.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],u=n,d=i,f=a,p=s,y=o,g=0;g<80;g++){var v=BL(h1(UL(n,VL(g,i,a,s),e[vne[g]+r],gne(g)),Sne[g]),o);n=o,o=s,s=h1(a,10),a=i,i=v,v=BL(h1(UL(u,VL(79-g,d,f,p),e[wne[g]+r],mne(g)),Tne[g]),y),u=y,y=p,p=h1(f,10),f=d,d=v}v=by(this.h[1],a,p),this.h[1]=by(this.h[2],s,y),this.h[2]=by(this.h[3],o,u),this.h[3]=by(this.h[4],n,d),this.h[4]=by(this.h[0],i,f),this.h[0]=v};mo.prototype._digest=function(e){return e==="hex"?Kl.toHex32(this.h,"little"):Kl.split32(this.h,"little")};function VL(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function gne(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function mne(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var vne=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],wne=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Sne=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Tne=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var zL=_((VDe,QL)=>{"use strict";var Ene=Is(),One=a0();function d0(t,e,r){if(!(this instanceof d0))return new d0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Ene.toArray(e,r))}QL.exports=d0;d0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),One(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};d0.prototype.update=function(e,r){return this.inner.update(e,r),this};d0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var p1=_(WL=>{var $n=WL;$n.utils=Is();$n.common=s0();$n.sha=FL();$n.ripemd=GL();$n.hmac=zL();$n.sha1=$n.sha.sha1;$n.sha256=$n.sha.sha256;$n.sha224=$n.sha.sha224;$n.sha384=$n.sha.sha384;$n.sha512=$n.sha.sha512;$n.ripemd160=$n.ripemd.ripemd160});var e9=_(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.matchPatternMappings=Ht.matchPatternComplete=Ht.matchPattern=Ht.matchTerm=Ht.someTerms=Ht.everyTerms=Ht.reduceTerms=Ht.mapTerms=Ht.filterQuadTermNames=Ht.filterTerms=Ht.forEachTerms=Ht.collectNamedTerms=Ht.getNamedTerms=Ht.getTermsNested=Ht.getTerms=Ht.TRIPLE_TERM_NAMES=Ht.QUAD_TERM_NAMES=void 0;var Rne=Bt(),KL=new Rne.DataFactory;Ht.QUAD_TERM_NAMES=["subject","predicate","object","graph"];Ht.TRIPLE_TERM_NAMES=["subject","predicate","object"];function XL(t,e){return e&&t.graph.termType==="DefaultGraph"?[t.subject,t.predicate,t.object]:[t.subject,t.predicate,t.object,t.graph]}Ht.getTerms=XL;function $L(t,e){let r=[];for(let n of XL(t,e))n.termType==="Quad"?$L(n,e).forEach(i=>r.push(i)):r.push(n);return r}Ht.getTermsNested=$L;function Ane(t){return[{key:"subject",value:t.subject},{key:"predicate",value:t.predicate},{key:"object",value:t.object},{key:"graph",value:t.graph}]}Ht.getNamedTerms=Ane;function xne(t,e,r){let n={};return t.forEach(i=>n[i.key]=i.value),e&&(n.subject=n.subject||e("subject"),n.predicate=n.predicate||e("predicate"),n.object=n.object||e("object"),n.graph=n.graph||e("graph")),(r||KL).quad(n.subject,n.predicate,n.object,n.graph)}Ht.collectNamedTerms=xne;function Ine(t,e){e(t.subject,"subject"),e(t.predicate,"predicate"),e(t.object,"object"),e(t.graph,"graph")}Ht.forEachTerms=Ine;function Pne(t,e){let r=[];return e(t.subject,"subject")&&r.push(t.subject),e(t.predicate,"predicate")&&r.push(t.predicate),e(t.object,"object")&&r.push(t.object),e(t.graph,"graph")&&r.push(t.graph),r}Ht.filterTerms=Pne;function Nne(t,e){let r=[];return e(t.subject,"subject")&&r.push("subject"),e(t.predicate,"predicate")&&r.push("predicate"),e(t.object,"object")&&r.push("object"),e(t.graph,"graph")&&r.push("graph"),r}Ht.filterQuadTermNames=Nne;function Dne(t,e,r){return(r||KL).quad(e(t.subject,"subject"),e(t.predicate,"predicate"),e(t.object,"object"),e(t.graph,"graph"))}Ht.mapTerms=Dne;function Cne(t,e,r){let n=r;return n=e(n,t.subject,"subject"),n=e(n,t.predicate,"predicate"),n=e(n,t.object,"object"),e(n,t.graph,"graph")}Ht.reduceTerms=Cne;function JL(t,e){return e(t.subject,"subject")&&e(t.predicate,"predicate")&&e(t.object,"object")&&e(t.graph,"graph")}Ht.everyTerms=JL;function jne(t,e){return e(t.subject,"subject")||e(t.predicate,"predicate")||e(t.object,"object")||e(t.graph,"graph")}Ht.someTerms=jne;function gy(t,e){return!e||e.termType==="Variable"||e.termType==="Quad"&&t.termType==="Quad"&&ZL(t,e)||e.equals(t)}Ht.matchTerm=gy;function YL(t,e,r,n,i){return gy(t.subject,e)&&gy(t.predicate,r)&&gy(t.object,n)&&gy(t.graph,i)}Ht.matchPattern=YL;function ZL(t,e){return YL(t,e.subject,e.predicate,e.object,e.graph)}Ht.matchPatternComplete=ZL;function qne(t,e,r={}){let n={};function i(a,s){return JL(a,(o,u)=>{var d,f;let p=s[u];switch(o.termType){case"Variable":return r.skipVarMapping&&p.termType==="Variable"||((f=(d=n[o.value])===null||d===void 0?void 0:d.equals(p))!==null&&f!==void 0?f:(n[o.value]=p,!0));case"Quad":return p.termType==="Quad"&&i(o,p);default:return o.equals(p)}})}return i(e,t)&&(r.returnMappings?n:!0)}Ht.matchPatternMappings=qne});var t9=_(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.getQuads=yn.getDefaultGraphs=yn.getVariables=yn.getLiterals=yn.getBlankNodes=yn.getNamedNodes=yn.getTermsOfType=yn.uniqTerms=yn.TERM_TYPES=void 0;var Lne=On();yn.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function Mne(t){let e={};return t.filter(r=>{let n=Lne.termToString(r);return!(n in e)&&(e[n]=!0)})}yn.uniqTerms=Mne;function Xl(t,e){return t.filter(r=>r.termType===e)}yn.getTermsOfType=Xl;function Fne(t){return Xl(t,"NamedNode")}yn.getNamedNodes=Fne;function Bne(t){return Xl(t,"BlankNode")}yn.getBlankNodes=Bne;function Une(t){return Xl(t,"Literal")}yn.getLiterals=Une;function Vne(t){return Xl(t,"Variable")}yn.getVariables=Vne;function kne(t){return Xl(t,"DefaultGraph")}yn.getDefaultGraphs=kne;function Hne(t){return Xl(t,"Quad")}yn.getQuads=Hne});var vo=_(Sc=>{"use strict";var Gne=Sc&&Sc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),r9=Sc&&Sc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Gne(e,t,r)};Object.defineProperty(Sc,"__esModule",{value:!0});r9(e9(),Sc);r9(t9(),Sc)});var l9=_(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.isTermGrounded=Gt.termToSignature=Gt.quadToSignature=Gt.sha1hex=Gt.hashTerm=Gt.hashTerms=Gt.getGraphBlankNodes=Gt.uniqGraph=Gt.deindexGraph=Gt.indexGraph=Gt.getQuadsWithoutBlankNodes=Gt.getQuadsWithBlankNodes=Gt.hasValue=Gt.hashValues=Gt.getBijectionInner=Gt.getBijection=Gt.isomorphic=void 0;var Qne=p1(),Ds=On(),wo=vo();function zne(t,e){return!!i9(t,e)}Gt.isomorphic=zne;function i9(t,e){let r=_1(OR(t)),n=_1(OR(e));if(Object.keys(r).length!==Object.keys(n).length)return null;for(let u in r)if(r[u]!==n[u])return null;let i=RR(ER(t)),a=RR(ER(e)),s=AR(t),o=AR(e);return IR(i,a,s,o)}Gt.getBijection=i9;function IR(t,e,r,n,i,a){i||(i={}),a||(a={});let[s,o]=xR(t,r,i),[u,d]=xR(e,n,a);if(Object.keys(s).length!==Object.keys(u).length)return null;for(let p in s)if(!s9(u,s[p]))return null;let f={};for(let p of r){let y=Ds.termToString(p),g=o[y];for(let v in d)if(d[v]===g){f[y]=v,delete d[v];break}}if(!n9(Object.keys(f).sort(),r.map(Ds.termToString).sort())||!n9(a9(f).sort(),n.map(Ds.termToString).sort())){f=null;for(let p of r){let y=Ds.termToString(p);if(!s[y])for(let g of n){let v=Ds.termToString(g);if(!u[v]&&o[y]===d[v]){let E=PR(y);f=IR(t,e,r,n,Object.assign(Object.assign({},s),{[y]:E}),Object.assign(Object.assign({},u),{[v]:E}))}}}}return f}Gt.getBijectionInner=IR;function n9(t,e){if(t.length!==e.length)return!1;for(let r=t.length;r--;)if(t[r]!==e[r])return!1;return!0}function a9(t){let e=[];for(let r in t)e.push(t[r]);return e}Gt.hashValues=a9;function s9(t,e){for(let r in t)if(t[r]===e)return!0;return!1}Gt.hasValue=s9;function ER(t){return t.filter(e=>wo.someTerms(e,r=>r.termType==="BlankNode"||r.termType==="Quad"&&wo.getTermsNested(r).some(n=>n.termType==="BlankNode")))}Gt.getQuadsWithBlankNodes=ER;function OR(t){return t.filter(e=>wo.everyTerms(e,r=>r.termType!=="BlankNode"&&!(r.termType==="Quad"&&wo.getTermsNested(r).some(n=>n.termType==="BlankNode"))))}Gt.getQuadsWithoutBlankNodes=OR;function _1(t){let e={};for(let r of t)e[JSON.stringify(Ds.quadToStringQuad(r))]=!0;return e}Gt.indexGraph=_1;function o9(t){return Object.keys(t).map(e=>Ds.stringQuadToQuad(JSON.parse(e)))}Gt.deindexGraph=o9;function RR(t){return o9(_1(t))}Gt.uniqGraph=RR;function AR(t){return wo.uniqTerms(t.map(e=>wo.getBlankNodes(wo.getTermsNested(e))).reduce((e,r)=>e.concat(r),[]))}Gt.getGraphBlankNodes=AR;function xR(t,e,r){let n=Object.assign({},r),i={},a=!0;for(;a;){let s=Object.keys(n).length;for(let u of e){let d=Ds.termToString(u);if(!n[d]){let[f,p]=u9(u,t,n);f&&(n[d]=p),i[d]=p}}let o={};for(let u in i){let d=i[u];o[d]===void 0?o[d]=u:o[d]=!1}for(let u in o){let d=o[u];d&&(n[d]=u)}a=s!==Object.keys(n).length}return[n,i]}Gt.hashTerms=xR;function u9(t,e,r){let n=[],i=!0;for(let s of e){let o=wo.getTermsNested(s);if(o.some(u=>u.equals(t))){n.push(NR(s,r,t));for(let u of o)!DR(u,r)&&!u.equals(t)&&(i=!1)}}let a=PR(n.sort().join(""));return[i,a]}Gt.hashTerm=u9;function PR(t){return Qne.sha1().update(t).digest("hex")}Gt.sha1hex=PR;function NR(t,e,r){return wo.getTerms(t).map(n=>c9(n,e,r)).join("|")}Gt.quadToSignature=NR;function c9(t,e,r){return t.equals(r)?"@self":t.termType==="BlankNode"?e[Ds.termToString(t)]||"@blank":t.termType==="Quad"?`<${NR(t,e,r)}>`:Ds.termToString(t)}Gt.termToSignature=c9;function DR(t,e){return t.termType!=="BlankNode"&&!(t.termType==="Quad"&&wo.getTermsNested(t).some(r=>!DR(r,e)))||!!e[Ds.termToString(t)]}Gt.isTermGrounded=DR});var d9=_($l=>{"use strict";var Wne=$l&&$l.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kne=$l&&$l.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Wne(e,t,r)};Object.defineProperty($l,"__esModule",{value:!0});Kne(l9(),$l)});var m9=_(ca=>{"use strict";var Xne=ca&&ca.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$ne=ca&&ca.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Jne=ca&&ca.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Xne(e,t,r);return $ne(e,t),e},p9=ca&&ca.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ca,"__esModule",{value:!0});ca.toSparqlJs=ca.toSparql=void 0;var Yne=d9(),Zne=On(),_9=r0(),y9=Jne(e0()),eie=p9(dy()),Bi=p9(l1()),tt=y9.types,f0=y9.expressionTypes,Wr,y1=new eie.default;function tie(t,e={}){return new _9.Generator(e).stringify(b9(t))}ca.toSparql=tie;function b9(t){g9(),t=Gie(t);let e=kr(t);return e.type==="group"?e.patterns[0]:e}ca.toSparqlJs=b9;function g9(){Wr={project:!1,extend:[],group:[],aggregates:[],order:[]}}function kr(t){switch(t.type!==tt.EXTEND&&t.type!==tt.ORDER_BY&&t.type!==tt.GRAPH&&(Wr.project=!1),t.type){case tt.EXPRESSION:return So(t);case tt.ASK:return CR(t,tt.ASK);case tt.BGP:return cie(t);case tt.CONSTRUCT:return lie(t);case tt.DESCRIBE:return CR(t,tt.DESCRIBE);case tt.DISTINCT:return die(t);case tt.EXTEND:return fie(t);case tt.FROM:return hie(t);case tt.FILTER:return pie(t);case tt.GRAPH:return _ie(t);case tt.GROUP:return yie(t);case tt.JOIN:return bie(t);case tt.LEFT_JOIN:return gie(t);case tt.MINUS:return mie(t);case tt.NOP:return{};case tt.ORDER_BY:return vie(t);case tt.PATH:return wie(t);case tt.PATTERN:return my(t);case tt.PROJECT:return CR(t,tt.PROJECT);case tt.REDUCED:return Sie(t);case tt.SERVICE:return Tie(t);case tt.SLICE:return Eie(t);case tt.UNION:return Oie(t);case tt.VALUES:return Rie(t);case tt.COMPOSITE_UPDATE:return qie(t);case tt.DELETE_INSERT:return Lie(t);case tt.LOAD:return Mie(t);case tt.CLEAR:return Fie(t);case tt.CREATE:return Bie(t);case tt.DROP:return Uie(t);case tt.ADD:return Vie(t);case tt.MOVE:return kie(t);case tt.COPY:return Hie(t)}throw new Error(`Unknown Operation type ${t.type}`)}function So(t){switch(t.expressionType){case f0.AGGREGATE:return rie(t);case f0.EXISTENCE:return nie(t);case f0.NAMED:return iie(t);case f0.OPERATOR:return aie(t);case f0.TERM:return sie(t);case f0.WILDCARD:return oie(t)}throw new Error(`Unknown Expression Operation type ${t.expressionType}`)}function Jl(t){switch(t.type){case tt.ALT:return Aie(t);case tt.INV:return xie(t);case tt.LINK:return Iie(t);case tt.NPS:return Pie(t);case tt.ONE_OR_MORE_PATH:return Nie(t);case tt.SEQ:return Die(t);case tt.ZERO_OR_MORE_PATH:return Cie(t);case tt.ZERO_OR_ONE_PATH:return jie(t)}throw new Error(`Unknown Path type ${t.type}`)}function h0(t){return(0,Zne.termToString)(t)}function rie(t){let e={expression:So(t.expression),type:"aggregate",aggregation:t.aggregator,distinct:t.distinct};return t.separator&&(e.separator=t.separator),e}function nie(t){return{type:"operation",operator:t.not?"notexists":"exists",args:Bi.default.flatten([kr(t.input)])}}function iie(t){return{type:"functionCall",function:t.name,args:t.args.map(So)}}function aie(t){if(t.operator==="desc"){let r={expression:So(t.args[0])};return r.descending=!0,r}let e={type:"operation",operator:t.operator,args:t.args.map(So)};return(e.operator==="in"||e.operator==="notin")&&(e.args=[e.args[0]].concat([e.args.slice(1)])),e}function sie(t){return t.term}function oie(t){return t.wildcard}function uie(t){return t}function cie(t){let e=t.patterns.map(my);return e.length===0?null:{type:"bgp",triples:e}}function lie(t){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:t.template.map(my),where:Bi.default.flatten([kr(t.input)])}}function die(t){let e=kr(t.input);return e.patterns[0].distinct=!0,e}function fie(t){return Wr.project?(Wr.extend.push(t),kr(t.input)):Bi.default.flatten([kr(t.input),{type:"bind",variable:t.variable,expression:So(t.expression)}])}function hie(t){let e=kr(t.input),r=e.patterns[0];return r.from={default:t.default,named:t.named},e}function pie(t){return{type:"group",patterns:Bi.default.flatten([kr(t.input),{type:"filter",expression:So(t.expression)}])}}function _ie(t){return{type:"graph",patterns:Bi.default.flatten([kr(t.input)]),name:t.name}}function yie(t){let e=kr(t.input),r=t.aggregates.map(uie);return Wr.aggregates.push(...r),Wr.group.push(...t.variables),e}function bie(t){return Bi.default.flatten(t.input.map(kr)).reduce((r,n)=>(n.type!=="bgp"||r.length==0||r[r.length-1].type!=="bgp"?r.push(n):r[r.length-1].triples.push(...n.triples),r),[])}function gie(t){let e={type:"optional",patterns:[kr(t.input[1])]};return t.expression&&e.patterns.push({type:"filter",expression:So(t.expression)}),e.patterns=Bi.default.flatten(e.patterns),Bi.default.flatten([kr(t.input[0]),e])}function mie(t){let e=kr(t.input[1]);return e.type==="group"&&(e=e.patterns),Array.isArray(e)||(e=[e]),Bi.default.flatten([kr(t.input[0]),{type:"minus",patterns:e}])}function vie(t){return Wr.order.push(...t.expressions),kr(t.input)}function wie(t){return{type:"bgp",triples:[{subject:t.subject,predicate:Jl(t.predicate),object:t.object}]}}function my(t){return{subject:t.subject,predicate:t.predicate,object:t.object}}function b1(t,e){let r=Bi.default.isSimpleTerm(t)?h0(t):t;if(typeof r=="string"){if(e[r])return e[r]}else if(Array.isArray(t))t=t.map(n=>b1(n,e));else for(let n of Object.keys(t))t[n]=b1(t[n],e);return t}function CR(t,e){let r={type:"query",prefixes:{}},n=r,i;e===tt.PROJECT?(r.queryType="SELECT",i=t.variables):e===tt.ASK?r.queryType="ASK":e===tt.DESCRIBE&&(r.queryType="DESCRIBE",i=t.terms);let a=Wr.extend,s=Wr.group,o=Wr.aggregates,u=Wr.order;g9(),Wr.project=!0;let d=Bi.default.flatten([kr(t.input)]);d.length===1&&d[0].type==="group"&&(d=d[0].patterns),r.where=d;let f={};for(let y of Wr.aggregates)f[h0(y.variable)]=So(y);let p={};for(let y=Wr.extend.length-1;y>=0;--y){let g=Wr.extend[y];p[h0(g.variable)]=b1(So(g.expression),f)}if(Wr.group.length>0&&(n.group=Wr.group.map(y=>{let g=h0(y);if(p[g]){let v=p[g];return delete p[g],{variable:y,expression:v}}return{expression:y}})),Wr.order.length>0&&(n.order=Wr.order.map(kr).map(y=>y.descending?y:{expression:y})),i&&(n.variables=i.map(y=>{let g=h0(y);return p[g]?{variable:y,expression:p[g]}:y}),n.variables.length===0&&(n.variables=[new _9.Wildcard])),r.where.length>0&&r.where[r.where.length-1].type==="filter"){let y=r.where[r.where.length-1];jR(y,Object.keys(f))&&(n.having=Bi.default.flatten([b1(y.expression,f)]),r.where.splice(-1))}return Wr.extend=a,Wr.group=s,Wr.aggregates=o,Wr.order=u,{type:"group",patterns:[n]}}function jR(t,e){return Bi.default.isSimpleTerm(t)?e.indexOf(h0(t))>=0:Array.isArray(t)?t.some(r=>jR(r,e)):t===Object(t)?Object.keys(t).some(r=>jR(t[r],e)):e.indexOf(t)>=0}function Sie(t){let e=kr(t.input);return e.patterns[0].reduced=!0,e}function Tie(t){let e=kr(t.input);return e.type==="group"&&(e=e.patterns),Array.isArray(e)||(e=[e]),{type:"service",name:t.name,silent:t.silent,patterns:e}}function Eie(t){let e=kr(t.input),r=e;return e.type&&e.type==="group"&&(r=e.patterns[0]),t.start!==0&&(r.offset=t.start),t.length!==void 0&&(r.limit=t.length),e}function Oie(t){return{type:"union",patterns:Bi.default.flatten(t.input.map(kr))}}function Rie(t){return{type:"values",values:t.bindings.map(e=>{let r={};for(let n of t.variables){let i=`?${n.value}`;e[i]?r[i]=e[i]:r[i]=void 0}return r})}}function Aie(t){let e=t.input.map(Jl);return e.every(r=>"pathType"in r&&r.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Bi.default.flatten(e.map(r=>r.items))}]}:{type:"path",pathType:"|",items:e}}function xie(t){if(t.path.type===tt.NPS){let e=t.path.iris.map(r=>({type:"path",pathType:"^",items:[r]}));return e.length<=1?{type:"path",pathType:"!",items:e}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e}]}}return{type:"path",pathType:"^",items:[Jl(t.path)]}}function Iie(t){return t.iri}function Pie(t){return t.iris.length<=1?{type:"path",pathType:"!",items:t.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:t.iris}]}}function Nie(t){return{type:"path",pathType:"+",items:[Jl(t.path)]}}function Die(t){return{type:"path",pathType:"/",items:t.input.map(Jl)}}function Cie(t){return{type:"path",pathType:"*",items:[Jl(t.path)]}}function jie(t){return{type:"path",pathType:"?",items:[Jl(t.path)]}}function qie(t){let e=t.updates.map(r=>kr(r).updates[0]);return{prefixes:{},type:"update",updates:e}}function Lie(t){var e;let r=t.where,n;if(r&&r.type===tt.FROM){let a=r;r=a.input,n={default:a.default,named:a.named}}let i=[{updateType:"insertdelete",delete:f9(t.delete||[]),insert:f9(t.insert||[])}];if(n&&(i[0].using=n),!r||r.type===tt.BGP&&r.patterns.length===0)i[0].where=[];else{let a={},s=kr(g1(r,a));s.type==="group"?i[0].where=s.patterns:i[0].where=[s];let o=Object.keys(a);if(o.length>0){if(o.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");let u=(e=a[o[0]])===null||e===void 0?void 0:e.graph;u&&u.value!==""&&(i[0].where=[{type:"graph",patterns:i[0].where,name:u}])}}return!t.delete&&!t.where?(i[0].updateType="insert",delete i[0].delete,delete i[0].where):!t.insert&&!t.where?(delete i[0].insert,delete i[0].where,t.delete.some(a=>a.subject.termType==="Variable"||a.predicate.termType==="Variable"||a.object.termType==="Variable")?i[0].updateType="deletewhere":i[0].updateType="delete"):!t.insert&&t.where&&t.where.type==="bgp"&&(0,Yne.isomorphic)(t.delete,t.where.patterns)&&(delete i[0].where,i[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:i}}function Mie(t){let e=[{type:"load",silent:Boolean(t.silent),source:t.source}];return t.destination&&(e[0].destination=t.destination),{prefixes:{},type:"update",updates:e}}function Fie(t){return qR(t,"clear")}function Bie(t){return qR(t,"create")}function Uie(t){return qR(t,"drop")}function qR(t,e){let r=[{type:e,silent:Boolean(t.silent)}];return t.source==="DEFAULT"?r[0].graph={default:!0}:t.source==="NAMED"?r[0].graph={named:!0}:t.source==="ALL"?r[0].graph={all:!0}:r[0].graph={type:"graph",name:t.source},{prefixes:{},type:"update",updates:r}}function Vie(t){return LR(t,"add")}function kie(t){return LR(t,"move")}function Hie(t){return LR(t,"copy")}function LR(t,e){let r=[{type:e,silent:Boolean(t.silent)}];return r[0].source=t.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:t.source},r[0].destination=t.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:t.destination},{prefixes:{},type:"update",updates:r}}function f9(t){if(!t)return[];let e={};return t.forEach(r=>{let n=r.graph.value;e[n]||(e[n]=[]),e[n].push(r)}),Object.keys(e).map(r=>r===""?{type:"bgp",triples:e[r].map(my)}:{type:"graph",triples:e[r].map(my),name:e[r][0].graph})}function Gie(t){return g1(t,{})}function g1(t,e){if(Array.isArray(t))return t.map(s=>g1(s,e));if(!t.type||t.type===tt.DELETE_INSERT)return t;if((t.type===tt.PATTERN||t.type===tt.PATH)&&t.graph)return e[t.graph.value]||(e[t.graph.value]={graph:t.graph,values:[]}),e[t.graph.value].values.push(t),t;let r={},n={},i={};for(let s of Object.keys(t)){let o={};r[s]=g1(t[s],o);let u=Object.keys(o);if(u.length>1){let d=h9(o[u[0]].values);for(let f=1;f<u.length;++f){let p=h9(o[u[f]].values);d=y1.createJoin([d,p])}return u.map(f=>delete o[f]),d}else if(u.length===1){let d=o[u[0]].graph;n[s]=d,i[d.value]=d}}let a=Object.keys(i);if(a.length>0)if(a.length===1&&t.type!==tt.PROJECT)e[a[0]]={graph:i[a[0]],values:[r]};else for(let s of Object.keys(n))n[s].value.length>0&&(r[s]=y1.createGraph(r[s],n[s]));return r}function h9(t){let e=y1.createBgp(t),r=t[0].graph;return r.value.length===0?e:y1.createGraph(e,r)}});var jt=_(rn=>{"use strict";var Qie=rn&&rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zie=rn&&rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wie=rn&&rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Qie(e,t,r);return zie(e,t),e},MR=rn&&rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rn,"__esModule",{value:!0});rn.Util=rn.toSparqlJs=rn.toSparql=rn.Factory=rn.Algebra=rn.translate=void 0;var Kie=MR(fL());rn.translate=Kie.default;var Xie=Wie(e0());rn.Algebra=Xie;var $ie=MR(dy());rn.Factory=$ie.default;var v9=m9();Object.defineProperty(rn,"toSparql",{enumerable:!0,get:function(){return v9.toSparql}});Object.defineProperty(rn,"toSparqlJs",{enumerable:!0,get:function(){return v9.toSparqlJs}});var Jie=MR(l1());rn.Util=Jie.default});var BR=_(_0=>{"use strict";Object.defineProperty(_0,"__esModule",{value:!0});_0.materializeOperation=_0.materializeTerm=void 0;var Yie=Kn(),p0=On(),Zie=jt(),eae=new Yie.BindingsFactory;function mu(t,e){if(t.termType==="Variable"){let r=e.get(t);if(r)return r}return t}_0.materializeTerm=mu;function FR(t,e,r={}){return r={strictTargetVariables:"strictTargetVariables"in r?r.strictTargetVariables:!1,bindFilter:"bindFilter"in r?r.bindFilter:!0},Zie.Util.mapOperation(t,{path(n,i){return{recurse:!1,result:i.createPath(mu(n.subject,e),n.predicate,mu(n.object,e),mu(n.graph,e))}},pattern(n,i){return{recurse:!1,result:i.createPattern(mu(n.subject,e),mu(n.predicate,e),mu(n.object,e),mu(n.graph,e))}},extend(n){if(e.has(n.variable)){if(r.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,p0.termToString)(n.variable)} in a BIND operator.`);return{recurse:!0,result:FR(n.input,e,r)}}return{recurse:!0,result:n}},group(n,i){if(r.strictTargetVariables){for(let s of n.variables)if(e.has(s))throw new Error(`Tried to bind variable ${(0,p0.termToString)(s)} in a GROUP BY operator.`);return{recurse:!0,result:n}}let a=n.variables.filter(s=>!e.has(s));return{recurse:!0,result:i.createGroup(n.input,a,n.aggregates)}},project(n,i){if(r.strictTargetVariables){for(let o of n.variables)if(e.has(o))throw new Error(`Tried to bind variable ${(0,p0.termToString)(o)} in a SELECT operator.`);return{recurse:!0,result:n}}let a=n.variables.filter(o=>!e.has(o)),s=eae.bindings(n.variables.map(o=>{let u=e.get(o);if(u)return[o,u]}).filter(o=>Boolean(o)));return{recurse:!1,result:i.createProject(FR(n.input,s,r),a)}},values(n,i){if(r.strictTargetVariables){for(let a of n.variables)if(e.has(a))throw new Error(`Tried to bind variable ${(0,p0.termToString)(a)} in a VALUES operator.`)}else{let a=n.variables.filter(o=>!e.has(o)),s=n.bindings.map(o=>{let u={...o},d=!0;return e.forEach((f,p)=>{let y=(0,p0.termToString)(p);y in u&&(f.equals(u[y])||(d=!1),delete u[y])}),d?u:void 0}).filter(Boolean);return{recurse:!0,result:i.createValues(a,s)}}return{recurse:!1,result:n}},expression(n,i){if(!r.bindFilter)return{recurse:!1,result:n};if(n.expressionType==="term")return{recurse:!1,result:i.createTermExpression(mu(n.term,e))};if(n.expressionType==="aggregate"&&"variable"in n&&e.has(n.variable)){if(r.strictTargetVariables)throw new Error(`Tried to bind ${(0,p0.termToString)(n.variable)} in a ${n.aggregator} aggregate.`);return{recurse:!0,result:n}}return{recurse:!0,result:n}}})}_0.materializeOperation=FR});var UR=_(m1=>{"use strict";Object.defineProperty(m1,"__esModule",{value:!0});m1.ActorQueryOperation=void 0;var Yl=Cr(),tae=Je(),w9=Xg(),rae=BR(),S9=0,To=class extends tae.Actor{constructor(e){super(e)}static getSafeBindings(e){return To.validateQueryOutput(e,"bindings"),e}static getSafeQuads(e){return To.validateQueryOutput(e,"quads"),e}static getSafeBoolean(e){return To.validateQueryOutput(e,"boolean"),e}static getSafeVoid(e){return To.validateQueryOutput(e,"void"),e}static cachifyMetadata(e){let r;return()=>r||(r=e())}static validateQueryOutput(e,r){if(e.type!==r)throw new Error(`Invalid query output type: Expected '${r}' but got '${e.type}'`)}static getBaseExpressionContext(e){let r=e.get(Yl.KeysInitQuery.queryTimestamp),n=e.get(Yl.KeysInitQuery.baseIRI);if(e.has(Yl.KeysInitQuery.extensionFunctionCreator)&&e.has(Yl.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let i=e.get(Yl.KeysInitQuery.extensionFunctionCreator),a=e.get(Yl.KeysInitQuery.extensionFunctions);return a&&(i=s=>a[s.value]),{now:r,baseIRI:n,extensionFunctionCreator:i}}static getExpressionContext(e,r){return{...this.getBaseExpressionContext(e),bnode:n=>new w9.BlankNodeBindingsScoped(n||`BNODE_${S9++}`)}}static getAsyncExpressionContext(e,r){let n={...this.getBaseExpressionContext(e),bnode:i=>Promise.resolve(new w9.BlankNodeBindingsScoped(i||`BNODE_${S9++}`))};return r&&(n.exists=To.createExistenceResolver(e,r)),n}static createExistenceResolver(e,r){return async(n,i)=>{let a=(0,rae.materializeOperation)(n.input,i),s=await r.mediate({operation:a,context:e}),o=To.getSafeBindings(s);return new Promise((u,d)=>{o.bindingsStream.on("end",()=>{u(!1)}),o.bindingsStream.on("error",d),o.bindingsStream.on("data",()=>{o.bindingsStream.close(),u(!0)})}).then(u=>n.not?!u:u)}}static throwOnReadOnly(e){if(e.get(Yl.KeysQueryOperation.readOnly))throw new Error("Attempted a write operation in read-only mode")}};m1.ActorQueryOperation=To});var kR=_(w1=>{"use strict";Object.defineProperty(w1,"__esModule",{value:!0});w1.ActorQueryOperationTyped=void 0;var v1=Cr(),T9=UR(),VR=class extends T9.ActorQueryOperation{constructor(e,r){if(super({...e,operationName:r}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");if(e.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${e.operation.type}`);let r=e.operation;return this.testOperation(r,e.context)}async run(e){let r=e.context.get(v1.KeysInitQuery.physicalQueryPlanLogger);r&&(r.logOperation(e.operation.type,void 0,e.operation,e.context.get(v1.KeysInitQuery.physicalQueryPlanNode),this.name,{}),e.context=e.context.set(v1.KeysInitQuery.physicalQueryPlanNode,e.operation));let n=e.operation,i=e.context.set(v1.KeysQueryOperation.operation,n),a=await this.runOperation(n,i);return"metadata"in a&&(a.metadata=T9.ActorQueryOperation.cachifyMetadata(a.metadata)),a}};w1.ActorQueryOperationTyped=VR});var E9=_(S1=>{"use strict";Object.defineProperty(S1,"__esModule",{value:!0});S1.ActorQueryOperationTypedMediated=void 0;var nae=kR(),HR=class extends nae.ActorQueryOperationTyped{constructor(e,r){super(e,r)}};S1.ActorQueryOperationTypedMediated=HR});var O9=_(T1=>{"use strict";Object.defineProperty(T1,"__esModule",{value:!0});T1.BusQueryOperation=void 0;var iae=Je(),GR=class extends iae.BusIndexed{constructor(e){super({...e,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}};T1.BusQueryOperation=GR});var vu=_((t8e,QR)=>{"use strict";var y0=typeof Reflect=="object"?Reflect:null,R9=y0&&typeof y0.apply=="function"?y0.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},E1;y0&&typeof y0.ownKeys=="function"?E1=y0.ownKeys:Object.getOwnPropertySymbols?E1=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:E1=function(e){return Object.getOwnPropertyNames(e)};function aae(t){console&&console.warn&&console.warn(t)}var x9=Number.isNaN||function(e){return e!==e};function Sr(){Sr.init.call(this)}QR.exports=Sr;QR.exports.once=cae;Sr.EventEmitter=Sr;Sr.prototype._events=void 0;Sr.prototype._eventsCount=0;Sr.prototype._maxListeners=void 0;var A9=10;function O1(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Sr,"defaultMaxListeners",{enumerable:!0,get:function(){return A9},set:function(t){if(typeof t!="number"||t<0||x9(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");A9=t}});Sr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Sr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||x9(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function I9(t){return t._maxListeners===void 0?Sr.defaultMaxListeners:t._maxListeners}Sr.prototype.getMaxListeners=function(){return I9(this)};Sr.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var u=a[e];if(u===void 0)return!1;if(typeof u=="function")R9(u,this,r);else for(var d=u.length,f=j9(u,d),n=0;n<d;++n)R9(f[n],this,r);return!0};function P9(t,e,r,n){var i,a,s;if(O1(r),a=t._events,a===void 0?(a=t._events=Object.create(null),t._eventsCount=0):(a.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),a=t._events),s=a[e]),s===void 0)s=a[e]=r,++t._eventsCount;else if(typeof s=="function"?s=a[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=I9(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=s.length,aae(o)}return t}Sr.prototype.addListener=function(e,r){return P9(this,e,r,!1)};Sr.prototype.on=Sr.prototype.addListener;Sr.prototype.prependListener=function(e,r){return P9(this,e,r,!0)};function sae(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function N9(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=sae.bind(n);return i.listener=r,n.wrapFn=i,i}Sr.prototype.once=function(e,r){return O1(r),this.on(e,N9(this,e,r)),this};Sr.prototype.prependOnceListener=function(e,r){return O1(r),this.prependListener(e,N9(this,e,r)),this};Sr.prototype.removeListener=function(e,r){var n,i,a,s,o;if(O1(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(a=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){o=n[s].listener,a=s;break}if(a<0)return this;a===0?n.shift():oae(n,a),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};Sr.prototype.off=Sr.prototype.removeListener;Sr.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function D9(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?uae(i):j9(i,i.length)}Sr.prototype.listeners=function(e){return D9(this,e,!0)};Sr.prototype.rawListeners=function(e){return D9(this,e,!1)};Sr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):C9.call(t,e)};Sr.prototype.listenerCount=C9;function C9(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Sr.prototype.eventNames=function(){return this._eventsCount>0?E1(this._events):[]};function j9(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function oae(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function uae(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function cae(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,a),n(s)}function a(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}q9(t,e,a,{once:!0}),e!=="error"&&lae(t,i,{once:!0})})}function lae(t,e,r){typeof t.on=="function"&&q9(t,"error",e,r)}function q9(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(a){n.once&&t.removeEventListener(e,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var L9=_(R1=>{"use strict";Object.defineProperty(R1,"__esModule",{value:!0});R1.LinkedList=void 0;var zR=class{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}get empty(){return this._head===null}push(e){let r={value:e,next:null};this._tail===null?this._head=this._tail=r:this._tail.next=this._tail=r,this._length++}shift(){if(this._head===null)return;let{value:e,next:r}=this._head;return this._head=r,r===null&&(this._tail=null),this._length--,e}clear(){this._length=0,this._head=this._tail=null}};R1.LinkedList=zR});var M9=_(A1=>{"use strict";Object.defineProperty(A1,"__esModule",{value:!0});A1.createTaskScheduler=void 0;var dae=Promise.resolve(void 0);function fae(){let t=typeof queueMicrotask=="function"?queueMicrotask:i=>dae.then(i),e=typeof setImmediate=="function"?setImmediate:i=>setTimeout(i,0),r=0,n=null;return i=>{n!==null?n.push(i):++r<100?t(i):(n=[i],e(()=>{for(let a of n)t(a);n=null,r=0}))}}A1.createTaskScheduler=fae});var er=_(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.isIterator=ve.isIterable=ve.isSourceExpression=ve.isPromise=ve.isEventEmitter=ve.isFunction=ve.range=ve.union=ve.fromIterable=ve.fromIterator=ve.fromArray=ve.single=ve.empty=ve.wrap=ve.WrappingIterator=ve.ClonedIterator=ve.UnionIterator=ve.MultiTransformIterator=ve.SimpleTransformIterator=ve.TransformIterator=ve.BufferedIterator=ve.MappingIterator=ve.DESTINATION=ve.identity=ve.IntegerIterator=ve.ArrayIterator=ve.SingletonIterator=ve.EmptyIterator=ve.AsyncIterator=ve.DESTROYED=ve.ENDED=ve.CLOSED=ve.CLOSING=ve.OPEN=ve.INIT=ve.setTaskScheduler=ve.getTaskScheduler=ve.scheduleTask=ve.LinkedList=void 0;var U9=vu(),V9=L9();Object.defineProperty(ve,"LinkedList",{enumerable:!0,get:function(){return V9.LinkedList}});var hae=M9(),Ia=hae.createTaskScheduler();function pae(t){Ia(t)}ve.scheduleTask=pae;function _ae(){return Ia}ve.getTaskScheduler=_ae;function yae(t){Ia=t}ve.setTaskScheduler=yae;ve.INIT=1<<0;ve.OPEN=1<<1;ve.CLOSING=1<<2;ve.CLOSED=1<<3;ve.ENDED=1<<4;ve.DESTROYED=1<<5;var Pa=class extends U9.EventEmitter{constructor(e=ve.OPEN){super(),this._readable=!1,this._state=e,this.on("newListener",XR)}_changeState(e,r=!1){let n=e>this._state&&this._state<ve.ENDED;return n&&(this._state=e,e===ve.ENDED&&(r?Ia(()=>this.emit("end")):this.emit("end"))),n}read(){return null}forEach(e,r){this.on("data",B9(e,r))}close(){this._changeState(ve.CLOSED)&&this._endAsync()}destroy(e){this.done||this._destroy(e,r=>{e=e||r,e&&this.emit("error",e),this._end(!0)})}_destroy(e,r){r()}_end(e=!1){this._changeState(e?ve.DESTROYED:ve.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){Ia(()=>this._end())}get readable(){return this._readable}set readable(e){e=Boolean(e)&&!this.done,this._readable!==e&&(this._readable=e,e&&Ia(()=>this.emit("readable")))}get closed(){return this._state>=ve.CLOSING}get ended(){return this._state===ve.ENDED}get destroyed(){return this._state===ve.DESTROYED}get done(){return this._state>=ve.ENDED}toString(){let e=this._toStringDetails();return`[${this.constructor.name}${e?` ${e}`:""}]`}_toStringDetails(){return""}toArray(e){let r=[],n=typeof e?.limit=="number"?e.limit:1/0;return this.ended||n<=0?Promise.resolve(r):new Promise((i,a)=>{let s=()=>i(r),o=u=>{r.push(u),r.length>=n&&(this.removeListener("error",a),this.removeListener("data",o),this.removeListener("end",s),i(r))};this.on("error",a),this.on("data",o),this.on("end",s)})}getProperty(e,r){let n=this._properties;if(!r)return n&&n[e];if(n&&e in n)Ia(()=>r(n[e]));else{let i;(i=this._propertyCallbacks)||(this._propertyCallbacks=i=Object.create(null)),e in i?i[e].push(r):i[e]=[r]}}setProperty(e,r){let n=this._properties||(this._properties=Object.create(null));n[e]=r;let i=this._propertyCallbacks||{},a=i[e];if(a){delete i[e],Ia(()=>{for(let s of a)s(r)});for(e in i)return;delete this._propertyCallbacks}}getProperties(){let e=this._properties,r={};for(let n in e)r[n]=e[n];return r}setProperties(e){for(let r in e)this.setProperty(r,e[r])}copyProperties(e,r){for(let n of r)e.getProperty(n,i=>this.setProperty(n,i))}transform(e){return new C1(this,e)}map(e,r){return new P1(this,B9(e,r))}filter(e,r){return this.map(function(n){return e.call(r||this,n)?n:null})}uniq(e=$R){let r=new Set;return this.filter(function(n){let i=e.call(this,n);return r.has(i)?!1:(r.add(i),!0)})}prepend(e){return this.transform({prepend:e})}append(e){return this.transform({append:e})}surround(e,r){return this.transform({prepend:e,append:r})}skip(e){return this.map(r=>e-- >0?null:r)}take(e){return this.transform({limit:e})}range(e,r){return this.transform({offset:e,limit:Math.max(r-e+1,0)})}clone(){return new q1(this)}};ve.AsyncIterator=Pa;function XR(t){t==="data"&&(this.removeListener("newListener",XR),k9(this,"readable",WR),this.readable&&Ia(()=>WR.call(this)))}function WR(){let t;for(;this.listenerCount("data")!==0&&(t=this.read())!==null;)this.emit("data",t);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",WR),k9(this,"newListener",XR))}function k9(t,e,r){t.listeners(e).includes(r)||t.on(e,r)}var vy=class extends Pa{constructor(){super(),this._changeState(ve.ENDED,!0)}};ve.EmptyIterator=vy;var wy=class extends Pa{constructor(e){super(),this._item=e,e===null?this.close():this.readable=!0}read(){let e=this._item;return this._item=null,this.close(),e}_toStringDetails(){return this._item===null?"":`(${this._item})`}};ve.SingletonIterator=wy;var x1=class extends Pa{constructor(e=[],{autoStart:r=!0,preserve:n=!0}={}){super();let i=n||!Array.isArray(e)?[...e]:e;this._index=0,this._sourceStarted=r!==!1,this._truncateThreshold=n?-1:64,this._sourceStarted&&i.length===0?this.close():this._buffer=i,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let e=null;return this._buffer&&(this._index<this._buffer.length&&(e=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),e}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(e,r){delete this._buffer,r()}toArray(e={}){if(!this._buffer)return Promise.resolve([]);let{length:r}=this._buffer,n=this._index,i=typeof e.limit!="number"?r:n+e.limit,a=this._buffer.slice(n,i);return this._index=i,i>=r&&this.close(),Promise.resolve(a)}};ve.ArrayIterator=x1;var I1=class extends Pa{constructor({start:e=0,step:r=1,end:n}={}){super(),Number.isFinite(e)&&(e=Math.trunc(e)),this._next=e,Number.isFinite(r)&&(r=Math.trunc(r)),this._step=r;let i=r>=0,a=i?1/0:-1/0;Number.isFinite(n)?n=Math.trunc(n):n!==-a&&(n=a),this._last=n,!Number.isFinite(e)||(i?e>n:e<n)?this.close():this.readable=!0}read(){if(this.closed)return null;let e=this._next,r=this._step,n=this._last,i=this._next+=r;return(r>=0?i>n:i<n)&&this.close(),e}_toStringDetails(){return`(${this._next}...${this._last})`}};ve.IntegerIterator=I1;function $R(t){return t}ve.identity=$R;ve.DESTINATION=Symbol("destination");var P1=class extends Pa{constructor(e,r=$R,n={}){super(),this._map=r,this._source=JR(e),this._destroySource=n.destroySource!==!1,e.done?this.close():(this._source[ve.DESTINATION]=this,this._source.on("end",D1),this._source.on("error",wu),this._source.on("readable",N1),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let e,r;for(;(e=this._source.read())!==null;)if((r=this._map(e))!==null)return r}this.readable=!1,this._source.done&&this.close()}return null}_end(e){this._source.removeListener("end",D1),this._source.removeListener("error",wu),this._source.removeListener("readable",N1),delete this._source[ve.DESTINATION],this._destroySource&&this._source.destroy(),super._end(e)}};ve.MappingIterator=P1;function JR(t,e=!1){if(!t||!Jn(t.read)||!Jn(t.on))throw new TypeError(`Invalid source: ${t}`);if(!e&&t[ve.DESTINATION])throw new Error("The source already has a destination");return t}var b0=class extends Pa{constructor({maxBufferSize:e=4,autoStart:r=!0}={}){super(ve.INIT),this._buffer=new V9.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=e,Ia(()=>this._init(r)),this._sourceStarted=r!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(e){e!==1/0&&(e=Number.isFinite(e)?Math.max(Math.trunc(e),1):4),this._maxBufferSize!==e&&(this._maxBufferSize=e,this._state===ve.OPEN&&this._fillBuffer())}_init(e){let r=!1;this._reading=!0,this._begin(()=>{if(r)throw new Error("done callback called multiple times");r=!0,this._reading=!1,this._changeState(ve.OPEN),e?this._fillBufferAsync():this.readable=!0})}_begin(e){e()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);let e=this._buffer,r;return e.empty?(r=null,this.readable=!1):r=e.shift(),!this._reading&&e.length<this._maxBufferSize&&(this.closed?e.empty&&this._endAsync():this._fillBufferAsync()),r}_read(e,r){r()}_push(e){this.done||(this._pushedCount++,this._buffer.push(e),this.readable=!0)}_fillBuffer(){let e;this._reading||(this.closed?this._completeClose():(e=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(e,()=>{if(!e)throw new Error("done callback called multiple times");e=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,Ia(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(ve.CLOSING):this._completeClose()}_completeClose(){this._changeState(ve.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(e,r){this._buffer.clear(),r()}_flush(e){e()}_toStringDetails(){let e=this._buffer;return`{${e.empty?"":`next: ${e.first}, `}buffer: ${e.length}}`}};ve.BufferedIterator=b0;var ed=class extends b0{constructor(e,r=e||{}){super(r),this._boundPush=n=>this._push(n),YR(e)||(e=r.source),rd(e)?this.source=e:e&&(this._createSource=g0(e)?()=>e:e,this._sourceStarted&&this._loadSourceAsync()),this._optional=Boolean(r.optional),this._destroySource=r.destroySource!==!1}get source(){return Jn(this._createSource)&&this._loadSourceAsync(),this._source}set source(e){let r=this._source=this._validateSource(e);r[ve.DESTINATION]=this,this.done?this._destroySource&&r.destroy():r.done?this.close():(r.on("end",F9),r.on("readable",Zl),r.on("error",wu))}_loadSourceAsync(){Jn(this._createSource)&&(Promise.resolve(this._createSource()).then(e=>{delete this._createSource,this.source=e,this._fillBuffer()},e=>this.emit("error",e)),this._createSource=null)}_validateSource(e,r=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return JR(e,r)}_read(e,r){let n=()=>{this._pushedCount<e&&!this.closed?Ia(()=>this._readAndTransform(n,r)):r()};this._readAndTransform(n,r)}_readAndTransform(e,r){let n,i=this.source;!i||i.done||(n=i.read())===null?r():this._optional?this._optionalTransform(n,e):this._transform(n,e,this._boundPush)}_optionalTransform(e,r){let n=this._pushedCount;this._transform(e,()=>{n===this._pushedCount&&this._push(e),r()},this._boundPush)}_transform(e,r,n){n(e),r()}_closeWhenDone(){this.close()}_end(e){let r=this._source;r&&(r.removeListener("end",F9),r.removeListener("error",wu),r.removeListener("readable",Zl),delete r[ve.DESTINATION],this._destroySource&&r.destroy()),super._end(e)}};ve.TransformIterator=ed;function N1(){this[ve.DESTINATION].readable=!0}function wu(t){this[ve.DESTINATION].emit("error",t)}function D1(){this[ve.DESTINATION].close()}function F9(){this[ve.DESTINATION]._closeWhenDone()}function Zl(){this[ve.DESTINATION]._sourceStarted!==!1&&this[ve.DESTINATION]._fillBuffer()}var C1=class extends ed{constructor(e,r){if(super(e,r),this._offset=0,this._limit=1/0,this._filter=n=>!0,r=r||(YR(e)?null:e),r){let n=Jn(r)?r:r.transform,{limit:i,offset:a,filter:s,map:o,prepend:u,append:d}=r;a===1/0||i===-1/0?this._limit=0:(Number.isFinite(a)&&(this._offset=Math.max(Math.trunc(a),0)),Number.isFinite(i)&&(this._limit=Math.max(Math.trunc(i),0)),Jn(s)&&(this._filter=s),Jn(o)&&(this._map=o),this._transform=Jn(n)?n:null),u&&(this._prepender=rd(u)?u:M1(u)),d&&(this._appender=rd(d)?d:M1(d))}}_read(e,r){let n=()=>this._readAndTransformSimple(e,i,r);this._readAndTransformSimple(e,i,r);function i(){Ia(n)}}_readAndTransformSimple(e,r,n){let i,{source:a}=this;if(!a||a.done){n();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<e&&(i=a.read())!==null;){if(!this._filter(i)||this._offset!==0&&this._offset--)continue;let s=typeof this._map>"u"?i:this._map(i);if(s===null)this._optional&&this._push(i);else if(!Jn(this._transform))this._push(s);else{this._optional?this._optionalTransform(s,r):this._transform(s,r,this._boundPush);return}--this._limit===0&&this.close()}n()}_begin(e){this._insert(this._prepender,e),delete this._prepender}_flush(e){this._insert(this._appender,e),delete this._appender}_insert(e,r){let n=a=>this._push(a);!e||e.done?r():(e.on("data",n),e.on("end",i));function i(){e.removeListener("data",n),e.removeListener("end",i),r()}}};ve.SimpleTransformIterator=C1;var KR=class extends ed{constructor(e,r){if(super(e,r),this._transformerQueue=[],r){let n=Jn(r)?r:r.multiTransform;n&&(this._createTransformer=n)}}_read(e,r){let n=this._transformerQueue,i=this._optional,a,s;for(;(a=n[0])&&a.transformer.done;){i&&a.item!==null&&(e--,this._push(a.item)),n.shift();let{transformer:u}=a;u.removeListener("end",Zl),u.removeListener("readable",Zl),u.removeListener("error",wu)}let{source:o}=this;for(;o&&!o.done&&n.length<this.maxBufferSize&&(s=o.read(),s!==null);){let u=this._createTransformer(s)||new vy;u[ve.DESTINATION]=this,u.on("end",Zl),u.on("readable",Zl),u.on("error",wu),n.push({transformer:u,item:s})}if(a=n[0],a){let{transformer:u}=a;for(;e-- >0&&(s=u.read())!==null;)this._push(s),i&&(a.item=null)}else o&&o.done&&this.close();r()}_createTransformer(e){return new wy(e)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(e){if(super._end(e),this._destroySource)for(let r of this._transformerQueue)r.transformer.destroy()}};ve.MultiTransformIterator=KR;var j1=class extends b0{constructor(e,r={}){super(r),this._sources=[],this._currentSource=-1;let n=r.autoStart!==!1;if(rd(e))e.on("error",i=>this.emit("error",i)),this._pending={loading:!1,sources:e},n&&this._loadSources();else if(Array.isArray(e)&&e.length>0)for(let i of e)this._addSource(i);else n&&this.close();this._destroySources=r.destroySources!==!1}_loadSources(){let e=this._pending.sources;this._pending.loading=!0,e.done?(delete this._pending,this.close()):(e.on("data",r=>{this._addSource(r),this._fillBufferAsync()}),e.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(e){g0(e)&&(e=H9(e)),e.done||(this._sources.push(e),e[ve.DESTINATION]=this,e.on("error",wu),e.on("readable",Zl),e.on("end",bae))}_removeEmptySources(){this._sources=this._sources.filter((e,r)=>(e.done&&r<=this._currentSource&&this._currentSource--,!e.done)),this._fillBuffer()}_read(e,r){var n;((n=this._pending)===null||n===void 0?void 0:n.loading)===!1&&this._loadSources();let i=0,a;for(;i!==(i=e);)for(let s=0;s<this._sources.length&&e>0;s++)this._currentSource=(this._currentSource+1)%this._sources.length,(a=this._sources[this._currentSource].read())!==null&&(e--,this._push(a));!this._pending&&this._sources.length===0&&this.close(),r()}_end(e=!1){if(super._end(e),this._destroySources){for(let r of this._sources)r.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}};ve.UnionIterator=j1;function bae(){this[ve.DESTINATION]._removeEmptySources()}var q1=class extends ed{constructor(e){super(e,{autoStart:!1}),this._readPosition=0,this._reading=!1}_init(){}close(){Pa.prototype.close.call(this)}get source(){return super.source}set source(e){let r=this._source=this._validateSource(e),n=r&&r[ve.DESTINATION]||(r[ve.DESTINATION]=new L1(r));this.done?this._destroySource&&r.destroy():n.endsAt(0)?this.close():(n.register(this),(r._sourceStarted===!1||n.readAt(0)!==null)&&(this.readable=!0));let i=this._propertyCallbacks;for(let a in i){let s=i[a];for(let o of s)this._getSourceProperty(a,o)}}_validateSource(e,r=!1){let n=e&&e[ve.DESTINATION];return super._validateSource(e,!n||n instanceof L1)}getProperty(e,r){let{source:n}=this,i=this._properties,a=i&&e in i;if(!r)return a?i&&i[e]:n&&n.getProperty(e);super.getProperty(e,r),n&&!a&&this._getSourceProperty(e,r)}_getSourceProperty(e,r){this.source.getProperty(e,n=>{(!this._properties||!(e in this._properties))&&r(n)})}getProperties(){let e=this.source?this.source.getProperties():{},r=this._properties;for(let n in r)e[n]=r[n];return e}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);let e=this.source,r=null;if(!this.done&&e){let n=e[ve.DESTINATION];(r=n.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,n.endsAt(this._readPosition)&&this.close()}return r}_end(e){let r=this.source,n=r?.[ve.DESTINATION];n&&n.unregister(this),b0.prototype._end.call(this,e)}};ve.ClonedIterator=q1;var L1=class{constructor(e){if(this._history=[],this._trackers=new Set,this._source=e,!e.done){let r=()=>{for(let a of this._trackers)a.readable=!0},n=a=>{for(let s of this._trackers)s.emit("error",a)},i=()=>{for(let a of this._trackers)a._sourceStarted!==!1&&a._readPosition===this._history.length&&a.close();this._trackers.clear(),e.removeListener("end",i),e.removeListener("error",n),e.removeListener("readable",r)};e.on("end",i),e.on("error",n),e.on("readable",r)}}register(e){this._source.done||this._trackers.add(e)}unregister(e){this._trackers.delete(e)}readAt(e){let r=null;return e<this._history.length?r=this._history[e]:!this._source.done&&(r=this._source.read())!==null&&(this._history[e]=r),r}endsAt(e){return this._source.done&&this._history.length===e}},td=class extends Pa{constructor(e,r){super(),this._source=null,this._destroySource=r?.destroySource!==!1,g0(e)?(this._source=new Pa,e.then(n=>{this._source=null,this.source=n}).catch(n=>this.emit("error",n))):e&&(this.source=e)}set source(e){let r=e;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(ZR(r)&&(r=r[Symbol.iterator]()),eA(r)){let n=r;r=new U9.EventEmitter,r.read=()=>{if(n!==null){let i;for(;!(i=n.next()).done;)if(i.value!==null)return i.value;n=null,this.close()}return null}}else r=JR(r);if(this.done){this._destroySource&&Jn(r.destroy)&&r.destroy();return}r[ve.DESTINATION]=this,r.on("end",D1),r.on("error",wu),r.on("readable",N1),this._source=r,this.readable=r.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){let e=this._source.read();if(e!==null)return e;this.readable=!1}return null}_end(e=!1){this._source!==null&&(this._source.removeListener("end",D1),this._source.removeListener("error",wu),this._source.removeListener("readable",N1),delete this._source[ve.DESTINATION],this._destroySource&&Jn(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(e)}};ve.WrappingIterator=td;function H9(t,e){if(e&&("autoStart"in e||"optional"in e||"source"in e||"maxBufferSize"in e))return new ed(t,e);if(!t)return G9();if(g0(t))return new td(t,e);if(t instanceof Pa)return t;if(Array.isArray(t))return M1(t);if(ZR(t)||eA(t)||rd(t))return new td(t,e);throw new TypeError(`Invalid source: ${t}`)}ve.wrap=H9;function G9(){return new vy}ve.empty=G9;function gae(t){return new wy(t)}ve.single=gae;function M1(t){return new x1(t)}ve.fromArray=M1;function mae(t){return new td(t)}ve.fromIterator=mae;function vae(t){return new td(t)}ve.fromIterable=vae;function wae(t){return new j1(t)}ve.union=wae;function Sae(t,e,r){return new I1({start:t,end:e,step:r})}ve.range=Sae;function B9(t,e){return e?t.bind(e):t}function Jn(t){return typeof t=="function"}ve.isFunction=Jn;function rd(t){return Jn(t?.on)}ve.isEventEmitter=rd;function g0(t){return Jn(t?.then)}ve.isPromise=g0;function YR(t){return t&&(rd(t)||g0(t)||Jn(t))}ve.isSourceExpression=YR;function ZR(t){return t&&Symbol.iterator in t}ve.isIterable=ZR;function eA(t){return Jn(t?.next)}ve.isIterator=eA});var Q9=_(F1=>{"use strict";Object.defineProperty(F1,"__esModule",{value:!0});F1.ClosableTransformIterator=void 0;var Tae=er(),tA=class extends Tae.TransformIterator{constructor(e,r){super(e,r),this.onClose=r.onClose}_end(e){this.onClose(),super._end(e)}};F1.ClosableTransformIterator=tA});var dt=_(rs=>{"use strict";var Eae=rs&&rs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),m0=rs&&rs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Eae(e,t,r)};Object.defineProperty(rs,"__esModule",{value:!0});m0(UR(),rs);m0(kR(),rs);m0(E9(),rs);m0(BR(),rs);m0(O9(),rs);m0(Q9(),rs)});var z9=_(U1=>{"use strict";Object.defineProperty(U1,"__esModule",{value:!0});U1.MemoryPhysicalQueryPlanLogger=void 0;var B1=On(),rA=class{constructor(){this.children=new Map}logOperation(e,r,n,i,a,s){let o={actor:a,logicalOperator:e,physicalOperator:r,rawNode:n,children:[],metadata:s};if(this.children.set(n,o.children),this.rootNode){if(!i)throw new Error("Detected more than one parent-less node");let u=this.children.get(i);if(!u)throw new Error("Could not find parent node");u.push(o)}else{if(i)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=o}}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(e){return{logical:e.logicalOperator,physical:e.physicalOperator,...this.getLogicalMetadata(e.rawNode),...e.metadata,...e.children.length>0?{children:e.children.map(r=>this.planNodeToJson(r))}:{}}}getLogicalMetadata(e){if("type"in e){let r=e;switch(r.type){case"pattern":return{pattern:this.quadToString(r)};case"project":return{variables:r.variables.map(n=>n.value)}}}return{}}quadToString(e){return`${(0,B1.termToString)(e.subject)} ${(0,B1.termToString)(e.predicate)} ${(0,B1.termToString)(e.object)}${e.graph.termType==="DefaultGraph"?"":` ${(0,B1.termToString)(e.graph)}`}`}};U1.MemoryPhysicalQueryPlanLogger=rA});var W9=_(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});V1.QueryEngineBase=void 0;var Oae=dt(),di=Cr(),Sy=Je(),Rae=z9(),v0=class{constructor(e){this.actorInitQuery=e}async queryBindings(e,r){return this.queryOfType(e,r,"bindings")}async queryQuads(e,r){return this.queryOfType(e,r,"quads")}async queryBoolean(e,r){return this.queryOfType(e,r,"boolean")}async queryVoid(e,r){return this.queryOfType(e,r,"void")}async queryOfType(e,r,n){let i=await this.query(e,r);if(i.resultType===n)return i.execute();throw new Error(`Query result type '${n}' was expected, while '${i.resultType}' was found.`)}async query(e,r){let n=await this.queryOrExplain(e,r);if("explain"in n)throw new Error("Tried to explain a query when in query-only mode");return n}async explain(e,r,n){return r.explain=n,await this.queryOrExplain(e,r)}async queryOrExplain(e,r){r=r||{};for(let y in r)this.actorInitQuery.contextKeyShortcuts[y]&&(r[this.actorInitQuery.contextKeyShortcuts[y]]=r[y],delete r[y]);let n=new Sy.ActionContext(r),i={language:"sparql",version:"1.1"};n.has(di.KeysInitQuery.queryFormat)&&(i=n.get(di.KeysInitQuery.queryFormat),n=n.delete(di.KeysInitQuery.queryFormat),i.language==="graphql"&&(n=n.setDefault(di.KeysInitQuery.graphqlSingularizeVariables,{})));let a=n.get(di.KeysInitQuery.baseIRI);n=n.setDefault(di.KeysInitQuery.queryTimestamp,new Date).setDefault(di.KeysRdfResolveQuadPattern.sourceIds,new Map).setDefault(di.KeysCore.log,this.actorInitQuery.logger),n=(await this.actorInitQuery.mediatorContextPreprocess.mediate({context:n})).context;let s=n.get(di.KeysInitQuery.explain),o;if(typeof e=="string"){n=n.set(di.KeysInitQuery.queryString,e);let y=await this.actorInitQuery.mediatorQueryParse.mediate({context:n,query:e,queryFormat:i,baseIRI:a});o=y.operation,y.baseIRI&&(n=n.set(di.KeysInitQuery.baseIRI,y.baseIRI))}else o=e;if(s==="parsed")return{explain:!0,type:s,data:o};n.has(di.KeysInitQuery.initialBindings)&&(o=(0,Oae.materializeOperation)(o,n.get(di.KeysInitQuery.initialBindings)),n=n.delete(di.KeysInitQuery.queryString));let u=await this.actorInitQuery.mediatorOptimizeQueryOperation.mediate({context:n,operation:o});if(o=u.operation,n=u.context||n,s==="logical")return{explain:!0,type:s,data:o};n=n.set(di.KeysInitQuery.query,o);let d;s==="physical"&&(d=new Rae.MemoryPhysicalQueryPlanLogger,n=n.set(di.KeysInitQuery.physicalQueryPlanLogger,d));let f=await this.actorInitQuery.mediatorQueryOperation.mediate({context:n,operation:o});f.context=n;let p=v0.internalToFinalResult(f);if(d){switch(p.resultType){case"bindings":await(await p.execute()).toArray();break;case"quads":await(await p.execute()).toArray();break;case"boolean":await p.execute();break;case"void":await p.execute();break}return{explain:!0,type:s,data:d.toJson()}}return p}async getResultMediaTypes(e){return e=Sy.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(e){return e=Sy.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(e,r,n){if(n=Sy.ActionContext.ensureActionContext(n),!r)switch(e.resultType){case"bindings":r="application/json";break;case"quads":r="application/trig";break;default:r="simple";break}let i={...await v0.finalToInternalResult(e),context:n};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:n,handle:i,handleMediaType:r})).handle}invalidateHttpCache(e,r){return r=Sy.ActionContext.ensureActionContext(r),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:e,context:r})}static internalToFinalResult(e){switch(e.type){case"bindings":return{resultType:"bindings",execute:async()=>e.bindingsStream,metadata:async()=>await e.metadata(),context:e.context};case"quads":return{resultType:"quads",execute:async()=>e.quadStream,metadata:async()=>await e.metadata(),context:e.context};case"boolean":return{resultType:"boolean",execute:async()=>e.execute(),context:e.context};case"void":return{resultType:"void",execute:async()=>e.execute(),context:e.context}}}static async finalToInternalResult(e){switch(e.resultType){case"bindings":return{type:"bindings",bindingsStream:await e.execute(),metadata:async()=>await e.metadata()};case"quads":return{type:"quads",quadStream:await e.execute(),metadata:async()=>await e.metadata()};case"boolean":return{type:"boolean",execute:()=>e.execute()};case"void":return{type:"void",execute:()=>e.execute()}}}};V1.QueryEngineBase=v0});var nA=_(Eo=>{"use strict";var Aae=Eo&&Eo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),K9=Eo&&Eo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Aae(e,t,r)};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.QueryEngineBase=void 0;K9(HO(),Eo);K9(Dq(),Eo);var xae=W9();Object.defineProperty(Eo,"QueryEngineBase",{enumerable:!0,get:function(){return xae.QueryEngineBase}})});var X9=_(k1=>{"use strict";Object.defineProperty(k1,"__esModule",{value:!0});k1.LoggerVoid=void 0;var Iae=CO(),iA=class extends Iae.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}};k1.LoggerVoid=iA});var $9=_(nd=>{"use strict";var Pae=nd&&nd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nae=nd&&nd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Pae(e,t,r)};Object.defineProperty(nd,"__esModule",{value:!0});Nae(X9(),nd)});var J9=_(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0});H1.ActorContextPreprocess=void 0;var Dae=Je(),aA=class extends Dae.Actor{constructor(e){super(e)}};H1.ActorContextPreprocess=aA});var Y9=_(id=>{"use strict";var Cae=id&&id.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jae=id&&id.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Cae(e,t,r)};Object.defineProperty(id,"__esModule",{value:!0});jae(J9(),id)});var Z9=_(Q1=>{"use strict";Object.defineProperty(Q1,"__esModule",{value:!0});Q1.ActorContextPreprocessSourceToDestination=void 0;var qae=Y9(),G1=Cr(),sA=class extends qae.ActorContextPreprocess{constructor(e){super(e)}async test(e){return!0}async run(e){if(e.context.get(G1.KeysRdfResolveQuadPattern.sources)&&!e.context.get(G1.KeysRdfUpdateQuads.destination)){let r=e.context.get(G1.KeysRdfResolveQuadPattern.sources);if(r.length===1)return{context:e.context.set(G1.KeysRdfUpdateQuads.destination,r[0])}}return e}};Q1.ActorContextPreprocessSourceToDestination=sA});var e5=_(ad=>{"use strict";var Lae=ad&&ad.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mae=ad&&ad.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Lae(e,t,r)};Object.defineProperty(ad,"__esModule",{value:!0});Mae(Z9(),ad)});var t5=_(z1=>{"use strict";Object.defineProperty(z1,"__esModule",{value:!0});z1.MediatorCombinePipeline=void 0;var Fae=Je(),oA=class extends Fae.Mediator{constructor(e){super(e)}async mediate(e){let r;try{r=this.publish(e)}catch{return e}if(this.filterErrors){let i=[];for(let a of r)try{await a.reply,i.push(a)}catch{}r=i}if(r=await Promise.all(r.map(async({actor:i,reply:a})=>({actor:i,reply:await a}))),this.order){let i=a=>{let s=this.field?a[this.field]:a;if(typeof s!="number")throw new Error("Cannot order elements that are not numbers.");return s};r=r.sort((a,s)=>(this.order==="increasing"?1:-1)*(i(a.reply)-i(s.reply)))}let n=e;for(let{actor:i}of r)n={...n,...await i.runObservable(n)};return n}mediateWith(){throw new Error("Method not supported.")}};z1.MediatorCombinePipeline=oA});var uA=_(sd=>{"use strict";var Bae=sd&&sd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Uae=sd&&sd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Bae(e,t,r)};Object.defineProperty(sd,"__esModule",{value:!0});Uae(t5(),sd)});var r5=_(W1=>{"use strict";Object.defineProperty(W1,"__esModule",{value:!0});W1.ActorHashBindings=void 0;var Vae=Je(),cA=class extends Vae.Actor{constructor(e){super(e)}};W1.ActorHashBindings=cA});var n5=_(od=>{"use strict";var kae=od&&od.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hae=od&&od.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&kae(e,t,r)};Object.defineProperty(od,"__esModule",{value:!0});Hae(r5(),od)});var K1=_((v8e,i5)=>{"use strict";i5.exports=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((r,n,i)=>{let a=i===0?"":",",s=n===void 0||typeof n=="symbol"?null:n;return r+a+t(s)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,i)=>{if(e[n]===void 0||typeof e[n]=="symbol")return r;let a=r.length===0?"":",";return r+a+t(n)+":"+t(e[n])},"")+"}"}});var s5=_(X1=>{"use strict";Object.defineProperty(X1,"__esModule",{value:!0});X1.ActorHashBindingsSha1=void 0;var Gae=n5(),Qae=p1(),a5=On(),zae=K1(),lA=class extends Gae.ActorHashBindings{async test(e){if(!e.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(e){return{hashFunction:r=>(0,Qae.sha1)().update(zae(Object.fromEntries([...r].map(([n,i])=>[(0,a5.termToString)(n),(0,a5.termToString)(i)])))).digest("hex"),hashCollisions:!0}}};X1.ActorHashBindingsSha1=lA});var o5=_(ud=>{"use strict";var Wae=ud&&ud.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kae=ud&&ud.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Wae(e,t,r)};Object.defineProperty(ud,"__esModule",{value:!0});Kae(s5(),ud)});var u5=_($1=>{"use strict";Object.defineProperty($1,"__esModule",{value:!0});$1.MediatorRace=void 0;var Xae=Je(),dA=class extends Xae.Mediator{constructor(e){super(e)}mediateWith(e,r){return new Promise((n,i)=>{let a=[];for(let s of r)s.reply.then(()=>{n(s.actor)}).catch(o=>{a.push(o),a.length===r.length&&i(new Error(`${this.name} mediated over all rejecting actors:
${a.map(u=>u.message).join(`
`)}`))})})}};$1.MediatorRace=dA});var Ui=_(cd=>{"use strict";var $ae=cd&&cd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jae=cd&&cd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&$ae(e,t,r)};Object.defineProperty(cd,"__esModule",{value:!0});Jae(u5(),cd)});var c5=_(J1=>{"use strict";Object.defineProperty(J1,"__esModule",{value:!0});J1.ActorOptimizeQueryOperation=void 0;var Yae=Je(),fA=class extends Yae.Actor{constructor(e){super(e)}};J1.ActorOptimizeQueryOperation=fA});var Y1=_(ld=>{"use strict";var Zae=ld&&ld.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ese=ld&&ld.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zae(e,t,r)};Object.defineProperty(ld,"__esModule",{value:!0});ese(c5(),ld)});var l5=_(Z1=>{"use strict";Object.defineProperty(Z1,"__esModule",{value:!0});Z1.ActorOptimizeQueryOperationJoinBgp=void 0;var tse=Y1(),rse=jt(),hA=class extends tse.ActorOptimizeQueryOperation{async test(e){return!0}async run(e){return{operation:rse.Util.mapOperation(e.operation,{join(n,i){return n.input.every(a=>a.type==="bgp")?{recurse:!1,result:i.createBgp(n.input.flatMap(a=>a.patterns))}:{recurse:!1,result:n}}}),context:e.context}}};Z1.ActorOptimizeQueryOperationJoinBgp=hA});var d5=_(dd=>{"use strict";var nse=dd&&dd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ise=dd&&dd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nse(e,t,r)};Object.defineProperty(dd,"__esModule",{value:!0});ise(l5(),dd)});var f5=_(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.ActorOptimizeQueryOperationBgpToJoin=void 0;var ase=Y1(),sse=jt(),pA=class extends ase.ActorOptimizeQueryOperation{async test(e){return!0}async run(e){return{operation:sse.Util.mapOperation(e.operation,{bgp(n,i){return{recurse:!1,result:i.createJoin(n.patterns)}}}),context:e.context}}};em.ActorOptimizeQueryOperationBgpToJoin=pA});var h5=_(fd=>{"use strict";var ose=fd&&fd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),use=fd&&fd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ose(e,t,r)};Object.defineProperty(fd,"__esModule",{value:!0});use(f5(),fd)});var _5=_(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.ActorOptimizeQueryOperationJoinConnected=void 0;var cse=Y1(),p5=jt(),hd=class extends cse.ActorOptimizeQueryOperation{async test(e){return!0}async run(e){return{operation:p5.Util.mapOperation(e.operation,{join(n,i){return{recurse:!1,result:hd.cluster(n,i)}}}),context:e.context}}static cluster(e,r){let n=e.input.map(o=>({inScopeVariables:Object.fromEntries(p5.Util.inScopeVariables(o).map(u=>[u.value,!0])),entries:[o]})),i,a=n;do i=a,a=hd.clusterIteration(i);while(i.length!==a.length);let s=a.map(o=>r.createJoin(o.entries));return s.length===1?s[0]:r.createJoin(s,!1)}static clusterIteration(e){let r=[];for(let n of e){let i=!1;for(let a of r)if(hd.haveOverlappingVariables(n.inScopeVariables,a.inScopeVariables)){a.entries=[...a.entries,...n.entries],a.inScopeVariables={...a.inScopeVariables,...n.inScopeVariables},i=!0;break}i||r.push({inScopeVariables:n.inScopeVariables,entries:n.entries})}return r}static haveOverlappingVariables(e,r){for(let n of Object.keys(e))if(r[n])return!0;return!1}};tm.ActorOptimizeQueryOperationJoinConnected=hd});var y5=_(pd=>{"use strict";var lse=pd&&pd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dse=pd&&pd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lse(e,t,r)};Object.defineProperty(pd,"__esModule",{value:!0});dse(_5(),pd)});var b5=_(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.MediatorNumber=void 0;var fse=Je(),_A=class extends fse.Mediator{constructor(e){super(e),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return e=>e.reduce((r,n,i)=>{let a=this.getOrDefault(n[this.field],Number.POSITIVE_INFINITY);return a!==null&&(Number.isNaN(r[0])||r[0]>a)?[a,i]:r},[Number.NaN,-1])[1];case"max":return e=>e.reduce((r,n,i)=>{let a=this.getOrDefault(n[this.field],Number.NEGATIVE_INFINITY);return a!==null&&(Number.isNaN(r[0])||r[0]<a)?[a,i]:r},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(e,r){return e===void 0?r:e}async mediateWith(e,r){let n=r.map(({reply:o})=>o),i=[];if(this.ignoreErrors){let o={};o[this.field]=null,n=n.map(u=>u.catch(d=>(i.push(d),o)))}let a=await Promise.all(n),s=this.indexPicker(a);if(s<0)throw new Error(`All actors rejected their test in ${this.name}
${i.map(o=>o.message).join(`
`)}`);return r[s].actor}};rm.MediatorNumber=_A});var Ty=_(_d=>{"use strict";var hse=_d&&_d.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pse=_d&&_d.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hse(e,t,r)};Object.defineProperty(_d,"__esModule",{value:!0});pse(b5(),_d)});var g5=_(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.ActorQueryOperationValues=void 0;var _se=Kn(),yse=dt(),bse=er(),gse=Bt(),mse=new _se.BindingsFactory,vse=new gse.DataFactory,yA=class extends yse.ActorQueryOperationTyped{constructor(e){super(e,"values")}async testOperation(e,r){return!0}async runOperation(e,r){let n=new bse.ArrayIterator(e.bindings.map(s=>mse.bindings(Object.entries(s).map(([o,u])=>[vse.variable(o.slice(1)),u])))),i=e.variables;return{type:"bindings",bindingsStream:n,metadata:()=>Promise.resolve({cardinality:{type:"exact",value:e.bindings.length},canContainUndefs:e.bindings.some(s=>i.some(o=>!(`?${o.value}`in s))),variables:i})}}};nm.ActorQueryOperationValues=yA});var m5=_(yd=>{"use strict";var wse=yd&&yd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sse=yd&&yd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wse(e,t,r)};Object.defineProperty(yd,"__esModule",{value:!0});Sse(g5(),yd)});var v5=_(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.ActorQueryParse=void 0;var Tse=Je(),bA=class extends Tse.Actor{constructor(e){super(e)}};im.ActorQueryParse=bA});var gA=_(bd=>{"use strict";var Ese=bd&&bd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ose=bd&&bd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ese(e,t,r)};Object.defineProperty(bd,"__esModule",{value:!0});Ose(v5(),bd)});var w5=_(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.ActorQueryParseSparql=void 0;var Rse=gA(),Ase=jt(),xse=r0(),mA=class extends Rse.ActorQueryParse{constructor(e){super(e),this.prefixes=Object.freeze(this.prefixes)}async test(e){if(e.queryFormat&&e.queryFormat.language!=="sparql")throw new Error("This actor can only parse SPARQL queries");return!0}async run(e){let n=new xse.Parser({prefixes:this.prefixes,baseIRI:e.baseIRI}).parse(e.query);return{baseIRI:n.type==="query"?n.base:void 0,operation:(0,Ase.translate)(n,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:e.baseIRI})}}};am.ActorQueryParseSparql=mA});var S5=_(gd=>{"use strict";var Ise=gd&&gd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pse=gd&&gd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ise(e,t,r)};Object.defineProperty(gd,"__esModule",{value:!0});Pse(w5(),gd)});var md=_(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.DirectiveNodeHandlerAdapter=void 0;var vA=class{constructor(e,r,n){this.targetKind=e,this.util=r,this.settings=n}getDirectiveConditionalValue(e,r){let n=this.util.getArgument(e.arguments,"if");if(!n)throw new Error(`The directive ${e.name.value} is missing an if-argument.`);let i=this.util.handleNodeValue(n.value,n.name.value,r);if(i.terms.length!==1)throw new Error(`Can not apply the directive ${e.name.value} with a list.`);return i.terms[0]}isDirectiveScopeAll(e){let r=this.util.getArgument(e.arguments,"scope");return r&&r.value.kind==="EnumValue"&&r.value.value==="all"}};sm.DirectiveNodeHandlerAdapter=vA});var T5=_(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.DirectiveNodeHandlerInclude=void 0;var Nse=md(),wA=class extends Nse.DirectiveNodeHandlerAdapter{constructor(e,r){super("include",e,r)}handle(e,r){let n=this.getDirectiveConditionalValue(e.directive,r);return n.termType==="Literal"&&n.value==="false"?{ignore:!0}:{}}};om.DirectiveNodeHandlerInclude=wA});var E5=_(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.DirectiveNodeHandlerOptional=void 0;var Dse=md(),SA=class extends Dse.DirectiveNodeHandlerAdapter{constructor(e,r){super("optional",e,r)}handle(e,r){return{operationOverrider:n=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),n)}}};um.DirectiveNodeHandlerOptional=SA});var w0=_(Ey=>{"use strict";Object.defineProperty(Ey,"__esModule",{value:!0});Ey.SingularizeState=void 0;var Cse;(function(t){t[t.SINGLE=0]="SINGLE",t[t.PLURAL=1]="PLURAL"})(Cse=Ey.SingularizeState||(Ey.SingularizeState={}))});var O5=_(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.DirectiveNodeHandlerPlural=void 0;var jse=w0(),qse=md(),TA=class extends qse.DirectiveNodeHandlerAdapter{constructor(e,r){super("plural",e,r)}handle(e,r){return this.isDirectiveScopeAll(e.directive)&&(r.singularizeState=jse.SingularizeState.PLURAL),delete r.singularizeVariables[this.util.nameToVariable(e.fieldLabel,r).value],{}}};cm.DirectiveNodeHandlerPlural=TA});var R5=_(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.DirectiveNodeHandlerSingle=void 0;var Lse=w0(),Mse=md(),EA=class extends Mse.DirectiveNodeHandlerAdapter{constructor(e,r){super("single",e,r)}handle(e,r){return this.isDirectiveScopeAll(e.directive)&&(r.singularizeState=Lse.SingularizeState.SINGLE),r.singularizeVariables[this.util.nameToVariable(e.fieldLabel,r).value]=!0,{}}};lm.DirectiveNodeHandlerSingle=EA});var A5=_(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.DirectiveNodeHandlerSkip=void 0;var Fse=md(),OA=class extends Fse.DirectiveNodeHandlerAdapter{constructor(e,r){super("skip",e,r)}handle(e,r){let n=this.getDirectiveConditionalValue(e.directive,r);return n.termType==="Literal"&&n.value==="true"?{ignore:!0}:{}}};dm.DirectiveNodeHandlerSkip=OA});var RA=_(ns=>{"use strict";var Bse=ns&&ns.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),S0=ns&&ns.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Bse(e,t,r)};Object.defineProperty(ns,"__esModule",{value:!0});S0(md(),ns);S0(T5(),ns);S0(E5(),ns);S0(O5(),ns);S0(R5(),ns);S0(A5(),ns)});var Cs=_(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.NodeValueHandlerAdapter=void 0;var AA=class{constructor(e,r,n){this.targetKind=e,this.util=r,this.settings=n}};fm.NodeValueHandlerAdapter=AA});var x5=_(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.NodeValueHandlerBoolean=void 0;var Use=Cs(),xA=class extends Use.NodeValueHandlerAdapter{constructor(e,r){super("BooleanValue",e,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(e,r,n){return{terms:[this.util.dataFactory.literal(e.value?"true":"false",this.datatype)]}}};hm.NodeValueHandlerBoolean=xA});var I5=_(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.NodeValueHandlerEnum=void 0;var Vse=Cs(),IA=class extends Vse.NodeValueHandlerAdapter{constructor(e,r){super("EnumValue",e,r)}handle(e,r,n){return{terms:[this.util.valueToNamedNode(e.value,n.context)]}}};pm.NodeValueHandlerEnum=IA});var P5=_(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.NodeValueHandlerFloat=void 0;var kse=Cs(),PA=class extends kse.NodeValueHandlerAdapter{constructor(e,r){super("FloatValue",e,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(e,r,n){return{terms:[this.util.dataFactory.literal(e.value,this.datatype)]}}};_m.NodeValueHandlerFloat=PA});var N5=_(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.NodeValueHandlerInt=void 0;var Hse=Cs(),NA=class extends Hse.NodeValueHandlerAdapter{constructor(e,r){super("IntValue",e,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(e,r,n){return{terms:[this.util.dataFactory.literal(e.value,this.datatype)]}}};ym.NodeValueHandlerInt=NA});var D5=_(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.NodeValueHandlerList=void 0;var Gse=Cs(),DA=class extends Gse.NodeValueHandlerAdapter{constructor(e,r){super("ListValue",e,r),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(e,r,n){let i=[],a=[];for(let s of e.values){let o=this.util.handleNodeValue(s,r,n);for(let u of o.terms)i.push(u);o.auxiliaryPatterns&&(a=a.concat(o.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){let s=this.util.dataFactory.blankNode(),o=s,u=i.length;for(let d of i){a.push(this.util.operationFactory.createPattern(o,this.nodeFirst,d,n.graph));let f=--u===0?this.nodeNil:this.util.dataFactory.blankNode();a.push(this.util.operationFactory.createPattern(o,this.nodeRest,f,n.graph)),o=f}return{terms:[s],auxiliaryPatterns:a}}else return{terms:i,auxiliaryPatterns:a}}};bm.NodeValueHandlerList=DA});var C5=_(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});gm.NodeValueHandlerNull=void 0;var Qse=Cs(),CA=class extends Qse.NodeValueHandlerAdapter{constructor(e,r){super("NullValue",e,r),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(e,r,n){return{terms:[this.nil]}}};gm.NodeValueHandlerNull=CA});var j5=_(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.NodeValueHandlerObject=void 0;var zse=Cs(),jA=class extends zse.NodeValueHandlerAdapter{constructor(e,r){super("ObjectValue",e,r)}handle(e,r,n){let i=this.util.dataFactory.blankNode(),a=[];for(let s of e.fields){let o=this.util.handleNodeValue(s.value,r,n);for(let u of o.terms)a.push(this.util.createQuadPattern(i,s.name,u,n.graph,n.context));o.auxiliaryPatterns&&(a=a.concat(o.auxiliaryPatterns))}return{terms:[i],auxiliaryPatterns:a}}};mm.NodeValueHandlerObject=jA});var q5=_(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.NodeValueHandlerString=void 0;var Wse=Cs(),qA=class extends Wse.NodeValueHandlerAdapter{constructor(e,r){super("StringValue",e,r)}handle(e,r,n){let i=n.context.getContextRaw()[r],a,s;return i&&typeof i!="string"&&(i["@language"]?a=i["@language"]:i["@type"]&&(s=this.util.dataFactory.namedNode(i["@type"]))),{terms:[this.util.dataFactory.literal(e.value,a||s)]}}};vm.NodeValueHandlerString=qA});var L5=_(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.NodeValueHandlerVariable=void 0;var Kse=Cs(),LA=class extends Kse.NodeValueHandlerAdapter{constructor(e,r){super("Variable",e,r)}handle(e,r,n){let i=e.name.value,a=n.variablesDict[i],s=n.variablesMetaDict[i];if(!a){if(!n.ignoreUnknownVariables&&(!s||s.mandatory))throw new Error(`Undefined variable: ${i}`);{let o=this.util.dataFactory.variable(i);return n.terminalVariables.map(u=>u.value).indexOf(i)<0&&n.terminalVariables.push(o),{terms:[o]}}}if(a.kind==="Variable")throw new Error(`Variable refers to another variable: ${i}`);if(s)if(s.list){if(a.kind!=="ListValue")throw new Error(`Expected a list, but got ${a.kind} for ${i}`);if(s.type){let o=a;for(let u of o.values)if(u.kind!==s.type)throw new Error(`Expected ${s.type}, but got ${u.kind} for ${i}`)}}else s.type;return this.util.handleNodeValue(a,r,n)}};wm.NodeValueHandlerVariable=LA});var M5=_(fi=>{"use strict";var Xse=fi&&fi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Oo=fi&&fi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Xse(e,t,r)};Object.defineProperty(fi,"__esModule",{value:!0});Oo(Cs(),fi);Oo(x5(),fi);Oo(I5(),fi);Oo(P5(),fi);Oo(N5(),fi);Oo(D5(),fi);Oo(C5(),fi);Oo(j5(),fi);Oo(q5(),fi);Oo(L5(),fi)});var Oy=_(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.NodeHandlerAdapter=void 0;var MA=class{constructor(e,r,n){this.targetKind=e,this.util=r,this.settings=n}getNodeQuadContextSelectionSet(e,r,n){let i={};if(e){for(let a of e.selections)if(a.kind==="Field"){let s=a;this.handleNodeQuadContextField(s,n,i,"id","subject"),this.handleNodeQuadContextField(s,n,i,"graph","graph")}}return i}handleNodeQuadContextField(e,r,n,i,a){if(!n[a]&&e.name.value===i){if(!n[a]){let s=this.util.getArgument(e.arguments,"_");if(s){let o=this.util.handleNodeValue(s.value,e.name.value,r);if(o.terms.length!==1)throw new Error(`Only single values can be set as ${i}, but got ${o.terms.length} at ${e.name.value}`);n[a]=o.terms[0],o.auxiliaryPatterns&&(n.auxiliaryPatterns||(n.auxiliaryPatterns=[]),n.auxiliaryPatterns.concat(o.auxiliaryPatterns))}}if(!n[a]){let s=this.util.nameToVariable(this.util.getFieldLabel(e),r);r.terminalVariables.push(s),n[a]=s}}}getDirectiveOutputs(e,r,n){let i=[];if(e)for(let a of e){let s=this.util.handleDirectiveNode({directive:a,fieldLabel:r},n);if(s){if(s.ignore)return null;i.push(s)}}return i}handleDirectiveOutputs(e,r){for(let n of e){if(n.ignore)return this.util.operationFactory.createBgp([]);n.operationOverrider&&(r=n.operationOverrider(r))}return r}};Sm.NodeHandlerAdapter=MA});var Em=_(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.NodeHandlerDefinitionAdapter=void 0;var $se=Oy(),FA=class extends $se.NodeHandlerAdapter{constructor(e,r,n){super(e,r,n)}};Tm.NodeHandlerDefinitionAdapter=FA});var F5=_(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.NodeHandlerDefinitionFragment=void 0;var Jse=Em(),BA=class extends Jse.NodeHandlerDefinitionAdapter{constructor(e,r){super("FragmentDefinition",e,r)}handle(e,r){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}};Om.NodeHandlerDefinitionFragment=BA});var B5=_(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.NodeHandlerDefinitionOperation=void 0;var Yse=Em(),UA=class extends Yse.NodeHandlerDefinitionAdapter{constructor(e,r){super("OperationDefinition",e,r)}handle(e,r){if(e.operation!=="query")throw new Error("Unsupported definition operation: "+e.operation);if(e.variableDefinitions)for(let a of e.variableDefinitions){let s=a.variable.name.value;a.defaultValue&&(r.variablesDict[s]||(r.variablesDict[s]=a.defaultValue));let o=a.type,u=o.kind==="NonNullType";u&&(o=o.type);let d=o.kind==="ListType";d&&(o=o.type);let f=o.name.value;r.variablesMetaDict[s]={mandatory:u,list:d,type:f}}let n=this.getDirectiveOutputs(e.directives,e.name?e.name.value:"",r);if(!n)return this.util.operationFactory.createBgp([]);let i=this.util.joinOperations(e.selectionSet.selections.map(a=>this.util.handleNode(a,r)));return this.handleDirectiveOutputs(n,i)}};Rm.NodeHandlerDefinitionOperation=UA});var V5=_(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.NodeHandlerDocument=void 0;var U5=jt(),Zse=Oy(),VA=class extends Zse.NodeHandlerAdapter{constructor(e,r){super("Document",e,r)}handle(e,r){let n=e.definitions.map(a=>{let s=this.getNodeQuadContextDefinitionNode(a,Object.assign(Object.assign({},r),{ignoreUnknownVariables:!0})),o=Object.assign(Object.assign({},r),{graph:s.graph||r.graph,subject:s.subject||this.util.dataFactory.blankNode()}),u=this.util.handleNode(a,o);return s&&s.auxiliaryPatterns&&(u=this.util.joinOperations([u,this.util.operationFactory.createBgp(s.auxiliaryPatterns)])),u}),i=this.util.operationFactory.createProject(n.length===1?n[0]:this.util.operationFactory.createUnion(n),r.terminalVariables);return this.translateBlankNodesToVariables(i)}getNodeQuadContextDefinitionNode(e,r){if(e.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(e.selectionSet,e.name?e.name.value:"",r);throw new Error(`Unsupported definition: ${e.kind}`)}translateBlankNodesToVariables(e){let r=this,n={},i=Array.from(e.variables).reduce((s,o)=>(s[o.value]=!0,s),{});return U5.Util.mapOperation(e,{path:(s,o)=>({recurse:!1,result:o.createPath(a(s.subject),s.predicate,a(s.object),a(s.graph))}),pattern:(s,o)=>({recurse:!1,result:o.createPattern(a(s.subject),a(s.predicate),a(s.object),a(s.graph))})});function a(s){if(s.termType==="BlankNode"){let o=n[s.value];return o||(o=U5.Util.createUniqueVariable(s.value,i,r.util.dataFactory),i[o.value]=!0,n[s.value]=o),o}return s}}};Am.NodeHandlerDocument=VA});var Ry=_(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.NodeHandlerSelectionAdapter=void 0;var eoe=jt(),toe=w0(),roe=Oy(),kA=class extends roe.NodeHandlerAdapter{constructor(e,r,n){super(e,r,n)}getNodeQuadContextFieldNode(e,r,n){return this.getNodeQuadContextSelectionSet(e.selectionSet,r,Object.assign(Object.assign({},n),{path:this.util.appendFieldToPath(n.path,r)}))}fieldToOperation(e,r,n,i){let a=n,s=0,o;if((r.name.value==="id"||r.name.value==="graph")&&(n=!1,r.arguments))for(let O of r.arguments)O.name.value==="_"&&this.util.handleNodeValue(O.value,r.name.value,e);let u=this.util.getFieldLabel(r);if(e.singularizeState===toe.SingularizeState.SINGLE&&(e.singularizeVariables[this.util.nameToVariable(u,e).value]=!0),n){let O=this.handleMetaField(e,u,i);if(O)return O}let d=i?[this.util.operationFactory.createBgp(i)]:[],f=this.getNodeQuadContextFieldNode(r,u,e),p=f.subject||this.util.nameToVariable(u,e),y=f.graph||e.graph;f.auxiliaryPatterns&&d.push(this.util.operationFactory.createBgp(f.auxiliaryPatterns));let g=!0,v=null;if(n&&r.arguments&&r.arguments.length){for(let O of r.arguments)if(O.name.value==="_"){let C=this.util.handleNodeValue(O.value,r.name.value,e);v=C.terms,d.push(this.util.operationFactory.createBgp(C.terms.map(R=>this.util.createQuadPattern(e.subject,r.name,R,e.graph,e.context)))),C.auxiliaryPatterns&&d.push(this.util.operationFactory.createBgp(C.auxiliaryPatterns)),n=!1;break}else if(O.name.value==="graph"){let C=this.util.handleNodeValue(O.value,r.name.value,e);if(C.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${C.terms.length} at ${r.name.value}`);y=C.terms[0],e=Object.assign(Object.assign({},e),{graph:y}),C.auxiliaryPatterns&&d.push(this.util.operationFactory.createBgp(C.auxiliaryPatterns));break}else if(O.name.value==="alt"){let C=O.value;C.kind!=="ListValue"&&(C={kind:"ListValue",values:[C]}),d.push(this.util.createQuadPath(e.subject,r.name,C,p,e.graph,e.context)),g=!1;break}}if(n&&g&&d.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(e.subject,r.name,p,e.graph,e.context)])),r.arguments&&r.arguments.length){for(let O of r.arguments)if(!(O.name.value==="_"||O.name.value==="graph"||O.name.value==="alt"))if(O.name.value==="first"){if(O.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+O.value.kind);o=parseInt(O.value.value,10)}else if(O.name.value==="offset"){if(O.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+O.value.kind);s=parseInt(O.value.value,10)}else{let C=this.util.handleNodeValue(O.value,O.name.value,e);d.push(this.util.operationFactory.createBgp(C.terms.map(R=>this.util.createQuadPattern(p,O.name,R,e.graph,e.context)))),C.auxiliaryPatterns&&d.push(this.util.operationFactory.createBgp(C.auxiliaryPatterns))}}let E=this.getDirectiveOutputs(r.directives,u,e);if(!E)return this.util.operationFactory.createBgp([]);let D=this.util.joinOperations(d);if(r.selectionSet&&r.selectionSet.selections.length){if(v){if(v.length!==1)throw new Error(`Only single values can be set as id, but got ${v.length} at ${r.name.value}`);p=v[0]}let O=Object.assign(Object.assign(Object.assign({},e),a?{path:this.util.appendFieldToPath(e.path,u)}:{}),{graph:y,subject:a?p:e.subject}),C=!1,R=r.selectionSet.selections.filter(P=>P.kind==="Field"&&P.name.value==="totalCount"?(C=!0,!1):!0),w=this.util.joinOperations(d.concat(R.map(P=>this.util.handleNode(P,O))));if(C){let P=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),T=this.util.dataFactory.variable(p.value+this.settings.variableDelimiter+"totalCount"),te=this.util.operationFactory.createBoundAggregate(P,"count",this.util.operationFactory.createTermExpression(p),!1),ee=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(D,[],[te]),T,this.util.operationFactory.createTermExpression(P)),[T]);e.terminalVariables.push(T),R.length?w=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(w,[]),ee]):w=ee}D=w}else n&&p.termType==="Variable"&&e.terminalVariables.push(p);return(s||o)&&(D=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(D,eoe.Util.inScopeVariables(D)),s,o)),this.handleDirectiveOutputs(E,D)}handleMetaField(e,r,n){if(r==="__typename"){let i=this.util.nameToVariable(r,e);return e.terminalVariables.push(i),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(e.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(r,e),e.graph)].concat(n||[]))}}};xm.NodeHandlerSelectionAdapter=kA});var k5=_(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.NodeHandlerSelectionField=void 0;var noe=Ry(),HA=class extends noe.NodeHandlerSelectionAdapter{constructor(e,r){super("Field",e,r)}handle(e,r){return this.fieldToOperation(r,e,!0)}};Im.NodeHandlerSelectionField=HA});var H5=_(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.NodeHandlerSelectionFragmentSpread=void 0;var ioe=Ry(),GA=class extends ioe.NodeHandlerSelectionAdapter{constructor(e,r){super("FragmentSpread",e,r)}handle(e,r){let n=r.fragmentDefinitions[e.name.value];if(!n)throw new Error("Undefined fragment definition: "+e.name.value);let i={alias:void 0,arguments:void 0,directives:n.directives,kind:"Field",name:e.name,selectionSet:n.selectionSet},a=[this.util.newTypePattern(r.subject,n.typeCondition,r)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,i,!1,a))}};Pm.NodeHandlerSelectionFragmentSpread=GA});var G5=_(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.NodeHandlerSelectionInlineFragment=void 0;var aoe=Ry(),QA=class extends aoe.NodeHandlerSelectionAdapter{constructor(e,r){super("InlineFragment",e,r)}handle(e,r){let n={alias:void 0,arguments:void 0,directives:e.directives,kind:"Field",name:{kind:"Name",value:r.subject.value},selectionSet:e.selectionSet},i=e.typeCondition?[this.util.newTypePattern(r.subject,e.typeCondition,r)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,n,!1,i))}};Nm.NodeHandlerSelectionInlineFragment=QA});var zA=_(Yn=>{"use strict";var soe=Yn&&Yn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),js=Yn&&Yn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&soe(e,t,r)};Object.defineProperty(Yn,"__esModule",{value:!0});js(RA(),Yn);js(M5(),Yn);js(Oy(),Yn);js(Em(),Yn);js(F5(),Yn);js(B5(),Yn);js(V5(),Yn);js(Ry(),Yn);js(k5(),Yn);js(H5(),Yn);js(G5(),Yn)});var WA=_(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.SYMBOL_TO_STRING_TAG=Tc.SYMBOL_ASYNC_ITERATOR=Tc.SYMBOL_ITERATOR=void 0;var ooe=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";Tc.SYMBOL_ITERATOR=ooe;var uoe=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";Tc.SYMBOL_ASYNC_ITERATOR=uoe;var coe=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";Tc.SYMBOL_TO_STRING_TAG=coe});var KA=_(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.default=void 0;var loe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,doe=loe;Dm.default=doe});var qm=_(XA=>{"use strict";Object.defineProperty(XA,"__esModule",{value:!0});XA.default=_oe;var foe=hoe(KA());function hoe(t){return t&&t.__esModule?t:{default:t}}function Cm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cm=function(r){return typeof r}:Cm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cm(t)}var poe=10,Q5=2;function _oe(t){return jm(t,[])}function jm(t,e){switch(Cm(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":yoe(t,e);default:return String(t)}}function yoe(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var r=[].concat(e,[t]),n=moe(t);if(n!==void 0){var i=n.call(t);if(i!==t)return typeof i=="string"?i:jm(i,r)}else if(Array.isArray(t))return goe(t,r);return boe(t,r)}function boe(t,e){var r=Object.keys(t);if(r.length===0)return"{}";if(e.length>Q5)return"["+voe(t)+"]";var n=r.map(function(i){var a=jm(t[i],e);return i+": "+a});return"{ "+n.join(", ")+" }"}function goe(t,e){if(t.length===0)return"[]";if(e.length>Q5)return"[Array]";for(var r=Math.min(poe,t.length),n=t.length-r,i=[],a=0;a<r;++a)i.push(jm(t[a],e));return n===1?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items")),"["+i.join(", ")+"]"}function moe(t){var e=t[String(foe.default)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function voe(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}});var z5=_($A=>{"use strict";Object.defineProperty($A,"__esModule",{value:!0});$A.default=woe;function woe(t,e){var r=Boolean(t);if(!r)throw new Error(e)}});var W5=_(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.default=void 0;var vCe=Soe(qm());function Soe(t){return t&&t.__esModule?t:{default:t}}var Toe=function(e,r){return e instanceof r};Lm.default=Toe});var ZA=_(Ay=>{"use strict";Object.defineProperty(Ay,"__esModule",{value:!0});Ay.isSource=xoe;Ay.Source=void 0;var Eoe=WA(),Ooe=YA(qm()),JA=YA(z5()),Roe=YA(W5());function YA(t){return t&&t.__esModule?t:{default:t}}function K5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Aoe(t,e,r){return e&&K5(t.prototype,e),r&&K5(t,r),t}var X5=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||(0,JA.default)(0,"Body must be a string. Received: ".concat((0,Ooe.default)(e),".")),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||(0,JA.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,JA.default)(0,"column in locationOffset is 1-indexed and must be positive.")}return Aoe(t,[{key:Eoe.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),t}();Ay.Source=X5;function xoe(t){return(0,Roe.default)(t,X5)}});var Mm=_(ex=>{"use strict";Object.defineProperty(ex,"__esModule",{value:!0});ex.getLocation=Ioe;function Ioe(t,e){for(var r=/\r\n|[\n\r]/g,n=1,i=e+1,a;(a=r.exec(t.body))&&a.index<e;)n+=1,i=e+1-(a.index+a[0].length);return{line:n,column:i}}});var tx=_(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.printLocation=Noe;Bm.printSourceLocation=J5;var Poe=Mm();function Noe(t){return J5(t.source,(0,Poe.getLocation)(t.source,t.start))}function J5(t,e){var r=t.locationOffset.column-1,n=Fm(r)+t.body,i=e.line-1,a=t.locationOffset.line-1,s=e.line+a,o=e.line===1?r:0,u=e.column+o,d="".concat(t.name,":").concat(s,":").concat(u,`
`),f=n.split(/\r\n|[\n\r]/g),p=f[i];if(p.length>120){for(var y=Math.floor(u/80),g=u%80,v=[],E=0;E<p.length;E+=80)v.push(p.slice(E,E+80));return d+$5([["".concat(s),v[0]]].concat(v.slice(1,y+1).map(function(D){return["",D]}),[[" ",Fm(g-1)+"^"],["",v[y+1]]]))}return d+$5([["".concat(s-1),f[i-1]],["".concat(s),p],["",Fm(u-1)+"^"],["".concat(s+1),f[i+1]]])}function $5(t){var e=t.filter(function(n){var i=n[0],a=n[1];return a!==void 0}),r=Math.max.apply(Math,e.map(function(n){var i=n[0];return i.length}));return e.map(function(n){var i=n[0],a=n[1];return Doe(r,i)+(a?" | "+a:" |")}).join(`
`)}function Fm(t){return Array(t+1).join(" ")}function Doe(t,e){return Fm(t-e.length)+e}});var Vm=_(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.Kind=void 0;var Coe=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});Um.Kind=Coe});var Hm=_(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.TokenKind=void 0;var joe=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});km.TokenKind=joe});var Y5=_(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0});rx.default=qoe;function Gm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gm=function(r){return typeof r}:Gm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gm(t)}function qoe(t){return Gm(t)=="object"&&t!==null}});var oM=_(Ny=>{"use strict";function Qm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qm=function(r){return typeof r}:Qm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qm(t)}Object.defineProperty(Ny,"__esModule",{value:!0});Ny.printError=sM;Ny.GraphQLError=void 0;var Loe=Foe(Y5()),Moe=WA(),Z5=Mm(),eM=tx();function Foe(t){return t&&t.__esModule?t:{default:t}}function tM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Boe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(r),!0).forEach(function(n){Uoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uoe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function koe(t,e,r){return e&&rM(t.prototype,e),r&&rM(t,r),t}function Hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iy(t,e)}function Goe(t){var e=aM();return function(){var n=Py(t),i;if(e){var a=Py(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return iM(this,i)}}function iM(t,e){return e&&(Qm(e)==="object"||typeof e=="function")?e:xy(t)}function xy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nx(t){var e=typeof Map=="function"?new Map:void 0;return nx=function(n){if(n===null||!Qoe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return zm(n,arguments,Py(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Iy(i,n)},nx(t)}function zm(t,e,r){return aM()?zm=Reflect.construct:zm=function(i,a,s){var o=[null];o.push.apply(o,a);var u=Function.bind.apply(i,o),d=new u;return s&&Iy(d,s.prototype),d},zm.apply(null,arguments)}function aM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Qoe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Iy(t,e){return Iy=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Iy(t,e)}function Py(t){return Py=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(t)}var zoe=function(t){Hoe(r,t);var e=Goe(r);function r(n,i,a,s,o,u,d){var f,p,y,g;Voe(this,r),g=e.call(this,n),g.name="GraphQLError",g.originalError=u??void 0,g.nodes=nM(Array.isArray(i)?i:i?[i]:void 0);for(var v=[],E=0,D=(O=g.nodes)!==null&&O!==void 0?O:[];E<D.length;E++){var O,C=D[E],R=C.loc;R!=null&&v.push(R)}v=nM(v),g.source=a??((f=v)===null||f===void 0?void 0:f[0].source),g.positions=s??((p=v)===null||p===void 0?void 0:p.map(function(P){return P.start})),g.locations=s&&a?s.map(function(P){return(0,Z5.getLocation)(a,P)}):(y=v)===null||y===void 0?void 0:y.map(function(P){return(0,Z5.getLocation)(P.source,P.start)}),g.path=o??void 0;var w=u?.extensions;return d==null&&(0,Loe.default)(w)?g.extensions=Boe({},w):g.extensions=d??{},Object.defineProperties(xy(g),{message:{enumerable:!0},locations:{enumerable:g.locations!=null},path:{enumerable:g.path!=null},extensions:{enumerable:g.extensions!=null&&Object.keys(g.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?(Object.defineProperty(xy(g),"stack",{value:u.stack,writable:!0,configurable:!0}),iM(g)):(Error.captureStackTrace?Error.captureStackTrace(xy(g),r):Object.defineProperty(xy(g),"stack",{value:Error().stack,writable:!0,configurable:!0}),g)}return koe(r,[{key:"toString",value:function(){return sM(this)}},{key:Moe.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),r}(nx(Error));Ny.GraphQLError=zoe;function nM(t){return t===void 0||t.length===0?void 0:t}function sM(t){var e=t.message;if(t.nodes)for(var r=0,n=t.nodes;r<n.length;r++){var i=n[r];i.loc&&(e+=`

`+(0,eM.printLocation)(i.loc))}else if(t.source&&t.locations)for(var a=0,s=t.locations;a<s.length;a++){var o=s[a];e+=`

`+(0,eM.printSourceLocation)(t.source,o)}return e}});var ax=_(ix=>{"use strict";Object.defineProperty(ix,"__esModule",{value:!0});ix.syntaxError=Koe;var Woe=oM();function Koe(t,e,r){return new Woe.GraphQLError("Syntax Error: ".concat(r),void 0,t,[e])}});var uM=_(sx=>{"use strict";Object.defineProperty(sx,"__esModule",{value:!0});sx.default=Xoe;function Xoe(t,e){var r=Boolean(t);if(!r)throw new Error(e??"Unexpected invariant triggered.")}});var dM=_(ox=>{"use strict";Object.defineProperty(ox,"__esModule",{value:!0});ox.default=Joe;var $oe=lM(uM()),cM=lM(KA());function lM(t){return t&&t.__esModule?t:{default:t}}function Joe(t){var e=t.prototype.toJSON;typeof e=="function"||(0,$oe.default)(0),t.prototype.inspect=e,cM.default&&(t.prototype[cM.default]=e)}});var Dy=_(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.isNode=Zoe;vd.Token=vd.Location=void 0;var fM=Yoe(dM());function Yoe(t){return t&&t.__esModule?t:{default:t}}var hM=function(){function t(r,n,i){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=i}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();vd.Location=hM;(0,fM.default)(hM);var pM=function(){function t(r,n,i,a,s,o,u){this.kind=r,this.start=n,this.end=i,this.line=a,this.column=s,this.value=u,this.prev=o,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();vd.Token=pM;(0,fM.default)(pM);function Zoe(t){return t!=null&&typeof t.kind=="string"}});var ux=_(Cy=>{"use strict";Object.defineProperty(Cy,"__esModule",{value:!0});Cy.dedentBlockStringValue=eue;Cy.getBlockStringIndentation=yM;Cy.printBlockString=tue;function eue(t){var e=t.split(/\r\n|[\n\r]/g),r=yM(t);if(r!==0)for(var n=1;n<e.length;n++)e[n]=e[n].slice(r);for(var i=0;i<e.length&&_M(e[i]);)++i;for(var a=e.length;a>i&&_M(e[a-1]);)--a;return e.slice(i,a).join(`
`)}function _M(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function yM(t){for(var e,r=!0,n=!0,i=0,a=null,s=0;s<t.length;++s)switch(t.charCodeAt(s)){case 13:t.charCodeAt(s+1)===10&&++s;case 10:r=!1,n=!0,i=0;break;case 9:case 32:++i;break;default:n&&!r&&(a===null||i<a)&&(a=i),n=!1}return(e=a)!==null&&e!==void 0?e:0}function tue(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.indexOf(`
`)===-1,i=t[0]===" "||t[0]==="	",a=t[t.length-1]==='"',s=t[t.length-1]==="\\",o=!n||a||s||r,u="";return o&&!(n&&i)&&(u+=`
`+e),u+=e?t.replace(/\n/g,`
`+e):t,o&&(u+=`
`),'"""'+u.replace(/"""/g,'\\"""')+'"""'}});var lx=_(jy=>{"use strict";Object.defineProperty(jy,"__esModule",{value:!0});jy.isPunctuatorTokenKind=iue;jy.Lexer=void 0;var Ro=ax(),ln=Dy(),Pt=Hm(),rue=ux(),nue=function(){function t(r){var n=new ln.Token(Pt.TokenKind.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},e.lookahead=function(){var n=this.token;if(n.kind!==Pt.TokenKind.EOF)do{var i;n=(i=n.next)!==null&&i!==void 0?i:n.next=aue(this,n)}while(n.kind===Pt.TokenKind.COMMENT);return n},t}();jy.Lexer=nue;function iue(t){return t===Pt.TokenKind.BANG||t===Pt.TokenKind.DOLLAR||t===Pt.TokenKind.AMP||t===Pt.TokenKind.PAREN_L||t===Pt.TokenKind.PAREN_R||t===Pt.TokenKind.SPREAD||t===Pt.TokenKind.COLON||t===Pt.TokenKind.EQUALS||t===Pt.TokenKind.AT||t===Pt.TokenKind.BRACKET_L||t===Pt.TokenKind.BRACKET_R||t===Pt.TokenKind.BRACE_L||t===Pt.TokenKind.PIPE||t===Pt.TokenKind.BRACE_R}function wd(t){return isNaN(t)?Pt.TokenKind.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function aue(t,e){for(var r=t.source,n=r.body,i=n.length,a=e.end;a<i;){var s=n.charCodeAt(a),o=t.line,u=1+a-t.lineStart;switch(s){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++t.line,t.lineStart=a;continue;case 13:n.charCodeAt(a+1)===10?a+=2:++a,++t.line,t.lineStart=a;continue;case 33:return new ln.Token(Pt.TokenKind.BANG,a,a+1,o,u,e);case 35:return oue(r,a,o,u,e);case 36:return new ln.Token(Pt.TokenKind.DOLLAR,a,a+1,o,u,e);case 38:return new ln.Token(Pt.TokenKind.AMP,a,a+1,o,u,e);case 40:return new ln.Token(Pt.TokenKind.PAREN_L,a,a+1,o,u,e);case 41:return new ln.Token(Pt.TokenKind.PAREN_R,a,a+1,o,u,e);case 46:if(n.charCodeAt(a+1)===46&&n.charCodeAt(a+2)===46)return new ln.Token(Pt.TokenKind.SPREAD,a,a+3,o,u,e);break;case 58:return new ln.Token(Pt.TokenKind.COLON,a,a+1,o,u,e);case 61:return new ln.Token(Pt.TokenKind.EQUALS,a,a+1,o,u,e);case 64:return new ln.Token(Pt.TokenKind.AT,a,a+1,o,u,e);case 91:return new ln.Token(Pt.TokenKind.BRACKET_L,a,a+1,o,u,e);case 93:return new ln.Token(Pt.TokenKind.BRACKET_R,a,a+1,o,u,e);case 123:return new ln.Token(Pt.TokenKind.BRACE_L,a,a+1,o,u,e);case 124:return new ln.Token(Pt.TokenKind.PIPE,a,a+1,o,u,e);case 125:return new ln.Token(Pt.TokenKind.BRACE_R,a,a+1,o,u,e);case 34:return n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34?lue(r,a,o,u,e,t):cue(r,a,o,u,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return uue(r,a,s,o,u,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return fue(r,a,o,u,e)}throw(0,Ro.syntaxError)(r,a,sue(s))}var d=t.line,f=1+a-t.lineStart;return new ln.Token(Pt.TokenKind.EOF,i,i,d,f,e)}function sue(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(wd(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(wd(t),".")}function oue(t,e,r,n,i){var a=t.body,s,o=e;do s=a.charCodeAt(++o);while(!isNaN(s)&&(s>31||s===9));return new ln.Token(Pt.TokenKind.COMMENT,e,o,r,n,i,a.slice(e+1,o))}function uue(t,e,r,n,i,a){var s=t.body,o=r,u=e,d=!1;if(o===45&&(o=s.charCodeAt(++u)),o===48){if(o=s.charCodeAt(++u),o>=48&&o<=57)throw(0,Ro.syntaxError)(t,u,"Invalid number, unexpected digit after 0: ".concat(wd(o),"."))}else u=cx(t,u,o),o=s.charCodeAt(u);if(o===46&&(d=!0,o=s.charCodeAt(++u),u=cx(t,u,o),o=s.charCodeAt(u)),(o===69||o===101)&&(d=!0,o=s.charCodeAt(++u),(o===43||o===45)&&(o=s.charCodeAt(++u)),u=cx(t,u,o),o=s.charCodeAt(u)),o===46||hue(o))throw(0,Ro.syntaxError)(t,u,"Invalid number, expected digit but got: ".concat(wd(o),"."));return new ln.Token(d?Pt.TokenKind.FLOAT:Pt.TokenKind.INT,e,u,n,i,a,s.slice(e,u))}function cx(t,e,r){var n=t.body,i=e,a=r;if(a>=48&&a<=57){do a=n.charCodeAt(++i);while(a>=48&&a<=57);return i}throw(0,Ro.syntaxError)(t,i,"Invalid number, expected digit but got: ".concat(wd(a),"."))}function cue(t,e,r,n,i){for(var a=t.body,s=e+1,o=s,u=0,d="";s<a.length&&!isNaN(u=a.charCodeAt(s))&&u!==10&&u!==13;){if(u===34)return d+=a.slice(o,s),new ln.Token(Pt.TokenKind.STRING,e,s+1,r,n,i,d);if(u<32&&u!==9)throw(0,Ro.syntaxError)(t,s,"Invalid character within String: ".concat(wd(u),"."));if(++s,u===92){switch(d+=a.slice(o,s-1),u=a.charCodeAt(s),u){case 34:d+='"';break;case 47:d+="/";break;case 92:d+="\\";break;case 98:d+="\b";break;case 102:d+="\f";break;case 110:d+=`
`;break;case 114:d+="\r";break;case 116:d+="	";break;case 117:{var f=due(a.charCodeAt(s+1),a.charCodeAt(s+2),a.charCodeAt(s+3),a.charCodeAt(s+4));if(f<0){var p=a.slice(s+1,s+5);throw(0,Ro.syntaxError)(t,s,"Invalid character escape sequence: \\u".concat(p,"."))}d+=String.fromCharCode(f),s+=4;break}default:throw(0,Ro.syntaxError)(t,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}++s,o=s}}throw(0,Ro.syntaxError)(t,s,"Unterminated string.")}function lue(t,e,r,n,i,a){for(var s=t.body,o=e+3,u=o,d=0,f="";o<s.length&&!isNaN(d=s.charCodeAt(o));){if(d===34&&s.charCodeAt(o+1)===34&&s.charCodeAt(o+2)===34)return f+=s.slice(u,o),new ln.Token(Pt.TokenKind.BLOCK_STRING,e,o+3,r,n,i,(0,rue.dedentBlockStringValue)(f));if(d<32&&d!==9&&d!==10&&d!==13)throw(0,Ro.syntaxError)(t,o,"Invalid character within String: ".concat(wd(d),"."));d===10?(++o,++a.line,a.lineStart=o):d===13?(s.charCodeAt(o+1)===10?o+=2:++o,++a.line,a.lineStart=o):d===92&&s.charCodeAt(o+1)===34&&s.charCodeAt(o+2)===34&&s.charCodeAt(o+3)===34?(f+=s.slice(u,o)+'"""',o+=4,u=o):++o}throw(0,Ro.syntaxError)(t,o,"Unterminated string.")}function due(t,e,r,n){return Wm(t)<<12|Wm(e)<<8|Wm(r)<<4|Wm(n)}function Wm(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function fue(t,e,r,n,i){for(var a=t.body,s=a.length,o=e+1,u=0;o!==s&&!isNaN(u=a.charCodeAt(o))&&(u===95||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++o;return new ln.Token(Pt.TokenKind.NAME,e,o,r,n,i,a.slice(e,o))}function hue(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}});var dx=_(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.DirectiveLocation=void 0;var pue=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});Km.DirectiveLocation=pue});var vM=_(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.parse=bue;Sd.parseValue=gue;Sd.parseType=mue;Sd.Parser=void 0;var fx=ax(),yt=Vm(),_ue=Dy(),Le=Hm(),bM=ZA(),yue=dx(),gM=lx();function bue(t,e){var r=new Xm(t,e);return r.parseDocument()}function gue(t,e){var r=new Xm(t,e);r.expectToken(Le.TokenKind.SOF);var n=r.parseValueLiteral(!1);return r.expectToken(Le.TokenKind.EOF),n}function mue(t,e){var r=new Xm(t,e);r.expectToken(Le.TokenKind.SOF);var n=r.parseTypeReference();return r.expectToken(Le.TokenKind.EOF),n}var Xm=function(){function t(r,n){var i=(0,bM.isSource)(r)?r:new bM.Source(r);this._lexer=new gM.Lexer(i),this._options=n}var e=t.prototype;return e.parseName=function(){var n=this.expectToken(Le.TokenKind.NAME);return{kind:yt.Kind.NAME,value:n.value,loc:this.loc(n)}},e.parseDocument=function(){var n=this._lexer.token;return{kind:yt.Kind.DOCUMENT,definitions:this.many(Le.TokenKind.SOF,this.parseDefinition,Le.TokenKind.EOF),loc:this.loc(n)}},e.parseDefinition=function(){if(this.peek(Le.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Le.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(Le.TokenKind.BRACE_L))return{kind:yt.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var i=this.parseOperationType(),a;return this.peek(Le.TokenKind.NAME)&&(a=this.parseName()),{kind:yt.Kind.OPERATION_DEFINITION,operation:i,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseOperationType=function(){var n=this.expectToken(Le.TokenKind.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},e.parseVariableDefinitions=function(){return this.optionalMany(Le.TokenKind.PAREN_L,this.parseVariableDefinition,Le.TokenKind.PAREN_R)},e.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:yt.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Le.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Le.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},e.parseVariable=function(){var n=this._lexer.token;return this.expectToken(Le.TokenKind.DOLLAR),{kind:yt.Kind.VARIABLE,name:this.parseName(),loc:this.loc(n)}},e.parseSelectionSet=function(){var n=this._lexer.token;return{kind:yt.Kind.SELECTION_SET,selections:this.many(Le.TokenKind.BRACE_L,this.parseSelection,Le.TokenKind.BRACE_R),loc:this.loc(n)}},e.parseSelection=function(){return this.peek(Le.TokenKind.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var n=this._lexer.token,i=this.parseName(),a,s;return this.expectOptionalToken(Le.TokenKind.COLON)?(a=i,s=this.parseName()):s=i,{kind:yt.Kind.FIELD,alias:a,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Le.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(n){var i=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(Le.TokenKind.PAREN_L,i,Le.TokenKind.PAREN_R)},e.parseArgument=function(){var n=this._lexer.token,i=this.parseName();return this.expectToken(Le.TokenKind.COLON),{kind:yt.Kind.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(n)}},e.parseConstArgument=function(){var n=this._lexer.token;return{kind:yt.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(Le.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},e.parseFragment=function(){var n=this._lexer.token;this.expectToken(Le.TokenKind.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(Le.TokenKind.NAME)?{kind:yt.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:yt.Kind.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseFragmentDefinition=function(){var n,i=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:yt.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:yt.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(n){var i=this._lexer.token;switch(i.kind){case Le.TokenKind.BRACKET_L:return this.parseList(n);case Le.TokenKind.BRACE_L:return this.parseObject(n);case Le.TokenKind.INT:return this._lexer.advance(),{kind:yt.Kind.INT,value:i.value,loc:this.loc(i)};case Le.TokenKind.FLOAT:return this._lexer.advance(),{kind:yt.Kind.FLOAT,value:i.value,loc:this.loc(i)};case Le.TokenKind.STRING:case Le.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case Le.TokenKind.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:yt.Kind.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:yt.Kind.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:yt.Kind.NULL,loc:this.loc(i)};default:return{kind:yt.Kind.ENUM,value:i.value,loc:this.loc(i)}}case Le.TokenKind.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:yt.Kind.STRING,value:n.value,block:n.kind===Le.TokenKind.BLOCK_STRING,loc:this.loc(n)}},e.parseList=function(n){var i=this,a=this._lexer.token,s=function(){return i.parseValueLiteral(n)};return{kind:yt.Kind.LIST,values:this.any(Le.TokenKind.BRACKET_L,s,Le.TokenKind.BRACKET_R),loc:this.loc(a)}},e.parseObject=function(n){var i=this,a=this._lexer.token,s=function(){return i.parseObjectField(n)};return{kind:yt.Kind.OBJECT,fields:this.any(Le.TokenKind.BRACE_L,s,Le.TokenKind.BRACE_R),loc:this.loc(a)}},e.parseObjectField=function(n){var i=this._lexer.token,a=this.parseName();return this.expectToken(Le.TokenKind.COLON),{kind:yt.Kind.OBJECT_FIELD,name:a,value:this.parseValueLiteral(n),loc:this.loc(i)}},e.parseDirectives=function(n){for(var i=[];this.peek(Le.TokenKind.AT);)i.push(this.parseDirective(n));return i},e.parseDirective=function(n){var i=this._lexer.token;return this.expectToken(Le.TokenKind.AT),{kind:yt.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(i)}},e.parseTypeReference=function(){var n=this._lexer.token,i;return this.expectOptionalToken(Le.TokenKind.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(Le.TokenKind.BRACKET_R),i={kind:yt.Kind.LIST_TYPE,type:i,loc:this.loc(n)}):i=this.parseNamedType(),this.expectOptionalToken(Le.TokenKind.BANG)?{kind:yt.Kind.NON_NULL_TYPE,type:i,loc:this.loc(n)}:i},e.parseNamedType=function(){var n=this._lexer.token;return{kind:yt.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},e.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===Le.TokenKind.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},e.peekDescription=function(){return this.peek(Le.TokenKind.STRING)||this.peek(Le.TokenKind.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.many(Le.TokenKind.BRACE_L,this.parseOperationTypeDefinition,Le.TokenKind.BRACE_R);return{kind:yt.Kind.SCHEMA_DEFINITION,description:i,directives:a,operationTypes:s,loc:this.loc(n)}},e.parseOperationTypeDefinition=function(){var n=this._lexer.token,i=this.parseOperationType();this.expectToken(Le.TokenKind.COLON);var a=this.parseNamedType();return{kind:yt.Kind.OPERATION_TYPE_DEFINITION,operation:i,type:a,loc:this.loc(n)}},e.parseScalarTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);return{kind:yt.Kind.SCALAR_TYPE_DEFINITION,description:i,name:a,directives:s,loc:this.loc(n)}},e.parseObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();return{kind:yt.Kind.OBJECT_TYPE_DEFINITION,description:i,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},e.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(Le.TokenKind.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(Le.TokenKind.AMP)||this.peek(Le.TokenKind.NAME));return i}return this.delimitedMany(Le.TokenKind.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(Le.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===Le.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Le.TokenKind.BRACE_L,this.parseFieldDefinition,Le.TokenKind.BRACE_R)},e.parseFieldDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),a=this.parseName(),s=this.parseArgumentDefs();this.expectToken(Le.TokenKind.COLON);var o=this.parseTypeReference(),u=this.parseDirectives(!0);return{kind:yt.Kind.FIELD_DEFINITION,description:i,name:a,arguments:s,type:o,directives:u,loc:this.loc(n)}},e.parseArgumentDefs=function(){return this.optionalMany(Le.TokenKind.PAREN_L,this.parseInputValueDef,Le.TokenKind.PAREN_R)},e.parseInputValueDef=function(){var n=this._lexer.token,i=this.parseDescription(),a=this.parseName();this.expectToken(Le.TokenKind.COLON);var s=this.parseTypeReference(),o;this.expectOptionalToken(Le.TokenKind.EQUALS)&&(o=this.parseValueLiteral(!0));var u=this.parseDirectives(!0);return{kind:yt.Kind.INPUT_VALUE_DEFINITION,description:i,name:a,type:s,defaultValue:o,directives:u,loc:this.loc(n)}},e.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();return{kind:yt.Kind.INTERFACE_TYPE_DEFINITION,description:i,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},e.parseUnionTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:yt.Kind.UNION_TYPE_DEFINITION,description:i,name:a,directives:s,types:o,loc:this.loc(n)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(Le.TokenKind.EQUALS)?this.delimitedMany(Le.TokenKind.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:yt.Kind.ENUM_TYPE_DEFINITION,description:i,name:a,directives:s,values:o,loc:this.loc(n)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(Le.TokenKind.BRACE_L,this.parseEnumValueDefinition,Le.TokenKind.BRACE_R)},e.parseEnumValueDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),a=this.parseName(),s=this.parseDirectives(!0);return{kind:yt.Kind.ENUM_VALUE_DEFINITION,description:i,name:a,directives:s,loc:this.loc(n)}},e.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:yt.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:a,directives:s,fields:o,loc:this.loc(n)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(Le.TokenKind.BRACE_L,this.parseInputValueDef,Le.TokenKind.BRACE_R)},e.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===Le.TokenKind.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},e.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),a=this.optionalMany(Le.TokenKind.BRACE_L,this.parseOperationTypeDefinition,Le.TokenKind.BRACE_R);if(i.length===0&&a.length===0)throw this.unexpected();return{kind:yt.Kind.SCHEMA_EXTENSION,directives:i,operationTypes:a,loc:this.loc(n)}},e.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),a=this.parseDirectives(!0);if(a.length===0)throw this.unexpected();return{kind:yt.Kind.SCALAR_TYPE_EXTENSION,name:i,directives:a,loc:this.loc(n)}},e.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(a.length===0&&s.length===0&&o.length===0)throw this.unexpected();return{kind:yt.Kind.OBJECT_TYPE_EXTENSION,name:i,interfaces:a,directives:s,fields:o,loc:this.loc(n)}},e.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(a.length===0&&s.length===0&&o.length===0)throw this.unexpected();return{kind:yt.Kind.INTERFACE_TYPE_EXTENSION,name:i,interfaces:a,directives:s,fields:o,loc:this.loc(n)}},e.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseUnionMemberTypes();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:yt.Kind.UNION_TYPE_EXTENSION,name:i,directives:a,types:s,loc:this.loc(n)}},e.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:yt.Kind.ENUM_TYPE_EXTENSION,name:i,directives:a,values:s,loc:this.loc(n)}},e.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:yt.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:a,fields:s,loc:this.loc(n)}},e.parseDirectiveDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Le.TokenKind.AT);var a=this.parseName(),s=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var u=this.parseDirectiveLocations();return{kind:yt.Kind.DIRECTIVE_DEFINITION,description:i,name:a,arguments:s,repeatable:o,locations:u,loc:this.loc(n)}},e.parseDirectiveLocations=function(){return this.delimitedMany(Le.TokenKind.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var n=this._lexer.token,i=this.parseName();if(yue.DirectiveLocation[i.value]!==void 0)return i;throw this.unexpected(n)},e.loc=function(n){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new _ue.Location(n,this._lexer.lastToken,this._lexer.source)},e.peek=function(n){return this._lexer.token.kind===n},e.expectToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i;throw(0,fx.syntaxError)(this._lexer.source,i.start,"Expected ".concat(mM(n),", found ").concat(hx(i),"."))},e.expectOptionalToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i},e.expectKeyword=function(n){var i=this._lexer.token;if(i.kind===Le.TokenKind.NAME&&i.value===n)this._lexer.advance();else throw(0,fx.syntaxError)(this._lexer.source,i.start,'Expected "'.concat(n,'", found ').concat(hx(i),"."))},e.expectOptionalKeyword=function(n){var i=this._lexer.token;return i.kind===Le.TokenKind.NAME&&i.value===n?(this._lexer.advance(),!0):!1},e.unexpected=function(n){var i=n??this._lexer.token;return(0,fx.syntaxError)(this._lexer.source,i.start,"Unexpected ".concat(hx(i),"."))},e.any=function(n,i,a){this.expectToken(n);for(var s=[];!this.expectOptionalToken(a);)s.push(i.call(this));return s},e.optionalMany=function(n,i,a){if(this.expectOptionalToken(n)){var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(a));return s}return[]},e.many=function(n,i,a){this.expectToken(n);var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(a));return s},e.delimitedMany=function(n,i){this.expectOptionalToken(n);var a=[];do a.push(i.call(this));while(this.expectOptionalToken(n));return a},t}();Sd.Parser=Xm;function hx(t){var e=t.value;return mM(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function mM(t){return(0,gM.isPunctuatorTokenKind)(t)?'"'.concat(t,'"'):t}});var px=_(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.visit=Sue;Su.visitInParallel=Tue;Su.getVisitFn=$m;Su.BREAK=Su.QueryDocumentKeys=void 0;var vue=wue(qm()),wM=Dy();function wue(t){return t&&t.__esModule?t:{default:t}}var SM={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};Su.QueryDocumentKeys=SM;var T0=Object.freeze({});Su.BREAK=T0;function Sue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:SM,n=void 0,i=Array.isArray(t),a=[t],s=-1,o=[],u=void 0,d=void 0,f=void 0,p=[],y=[],g=t;do{s++;var v=s===a.length,E=v&&o.length!==0;if(v){if(d=y.length===0?void 0:p[p.length-1],u=f,f=y.pop(),E){if(i)u=u.slice();else{for(var D={},O=0,C=Object.keys(u);O<C.length;O++){var R=C[O];D[R]=u[R]}u=D}for(var w=0,P=0;P<o.length;P++){var T=o[P][0],te=o[P][1];i&&(T-=w),i&&te===null?(u.splice(T,1),w++):u[T]=te}}s=n.index,a=n.keys,o=n.edits,i=n.inArray,n=n.prev}else{if(d=f?i?s:a[s]:void 0,u=f?f[d]:g,u==null)continue;f&&p.push(d)}var ee=void 0;if(!Array.isArray(u)){if(!(0,wM.isNode)(u))throw new Error("Invalid AST Node: ".concat((0,vue.default)(u),"."));var Y=$m(e,u.kind,v);if(Y){if(ee=Y.call(e,u,d,f,p,y),ee===T0)break;if(ee===!1){if(!v){p.pop();continue}}else if(ee!==void 0&&(o.push([d,ee]),!v))if((0,wM.isNode)(ee))u=ee;else{p.pop();continue}}}if(ee===void 0&&E&&o.push([d,u]),v)p.pop();else{var x;n={inArray:i,index:s,keys:a,edits:o,prev:n},i=Array.isArray(u),a=i?u:(x=r[u.kind])!==null&&x!==void 0?x:[],s=-1,o=[],f&&y.push(f),f=u}}while(n!==void 0);return o.length!==0&&(g=o[o.length-1][1]),g}function Tue(t){var e=new Array(t.length);return{enter:function(n){for(var i=0;i<t.length;i++)if(e[i]==null){var a=$m(t[i],n.kind,!1);if(a){var s=a.apply(t[i],arguments);if(s===!1)e[i]=n;else if(s===T0)e[i]=T0;else if(s!==void 0)return s}}},leave:function(n){for(var i=0;i<t.length;i++)if(e[i]==null){var a=$m(t[i],n.kind,!0);if(a){var s=a.apply(t[i],arguments);if(s===T0)e[i]=T0;else if(s!==void 0&&s!==!1)return s}}else e[i]===n&&(e[i]=null)}}}function $m(t,e,r){var n=t[e];if(n){if(!r&&typeof n=="function")return n;var i=r?n.leave:n.enter;if(typeof i=="function")return i}else{var a=r?t.leave:t.enter;if(a){if(typeof a=="function")return a;var s=a[e];if(typeof s=="function")return s}}}});var EM=_(_x=>{"use strict";Object.defineProperty(_x,"__esModule",{value:!0});_x.print=Rue;var Eue=px(),Oue=ux();function Rue(t){return(0,Eue.visit)(t,{leave:xue})}var Aue=80,xue={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return Ke(e.definitions,`

`)+`
`},OperationDefinition:function(e){var r=e.operation,n=e.name,i=Kr("(",Ke(e.variableDefinitions,", "),")"),a=Ke(e.directives," "),s=e.selectionSet;return!n&&!a&&!i&&r==="query"?s:Ke([r,Ke([n,i]),a,s]," ")},VariableDefinition:function(e){var r=e.variable,n=e.type,i=e.defaultValue,a=e.directives;return r+": "+n+Kr(" = ",i)+Kr(" ",Ke(a," "))},SelectionSet:function(e){var r=e.selections;return Ls(r)},Field:function(e){var r=e.alias,n=e.name,i=e.arguments,a=e.directives,s=e.selectionSet,o=Kr("",r,": ")+n,u=o+Kr("(",Ke(i,", "),")");return u.length>Aue&&(u=o+Kr(`(
`,Jm(Ke(i,`
`)),`
)`)),Ke([u,Ke(a," "),s]," ")},Argument:function(e){var r=e.name,n=e.value;return r+": "+n},FragmentSpread:function(e){var r=e.name,n=e.directives;return"..."+r+Kr(" ",Ke(n," "))},InlineFragment:function(e){var r=e.typeCondition,n=e.directives,i=e.selectionSet;return Ke(["...",Kr("on ",r),Ke(n," "),i]," ")},FragmentDefinition:function(e){var r=e.name,n=e.typeCondition,i=e.variableDefinitions,a=e.directives,s=e.selectionSet;return"fragment ".concat(r).concat(Kr("(",Ke(i,", "),")")," ")+"on ".concat(n," ").concat(Kr("",Ke(a," ")," "))+s},IntValue:function(e){var r=e.value;return r},FloatValue:function(e){var r=e.value;return r},StringValue:function(e,r){var n=e.value,i=e.block;return i?(0,Oue.printBlockString)(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(e){var r=e.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var r=e.value;return r},ListValue:function(e){var r=e.values;return"["+Ke(r,", ")+"]"},ObjectValue:function(e){var r=e.fields;return"{"+Ke(r,", ")+"}"},ObjectField:function(e){var r=e.name,n=e.value;return r+": "+n},Directive:function(e){var r=e.name,n=e.arguments;return"@"+r+Kr("(",Ke(n,", "),")")},NamedType:function(e){var r=e.name;return r},ListType:function(e){var r=e.type;return"["+r+"]"},NonNullType:function(e){var r=e.type;return r+"!"},SchemaDefinition:qs(function(t){var e=t.directives,r=t.operationTypes;return Ke(["schema",Ke(e," "),Ls(r)]," ")}),OperationTypeDefinition:function(e){var r=e.operation,n=e.type;return r+": "+n},ScalarTypeDefinition:qs(function(t){var e=t.name,r=t.directives;return Ke(["scalar",e,Ke(r," ")]," ")}),ObjectTypeDefinition:qs(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return Ke(["type",e,Kr("implements ",Ke(r," & ")),Ke(n," "),Ls(i)]," ")}),FieldDefinition:qs(function(t){var e=t.name,r=t.arguments,n=t.type,i=t.directives;return e+(TM(r)?Kr(`(
`,Jm(Ke(r,`
`)),`
)`):Kr("(",Ke(r,", "),")"))+": "+n+Kr(" ",Ke(i," "))}),InputValueDefinition:qs(function(t){var e=t.name,r=t.type,n=t.defaultValue,i=t.directives;return Ke([e+": "+r,Kr("= ",n),Ke(i," ")]," ")}),InterfaceTypeDefinition:qs(function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return Ke(["interface",e,Kr("implements ",Ke(r," & ")),Ke(n," "),Ls(i)]," ")}),UnionTypeDefinition:qs(function(t){var e=t.name,r=t.directives,n=t.types;return Ke(["union",e,Ke(r," "),n&&n.length!==0?"= "+Ke(n," | "):""]," ")}),EnumTypeDefinition:qs(function(t){var e=t.name,r=t.directives,n=t.values;return Ke(["enum",e,Ke(r," "),Ls(n)]," ")}),EnumValueDefinition:qs(function(t){var e=t.name,r=t.directives;return Ke([e,Ke(r," ")]," ")}),InputObjectTypeDefinition:qs(function(t){var e=t.name,r=t.directives,n=t.fields;return Ke(["input",e,Ke(r," "),Ls(n)]," ")}),DirectiveDefinition:qs(function(t){var e=t.name,r=t.arguments,n=t.repeatable,i=t.locations;return"directive @"+e+(TM(r)?Kr(`(
`,Jm(Ke(r,`
`)),`
)`):Kr("(",Ke(r,", "),")"))+(n?" repeatable":"")+" on "+Ke(i," | ")}),SchemaExtension:function(e){var r=e.directives,n=e.operationTypes;return Ke(["extend schema",Ke(r," "),Ls(n)]," ")},ScalarTypeExtension:function(e){var r=e.name,n=e.directives;return Ke(["extend scalar",r,Ke(n," ")]," ")},ObjectTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,a=e.fields;return Ke(["extend type",r,Kr("implements ",Ke(n," & ")),Ke(i," "),Ls(a)]," ")},InterfaceTypeExtension:function(e){var r=e.name,n=e.interfaces,i=e.directives,a=e.fields;return Ke(["extend interface",r,Kr("implements ",Ke(n," & ")),Ke(i," "),Ls(a)]," ")},UnionTypeExtension:function(e){var r=e.name,n=e.directives,i=e.types;return Ke(["extend union",r,Ke(n," "),i&&i.length!==0?"= "+Ke(i," | "):""]," ")},EnumTypeExtension:function(e){var r=e.name,n=e.directives,i=e.values;return Ke(["extend enum",r,Ke(n," "),Ls(i)]," ")},InputObjectTypeExtension:function(e){var r=e.name,n=e.directives,i=e.fields;return Ke(["extend input",r,Ke(n," "),Ls(i)]," ")}};function qs(t){return function(e){return Ke([e.description,t(e)],`
`)}}function Ke(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t?.filter(function(n){return n}).join(r))!==null&&e!==void 0?e:""}function Ls(t){return Kr(`{
`,Jm(Ke(t,`
`)),`
}`)}function Kr(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+r:""}function Jm(t){return Kr("  ",t.replace(/\n/g,`
  `))}function Iue(t){return t.indexOf(`
`)!==-1}function TM(t){return t!=null&&t.some(Iue)}});var PM=_(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.isDefinitionNode=Pue;Ms.isExecutableDefinitionNode=OM;Ms.isSelectionNode=Nue;Ms.isValueNode=Due;Ms.isTypeNode=Cue;Ms.isTypeSystemDefinitionNode=RM;Ms.isTypeDefinitionNode=AM;Ms.isTypeSystemExtensionNode=xM;Ms.isTypeExtensionNode=IM;var tr=Vm();function Pue(t){return OM(t)||RM(t)||xM(t)}function OM(t){return t.kind===tr.Kind.OPERATION_DEFINITION||t.kind===tr.Kind.FRAGMENT_DEFINITION}function Nue(t){return t.kind===tr.Kind.FIELD||t.kind===tr.Kind.FRAGMENT_SPREAD||t.kind===tr.Kind.INLINE_FRAGMENT}function Due(t){return t.kind===tr.Kind.VARIABLE||t.kind===tr.Kind.INT||t.kind===tr.Kind.FLOAT||t.kind===tr.Kind.STRING||t.kind===tr.Kind.BOOLEAN||t.kind===tr.Kind.NULL||t.kind===tr.Kind.ENUM||t.kind===tr.Kind.LIST||t.kind===tr.Kind.OBJECT}function Cue(t){return t.kind===tr.Kind.NAMED_TYPE||t.kind===tr.Kind.LIST_TYPE||t.kind===tr.Kind.NON_NULL_TYPE}function RM(t){return t.kind===tr.Kind.SCHEMA_DEFINITION||AM(t)||t.kind===tr.Kind.DIRECTIVE_DEFINITION}function AM(t){return t.kind===tr.Kind.SCALAR_TYPE_DEFINITION||t.kind===tr.Kind.OBJECT_TYPE_DEFINITION||t.kind===tr.Kind.INTERFACE_TYPE_DEFINITION||t.kind===tr.Kind.UNION_TYPE_DEFINITION||t.kind===tr.Kind.ENUM_TYPE_DEFINITION||t.kind===tr.Kind.INPUT_OBJECT_TYPE_DEFINITION}function xM(t){return t.kind===tr.Kind.SCHEMA_EXTENSION||IM(t)}function IM(t){return t.kind===tr.Kind.SCALAR_TYPE_EXTENSION||t.kind===tr.Kind.OBJECT_TYPE_EXTENSION||t.kind===tr.Kind.INTERFACE_TYPE_EXTENSION||t.kind===tr.Kind.UNION_TYPE_EXTENSION||t.kind===tr.Kind.ENUM_TYPE_EXTENSION||t.kind===tr.Kind.INPUT_OBJECT_TYPE_EXTENSION}});var CM=_(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});Object.defineProperty(yr,"Source",{enumerable:!0,get:function(){return jue.Source}});Object.defineProperty(yr,"getLocation",{enumerable:!0,get:function(){return que.getLocation}});Object.defineProperty(yr,"printLocation",{enumerable:!0,get:function(){return NM.printLocation}});Object.defineProperty(yr,"printSourceLocation",{enumerable:!0,get:function(){return NM.printSourceLocation}});Object.defineProperty(yr,"Kind",{enumerable:!0,get:function(){return Lue.Kind}});Object.defineProperty(yr,"TokenKind",{enumerable:!0,get:function(){return Mue.TokenKind}});Object.defineProperty(yr,"Lexer",{enumerable:!0,get:function(){return Fue.Lexer}});Object.defineProperty(yr,"parse",{enumerable:!0,get:function(){return yx.parse}});Object.defineProperty(yr,"parseValue",{enumerable:!0,get:function(){return yx.parseValue}});Object.defineProperty(yr,"parseType",{enumerable:!0,get:function(){return yx.parseType}});Object.defineProperty(yr,"print",{enumerable:!0,get:function(){return Bue.print}});Object.defineProperty(yr,"visit",{enumerable:!0,get:function(){return Ym.visit}});Object.defineProperty(yr,"visitInParallel",{enumerable:!0,get:function(){return Ym.visitInParallel}});Object.defineProperty(yr,"getVisitFn",{enumerable:!0,get:function(){return Ym.getVisitFn}});Object.defineProperty(yr,"BREAK",{enumerable:!0,get:function(){return Ym.BREAK}});Object.defineProperty(yr,"Location",{enumerable:!0,get:function(){return DM.Location}});Object.defineProperty(yr,"Token",{enumerable:!0,get:function(){return DM.Token}});Object.defineProperty(yr,"isDefinitionNode",{enumerable:!0,get:function(){return Tu.isDefinitionNode}});Object.defineProperty(yr,"isExecutableDefinitionNode",{enumerable:!0,get:function(){return Tu.isExecutableDefinitionNode}});Object.defineProperty(yr,"isSelectionNode",{enumerable:!0,get:function(){return Tu.isSelectionNode}});Object.defineProperty(yr,"isValueNode",{enumerable:!0,get:function(){return Tu.isValueNode}});Object.defineProperty(yr,"isTypeNode",{enumerable:!0,get:function(){return Tu.isTypeNode}});Object.defineProperty(yr,"isTypeSystemDefinitionNode",{enumerable:!0,get:function(){return Tu.isTypeSystemDefinitionNode}});Object.defineProperty(yr,"isTypeDefinitionNode",{enumerable:!0,get:function(){return Tu.isTypeDefinitionNode}});Object.defineProperty(yr,"isTypeSystemExtensionNode",{enumerable:!0,get:function(){return Tu.isTypeSystemExtensionNode}});Object.defineProperty(yr,"isTypeExtensionNode",{enumerable:!0,get:function(){return Tu.isTypeExtensionNode}});Object.defineProperty(yr,"DirectiveLocation",{enumerable:!0,get:function(){return Uue.DirectiveLocation}});var jue=ZA(),que=Mm(),NM=tx(),Lue=Vm(),Mue=Hm(),Fue=lx(),yx=vM(),Bue=EM(),Ym=px(),DM=Dy(),Tu=PM(),Uue=dx()});var qy=_(jM=>{(function(t){var e=function(r){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function i(x){return x&&DataView.prototype.isPrototypeOf(x)}if(n.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(x){return x&&a.indexOf(Object.prototype.toString.call(x))>-1};function o(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(x))throw new TypeError("Invalid character in header field name");return x.toLowerCase()}function u(x){return typeof x!="string"&&(x=String(x)),x}function d(x){var H={next:function(){var se=x.shift();return{done:se===void 0,value:se}}};return n.iterable&&(H[Symbol.iterator]=function(){return H}),H}function f(x){this.map={},x instanceof f?x.forEach(function(H,se){this.append(se,H)},this):Array.isArray(x)?x.forEach(function(H){this.append(H[0],H[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(H){this.append(H,x[H])},this)}f.prototype.append=function(x,H){x=o(x),H=u(H);var se=this.map[x];this.map[x]=se?se+", "+H:H},f.prototype.delete=function(x){delete this.map[o(x)]},f.prototype.get=function(x){return x=o(x),this.has(x)?this.map[x]:null},f.prototype.has=function(x){return this.map.hasOwnProperty(o(x))},f.prototype.set=function(x,H){this.map[o(x)]=u(H)},f.prototype.forEach=function(x,H){for(var se in this.map)this.map.hasOwnProperty(se)&&x.call(H,this.map[se],se,this)},f.prototype.keys=function(){var x=[];return this.forEach(function(H,se){x.push(se)}),d(x)},f.prototype.values=function(){var x=[];return this.forEach(function(H){x.push(H)}),d(x)},f.prototype.entries=function(){var x=[];return this.forEach(function(H,se){x.push([se,H])}),d(x)},n.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function p(x){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}function y(x){return new Promise(function(H,se){x.onload=function(){H(x.result)},x.onerror=function(){se(x.error)}})}function g(x){var H=new FileReader,se=y(H);return H.readAsArrayBuffer(x),se}function v(x){var H=new FileReader,se=y(H);return H.readAsText(x),se}function E(x){for(var H=new Uint8Array(x),se=new Array(H.length),Ne=0;Ne<H.length;Ne++)se[Ne]=String.fromCharCode(H[Ne]);return se.join("")}function D(x){if(x.slice)return x.slice(0);var H=new Uint8Array(x.byteLength);return H.set(new Uint8Array(x)),H.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(x){this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:n.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:n.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():n.arrayBuffer&&n.blob&&i(x)?(this._bodyArrayBuffer=D(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||s(x))?this._bodyArrayBuffer=D(x):this._bodyText=x=Object.prototype.toString.call(x):this._bodyText="",this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var x=p(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var x=p(this);if(x)return x;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function R(x){var H=x.toUpperCase();return C.indexOf(H)>-1?H:x}function w(x,H){H=H||{};var se=H.body;if(x instanceof w){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,H.headers||(this.headers=new f(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!se&&x._bodyInit!=null&&(se=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=H.credentials||this.credentials||"same-origin",(H.headers||!this.headers)&&(this.headers=new f(H.headers)),this.method=R(H.method||this.method||"GET"),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&se)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(se)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function P(x){var H=new FormData;return x.trim().split("&").forEach(function(se){if(se){var Ne=se.split("="),Me=Ne.shift().replace(/\+/g," "),J=Ne.join("=").replace(/\+/g," ");H.append(decodeURIComponent(Me),decodeURIComponent(J))}}),H}function T(x){var H=new f,se=x.replace(/\r?\n[\t ]+/g," ");return se.split(/\r?\n/).forEach(function(Ne){var Me=Ne.split(":"),J=Me.shift().trim();if(J){var re=Me.join(":").trim();H.append(J,re)}}),H}O.call(w.prototype);function te(x,H){H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new f(H.headers),this.url=H.url||"",this._initBody(x)}O.call(te.prototype),te.prototype.clone=function(){return new te(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},te.error=function(){var x=new te(null,{status:0,statusText:""});return x.type="error",x};var ee=[301,302,303,307,308];te.redirect=function(x,H){if(ee.indexOf(H)===-1)throw new RangeError("Invalid status code");return new te(null,{status:H,headers:{location:x}})},r.DOMException=t.DOMException;try{new r.DOMException}catch{r.DOMException=function(H,se){this.message=H,this.name=se;var Ne=Error(H);this.stack=Ne.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function Y(x,H){return new Promise(function(se,Ne){var Me=new w(x,H);if(Me.signal&&Me.signal.aborted)return Ne(new r.DOMException("Aborted","AbortError"));var J=new XMLHttpRequest;function re(){J.abort()}J.onload=function(){var de={status:J.status,statusText:J.statusText,headers:T(J.getAllResponseHeaders()||"")};de.url="responseURL"in J?J.responseURL:de.headers.get("X-Request-URL");var _e="response"in J?J.response:J.responseText;se(new te(_e,de))},J.onerror=function(){Ne(new TypeError("Network request failed"))},J.ontimeout=function(){Ne(new TypeError("Network request failed"))},J.onabort=function(){Ne(new r.DOMException("Aborted","AbortError"))},J.open(Me.method,Me.url,!0),Me.credentials==="include"?J.withCredentials=!0:Me.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&n.blob&&(J.responseType="blob"),Me.headers.forEach(function(de,_e){J.setRequestHeader(_e,de)}),Me.signal&&(Me.signal.addEventListener("abort",re),J.onreadystatechange=function(){J.readyState===4&&Me.signal.removeEventListener("abort",re)}),J.send(typeof Me._bodyInit>"u"?null:Me._bodyInit)})}return Y.polyfill=!0,t.fetch||(t.fetch=Y,t.Headers=f,t.Request=w,t.Response=te),r.Headers=f,r.Request=w,r.Response=te,r.fetch=Y,Object.defineProperty(r,"__esModule",{value:!0}),r}({})})(typeof self<"u"?self:jM)});var LM=_(Ly=>{"use strict";Object.defineProperty(Ly,"__esModule",{value:!0});function Vue(t,e){e=e||"";let r=e.indexOf("#");if(r>0&&(e=e.substr(0,r)),!t.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);return e}if(t.startsWith("?")){let d=e.indexOf("?");return d>0&&(e=e.substr(0,d)),e+t}if(t.startsWith("#"))return e+t;if(!e.length){let d=t.indexOf(":");if(d<0)throw new Error(`Found invalid relative IRI '${t}' for a missing baseIRI`);return Td(t,d)}let n=t.indexOf(":");if(n>=0)return Td(t,n);let i=e.indexOf(":");if(i<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);let a=e.substr(0,i+1);if(t.indexOf("//")===0)return a+Td(t,n);let s;if(e.indexOf("//",i)===i+1){if(s=e.indexOf("/",i+3),s<0)return e.length>i+3?e+"/"+Td(t,n):a+Td(t,n)}else if(s=e.indexOf("/",i+1),s<0)return a+Td(t,n);if(t.indexOf("/")===0)return e.substr(0,s)+Zm(t);let o=e.substr(s),u=o.lastIndexOf("/");return u>=0&&u<o.length-1&&(o=o.substr(0,u+1),t[0]==="."&&t[1]!=="."&&t[1]!=="/"&&t[2]&&(t=t.substr(1))),t=o+t,t=Zm(t),e.substr(0,s)+t}Ly.resolve=Vue;function Zm(t){let e=[],r=0;for(;r<t.length;)switch(t[r]){case"/":if(t[r+1]===".")if(t[r+2]==="."){if(!qM(t[r+3])){e.push([]),r++;break}e.pop(),t[r+3]||e.push([]),r+=3}else{if(!qM(t[r+2])){e.push([]),r++;break}t[r+2]||e.push([]),r+=2}else e.push([]),r++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(t.substr(r)),r=t.length;break;default:e.length||e.push([]),e[e.length-1].push(t[r]),r++;break}return"/"+e.map(n=>n.join("")).join("/")}Ly.removeDotSegments=Zm;function Td(t,e){let r=e+1;e>=0?t[e+1]==="/"&&t[e+2]==="/"&&(r=e+3):t[0]==="/"&&t[1]==="/"&&(r=2);let n=t.indexOf("/",r);if(n<0)return t;let i=t.substr(0,n),a=t.substr(n);return i+Zm(a)}Ly.removeDotSegmentsOfPath=Td;function qM(t){return!t||t==="#"||t==="?"||t==="/"}});var is=_(ev=>{"use strict";function kue(t){for(var e in t)ev.hasOwnProperty(e)||(ev[e]=t[e])}Object.defineProperty(ev,"__esModule",{value:!0});kue(LM())});var E0=_(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.ERROR_CODES=Ed.ErrorCoded=void 0;var bx=class extends Error{constructor(e,r){super(e),this.code=r}};Ed.ErrorCoded=bx;var Hue;(function(t){t.COLLIDING_KEYWORDS="colliding keywords",t.CONFLICTING_INDEXES="conflicting indexes",t.CYCLIC_IRI_MAPPING="cyclic IRI mapping",t.INVALID_ID_VALUE="invalid @id value",t.INVALID_INDEX_VALUE="invalid @index value",t.INVALID_NEST_VALUE="invalid @nest value",t.INVALID_PREFIX_VALUE="invalid @prefix value",t.INVALID_PROPAGATE_VALUE="invalid @propagate value",t.INVALID_REVERSE_VALUE="invalid @reverse value",t.INVALID_IMPORT_VALUE="invalid @import value",t.INVALID_VERSION_VALUE="invalid @version value",t.INVALID_BASE_IRI="invalid base IRI",t.INVALID_CONTAINER_MAPPING="invalid container mapping",t.INVALID_CONTEXT_ENTRY="invalid context entry",t.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",t.INVALID_DEFAULT_LANGUAGE="invalid default language",t.INVALID_INCLUDED_VALUE="invalid @included value",t.INVALID_IRI_MAPPING="invalid IRI mapping",t.INVALID_JSON_LITERAL="invalid JSON literal",t.INVALID_KEYWORD_ALIAS="invalid keyword alias",t.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",t.INVALID_LANGUAGE_MAPPING="invalid language mapping",t.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",t.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",t.INVALID_LOCAL_CONTEXT="invalid local context",t.INVALID_REMOTE_CONTEXT="invalid remote context",t.INVALID_REVERSE_PROPERTY="invalid reverse property",t.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",t.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",t.INVALID_SCOPED_CONTEXT="invalid scoped context",t.INVALID_SCRIPT_ELEMENT="invalid script element",t.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",t.INVALID_TERM_DEFINITION="invalid term definition",t.INVALID_TYPE_MAPPING="invalid type mapping",t.INVALID_TYPE_VALUE="invalid type value",t.INVALID_TYPED_VALUE="invalid typed value",t.INVALID_VALUE_OBJECT="invalid value object",t.INVALID_VALUE_OBJECT_VALUE="invalid value object value",t.INVALID_VOCAB_MAPPING="invalid vocab mapping",t.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",t.KEYWORD_REDEFINITION="keyword redefinition",t.LOADING_DOCUMENT_FAILED="loading document failed",t.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",t.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",t.PROCESSING_MODE_CONFLICT="processing mode conflict",t.PROTECTED_TERM_REDEFINITION="protected term redefinition",t.CONTEXT_OVERFLOW="context overflow",t.INVALID_BASE_DIRECTION="invalid base direction",t.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",t.INVALID_STREAMING_KEY_ORDER="invalid streaming key order"})(Hue=Ed.ERROR_CODES||(Ed.ERROR_CODES={}))});var gx=_((QCe,BM)=>{"use strict";var Gue=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,Que=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,zue=/\s|\uFEFF|\xA0/,Wue=/\r?\n[\x20\x09]+/g,Kue=/[;,"]/,Xue=/[;,"]|\s/,$ue=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,Eu={IDLE:1,URI:2,ATTR:4};function MM(t){return t.replace(Que,"")}function tv(t){return zue.test(t)}function Jue(t,e){for(;tv(t[e]);)e++;return e}function FM(t){return Xue.test(t)||!$ue.test(t)}var Pr=class{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var r=[],n=e.toLowerCase(),i=0;i<this.refs.length;i++)this.refs[i].rel.toLowerCase()===n&&r.push(this.refs[i]);return r}get(e,r){e=e.toLowerCase();for(var n=[],i=0;i<this.refs.length;i++)this.refs[i][e]===r&&n.push(this.refs[i]);return n}set(e){return this.refs.push(e),this}has(e,r){e=e.toLowerCase();for(var n=0;n<this.refs.length;n++)if(this.refs[n][e]===r)return!0;return!1}parse(e,a){a=a||0,e=a?e.slice(a):e,e=MM(e).replace(Wue,"");for(var n=Eu.IDLE,i=e.length,a=0,s=null;a<i;)if(n===Eu.IDLE){if(tv(e[a])){a++;continue}else if(e[a]==="<"){s!=null&&(s.rel!=null?this.refs.push(...Pr.expandRelations(s)):this.refs.push(s));var o=e.indexOf(">",a);if(o===-1)throw new Error("Expected end of URI delimiter at offset "+a);s={uri:e.slice(a+1,o)},a=o,n=Eu.URI}else throw new Error('Unexpected character "'+e[a]+'" at offset '+a);a++}else if(n===Eu.URI)if(tv(e[a])){a++;continue}else if(e[a]===";")n=Eu.ATTR,a++;else if(e[a]===",")n=Eu.IDLE,a++;else throw new Error('Unexpected character "'+e[a]+'" at offset '+a);else if(n===Eu.ATTR){if(e[a]===";"||tv(e[a])){a++;continue}var o=e.indexOf("=",a);if(o===-1)throw new Error("Expected attribute delimiter at offset "+a);var u=MM(e.slice(a,o)).toLowerCase(),d="";if(a=o+1,a=Jue(e,a),e[a]==='"')for(a++;a<i;){if(e[a]==='"'){a++;break}e[a]==="\\"&&a++,d+=e[a],a++}else{for(var o=a+1;!Kue.test(e[o])&&o<i;)o++;d=e.slice(a,o),a=o}switch(s[u]&&Pr.isSingleOccurenceAttr(u)||(u[u.length-1]==="*"?s[u]=Pr.parseExtendedValue(d):(d=u==="type"?d.toLowerCase():d,s[u]!=null?Array.isArray(s[u])?s[u].push(d):s[u]=[s[u],d]:s[u]=d)),e[a]){case",":n=Eu.IDLE;break;case";":n=Eu.ATTR;break}a++}else throw new Error('Unknown parser state "'+n+'"');return s!=null&&(s.rel!=null?this.refs.push(...Pr.expandRelations(s)):this.refs.push(s)),s=null,this}toString(){for(var e=[],r="",n=null,i=0;i<this.refs.length;i++)n=this.refs[i],r=Object.keys(this.refs[i]).reduce(function(a,s){return s==="uri"?a:a+"; "+Pr.formatAttribute(s,n[s])},"<"+n.uri+">"),e.push(r);return e.join(", ")}};Pr.isCompatibleEncoding=function(t){return Gue.test(t)};Pr.parse=function(t,e){return new Pr().parse(t,e)};Pr.isSingleOccurenceAttr=function(t){return t==="rel"||t==="type"||t==="media"||t==="title"||t==="title*"};Pr.isTokenAttr=function(t){return t==="rel"||t==="type"||t==="anchor"};Pr.escapeQuotes=function(t){return t.replace(/"/g,'\\"')};Pr.expandRelations=function(t){var e=t.rel.split(" ");return e.map(function(r){var n=Object.assign({},t);return n.rel=r,n})};Pr.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']*)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:Pr.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:Pr.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}};Pr.formatExtendedAttribute=function(t,e){var r=(e.encoding||"utf-8").toUpperCase(),n=e.language||"en",i="";return Buffer.isBuffer(e.value)&&Pr.isCompatibleEncoding(r)?i=e.value.toString(r):Buffer.isBuffer(e.value)?i=e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):i=encodeURIComponent(e.value),t+"="+r+"'"+n+"'"+i};Pr.formatAttribute=function(t,e){return Array.isArray(e)?e.map(r=>Pr.formatAttribute(t,r)).join("; "):t[t.length-1]==="*"||typeof e!="string"?Pr.formatExtendedAttribute(t,e):(Pr.isTokenAttr(t)?e=FM(e)?'"'+Pr.escapeQuotes(e)+'"':Pr.escapeQuotes(e):FM(e)&&(e=encodeURIComponent(e),e=e.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),e='"'+e+'"'),t+"="+e)};BM.exports=Pr});var vx=_(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0});rv.FetchDocumentLoader=void 0;qy();var UM=E0(),Yue=gx(),Zue=is(),mx=class{constructor(e){this.fetcher=e}async load(e){let r=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(r.ok&&r.headers){let n=r.headers.get("Content-Type");if(n){let i=n.indexOf(";");i>0&&(n=n.substr(0,i))}if(n==="application/ld+json")return await r.json();if(r.headers.has("Link")){let i;if(r.headers.forEach((a,s)=>{if(s==="link"){let o=(0,Yue.parse)(a);for(let u of o.get("type","application/ld+json"))if(u.rel==="alternate"){if(i)throw new Error("Multiple JSON-LD alternate links were found on "+e);i=(0,Zue.resolve)(u.uri,e)}}}),i)return this.load(i)}throw new UM.ErrorCoded(`Unsupported JSON-LD media type ${n}`,UM.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(r.statusText||`Status code: ${r.status}`)}};rv.FetchDocumentLoader=mx});var iv=_(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.Util=void 0;var Hr=class{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&e[0]==="#")}static getPrefix(e,r){if(e&&e[0]==="#")return null;let n=e.indexOf(":");if(n>=0){if(e.length>n+1&&e.charAt(n+1)==="/"&&e.charAt(n+2)==="/")return null;let i=e.substr(0,n);if(i==="_")return null;if(r[i])return i}return null}static getContextValueId(e){if(e===null||typeof e=="string")return e;let r=e["@id"];return r||null}static isSimpleTermDefinitionPrefix(e,r){return!Hr.isPotentialKeyword(e)&&(e[0]==="_"||r.allowPrefixNonGenDelims||Hr.isPrefixIriEndingWithGenDelim(e))}static isPotentialKeyword(e){return typeof e=="string"&&Hr.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return Hr.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&(typeof e=="string"||e&&typeof e=="object")}static isValidIri(e){return Boolean(e&&Hr.IRI_REGEX.test(e))}static isValidIriWeak(e){return!!e&&e[0]!==":"&&Hr.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return Hr.VALID_KEYWORDS[e]}static isTermProtected(e,r){let n=e[r];return typeof n!="string"&&n&&n["@protected"]}static hasProtectedTerms(e){for(let r of Object.keys(e))if(Hr.isTermProtected(e,r))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}};nv.Util=Hr;Hr.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/;Hr.IRI_REGEX_WEAK=/(?::[^:])|\//;Hr.KEYWORD_REGEX=/^@[a-z]+$/i;Hr.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/;Hr.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/;Hr.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/;Hr.VALID_KEYWORDS={"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0};Hr.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"];Hr.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"];Hr.ALIAS_RANGE_BLACKLIST=["@context","@preserve"];Hr.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"];Hr.CONTAINERS_1_0=["@list","@set","@index"]});var Sx=_(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});sv.JsonLdContextNormalized=void 0;var VM=is(),ece=Tx(),av=E0(),as=iv(),wx=class{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,r,n=ece.defaultExpandOptions){let i=this.contextRaw[e];if(i===null||i&&i["@id"]===null)return null;let a=!0;if(i&&r){let p=as.Util.getContextValueId(i);if(p&&p!==e)if(typeof p!="string"||!as.Util.isValidIri(p)&&!as.Util.isValidKeyword(p))as.Util.isPotentialKeyword(p)||(a=!1);else return p}let s=as.Util.getPrefix(e,this.contextRaw),o=this.contextRaw["@vocab"],u=(!!o||o==="")&&o.indexOf(":")<0,d=this.contextRaw["@base"],f=as.Util.isPotentialKeyword(e);if(s){let p=this.contextRaw[s],y=as.Util.getContextValueId(p);if(y){if(typeof p=="string"||!n.allowPrefixForcing){if(!as.Util.isSimpleTermDefinitionPrefix(y,n))return e}else if(y[0]!=="_"&&!f&&!p["@prefix"]&&!(e in this.contextRaw))return e;return y+e.substr(s.length+1)}}else if(r&&(o||o===""||n.allowVocabRelativeToBase&&d&&u)&&!f&&!as.Util.isCompactIri(e))if(u){if(n.allowVocabRelativeToBase)return(o||d?(0,VM.resolve)(o,d):"")+e;throw new av.ErrorCoded(`Relative vocab expansion for term '${e}' with vocab '${o}' is not allowed.`,av.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return o+e;else if(!r&&d&&!f&&!as.Util.isCompactIri(e))return(0,VM.resolve)(e,d);if(a)return e;throw new av.ErrorCoded(`Invalid IRI mapping found for context entry '${e}': '${JSON.stringify(i)}'`,av.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,r){if(r&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!r&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);let n={prefix:"",suffix:e};for(let i in this.contextRaw){let a=this.contextRaw[i];if(a&&!as.Util.isPotentialKeyword(i)){let s=as.Util.getContextValueId(a);if(e.startsWith(s)){let o=e.substr(s.length);if(o)o.length<n.suffix.length&&(n.prefix=i,n.suffix=o);else if(r)return i}}}return n.prefix?n.prefix+":"+n.suffix:e}};sv.JsonLdContextNormalized=wx});var Tx=_(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.defaultExpandOptions=Od.ContextParser=void 0;qy();var kM=is(),xe=E0(),tce=vx(),Ec=Sx(),gt=iv(),HM=K1(),Fs=class{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new tce.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in e?!!e.redirectSchemaOrgHttps:!0}static validateLanguage(e,r,n){if(typeof e!="string")throw new xe.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e)}'`,n);if(!gt.Util.REGEX_LANGUAGE_TAG.test(e)){if(r)throw new xe.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e)}'`,n);return!1}return!0}static validateDirection(e,r){if(typeof e!="string")throw new xe.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e)}'`,xe.ERROR_CODES.INVALID_BASE_DIRECTION);if(!gt.Util.REGEX_DIRECTION_TAG.test(e)){if(r)throw new xe.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e)}'`,xe.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(let r of Object.keys(e)){let n=e[r];if(n&&typeof n=="object"&&n["@reverse"]&&!n["@id"]){if(typeof n["@reverse"]!="string"||gt.Util.isValidKeyword(n["@reverse"]))throw new xe.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${n["@reverse"]}'`,xe.ERROR_CODES.INVALID_IRI_MAPPING);n["@id"]=n["@reverse"],gt.Util.isPotentialKeyword(n["@reverse"])?delete n["@reverse"]:n["@reverse"]=!0}}return e}expandPrefixedTerms(e,r){let n=e.getContextRaw();for(let i of Object.keys(n))if(gt.Util.EXPAND_KEYS_BLACKLIST.indexOf(i)<0&&!gt.Util.isReservedInternalKeyword(i)){let a=n[i];if(gt.Util.isPotentialKeyword(i)&&gt.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(i)>=0&&(i!=="@type"||typeof n[i]=="object"&&!(n[i]["@protected"]||n[i]["@container"]==="@set")))throw new xe.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${i} to ${JSON.stringify(a)}`,xe.ERROR_CODES.KEYWORD_REDEFINITION);if(gt.Util.ALIAS_RANGE_BLACKLIST.indexOf(gt.Util.getContextValueId(a))>=0)throw new xe.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${i} to ${JSON.stringify(a)}`,xe.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(a&&gt.Util.isPotentialKeyword(gt.Util.getContextValueId(a))&&a["@prefix"]===!0)throw new xe.ErrorCoded(`Tried to use keyword aliases as prefix: '${i}': '${JSON.stringify(a)}'`,xe.ERROR_CODES.INVALID_TERM_DEFINITION);for(;gt.Util.isPrefixValue(n[i]);){let s=n[i],o=!1;if(typeof s=="string")n[i]=e.expandTerm(s,!0),o=o||s!==n[i];else{let u=s["@id"],d=s["@type"],f=!("@prefix"in s)||gt.Util.isValidIri(i);if("@id"in s)u!=null&&typeof u=="string"&&(n[i]["@id"]=e.expandTerm(u,!0),o=o||u!==n[i]["@id"]);else if(!gt.Util.isPotentialKeyword(i)&&f){let p=e.expandTerm(i,!0);p!==i&&(n[i]["@id"]=p,o=!0)}d&&typeof d=="string"&&d!=="@vocab"&&(!s["@container"]||!s["@container"]["@type"])&&f&&(n[i]["@type"]=e.expandTerm(d,!0),r&&d===n[i]["@type"]&&(n[i]["@type"]=e.expandTerm(d,!1)),o=o||d!==n[i]["@type"])}if(!o)break}}}normalize(e,{processingMode:r,normalizeLanguageTags:n}){if(n||r===1)for(let i of Object.keys(e))if(i==="@language"&&typeof e[i]=="string")e[i]=e[i].toLowerCase();else{let a=e[i];a&&typeof a=="object"&&typeof a["@language"]=="string"&&(a["@language"]=a["@language"].toLowerCase())}}containersToHash(e){for(let r of Object.keys(e)){let n=e[r];if(n&&typeof n=="object"){if(typeof n["@container"]=="string")n["@container"]={[n["@container"]]:!0};else if(Array.isArray(n["@container"])){let i={};for(let a of n["@container"])i[a]=!0;n["@container"]=i}}}}applyScopedProtected(e,{processingMode:r}){if(r&&r>=1.1&&e["@protected"]){for(let n of Object.keys(e))if(!gt.Util.isReservedInternalKeyword(n)&&!gt.Util.isPotentialKeyword(n)&&!gt.Util.isTermProtected(e,n)){let i=e[n];i&&typeof i=="object"?"@protected"in e[n]||(e[n]["@protected"]=!0):e[n]={"@id":i,"@protected":!0}}delete e["@protected"]}}validateKeywordRedefinitions(e,r,n){for(let i of Object.keys(r))if(gt.Util.isTermProtected(e,i)){if(typeof r[i]=="string"){let o=gt.Util.isSimpleTermDefinitionPrefix(r[i],n);r[i]={"@id":r[i]},o&&(r[i]["@prefix"]=!0,e[i]["@prefix"]=!0)}let a=HM(e[i]);r[i]["@protected"]=!0;let s=HM(r[i]);if(a!==s)throw new xe.ErrorCoded(`Attempted to override the protected keyword ${i} from ${JSON.stringify(gt.Util.getContextValueId(e[i]))} to ${JSON.stringify(gt.Util.getContextValueId(r[i]))}`,xe.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(e,{processingMode:r}){for(let n of Object.keys(e)){if(gt.Util.isReservedInternalKeyword(n))continue;if(n==="")throw new xe.ErrorCoded(`The empty term is not allowed, got: '${n}': '${JSON.stringify(e[n])}'`,xe.ERROR_CODES.INVALID_TERM_DEFINITION);let i=e[n],a=typeof i;if(gt.Util.isPotentialKeyword(n)){switch(n.substr(1)){case"vocab":if(i!==null&&a!=="string")throw new xe.ErrorCoded(`Found an invalid @vocab IRI: ${i}`,xe.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(i!==null&&a!=="string")throw new xe.ErrorCoded(`Found an invalid @base IRI: ${e[n]}`,xe.ERROR_CODES.INVALID_BASE_IRI);break;case"language":i!==null&&Fs.validateLanguage(i,!0,xe.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(i!==null&&a!=="number")throw new xe.ErrorCoded(`Found an invalid @version number: ${i}`,xe.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":i!==null&&Fs.validateDirection(i,!0);break;case"propagate":if(r===1)throw new xe.ErrorCoded(`Found an illegal @propagate keyword: ${i}`,xe.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(i!==null&&a!=="boolean")throw new xe.ErrorCoded(`Found an invalid @propagate value: ${i}`,xe.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(gt.Util.isValidKeyword(n)&&gt.Util.isValidKeyword(gt.Util.getContextValueId(i)))throw new xe.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${gt.Util.getContextValueId(i)}'`,xe.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(i!==null)switch(a){case"string":if(gt.Util.getPrefix(i,e)===n)throw new xe.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.CYCLIC_IRI_MAPPING);if(gt.Util.isValidIriWeak(n)){if(i==="@type")throw new xe.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${i}'`,xe.ERROR_CODES.INVALID_IRI_MAPPING);if(gt.Util.isValidIri(i)&&i!==new Ec.JsonLdContextNormalized(e).expandTerm(n))throw new xe.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${i}'`,xe.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!gt.Util.isCompactIri(n)&&!("@id"in i)&&(i["@type"]==="@id"?!e["@base"]:!e["@vocab"]))throw new xe.ErrorCoded(`Missing @id in context entry: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.INVALID_IRI_MAPPING);for(let s of Object.keys(i)){let o=i[s];if(!!o)switch(s){case"@id":if(gt.Util.isValidKeyword(o)&&o!=="@type"&&o!=="@id"&&o!=="@graph")throw new xe.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.INVALID_IRI_MAPPING);if(gt.Util.isValidIriWeak(n)){if(o==="@type")throw new xe.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.INVALID_IRI_MAPPING);if(gt.Util.isValidIri(o)&&o!==new Ec.JsonLdContextNormalized(e).expandTerm(n))throw new xe.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof o!="string")throw new xe.ErrorCoded(`Detected non-string @id in context entry: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.INVALID_IRI_MAPPING);if(gt.Util.getPrefix(o,e)===n)throw new xe.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(i["@container"]==="@type"&&o!=="@id"&&o!=="@vocab")throw new xe.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${n}': '${o}'`,xe.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof o!="string")throw new xe.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(a)}'`,xe.ERROR_CODES.INVALID_TYPE_MAPPING);if(o!=="@id"&&o!=="@vocab"&&(r===1||o!=="@json")&&(r===1||o!=="@none")&&(o[0]==="_"||!gt.Util.isValidIri(o)))throw new xe.ErrorCoded(`A context @type must be an absolute IRI, found: '${n}': '${o}'`,xe.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof o=="string"&&i["@id"]&&i["@id"]!==o)throw new xe.ErrorCoded(`Found non-matching @id and @reverse term values in '${n}':'${o}' and '${i["@id"]}'`,xe.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in i)throw new xe.ErrorCoded(`@nest is not allowed in the reverse property '${n}'`,xe.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(r===1&&(Object.keys(o).length>1||gt.Util.CONTAINERS_1_0.indexOf(Object.keys(o)[0])<0))throw new xe.ErrorCoded(`Invalid term @container for '${n}' ('${Object.keys(o)}') in 1.0, must be only one of ${gt.Util.CONTAINERS_1_0.join(", ")}`,xe.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(let u of Object.keys(o)){if(u==="@list"&&i["@reverse"])throw new xe.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${n}'`,xe.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(gt.Util.CONTAINERS.indexOf(u)<0)throw new xe.ErrorCoded(`Invalid term @container for '${n}' ('${u}'), must be one of ${gt.Util.CONTAINERS.join(", ")}`,xe.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":Fs.validateLanguage(o,!0,xe.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":Fs.validateDirection(o,!0);break;case"@prefix":if(o!==null&&typeof o!="boolean")throw new xe.ErrorCoded(`Found an invalid term @prefix boolean in: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in i)&&!gt.Util.isValidIri(n))throw new xe.ErrorCoded(`Invalid @prefix definition for '${n}' ('${JSON.stringify(i)}'`,xe.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(r===1||!i["@container"]||!i["@container"]["@index"])throw new xe.ErrorCoded(`Attempt to add illegal key to value object: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(gt.Util.isPotentialKeyword(o)&&o!=="@nest")throw new xe.ErrorCoded(`Found an invalid term @nest value in: '${n}': '${JSON.stringify(i)}'`,xe.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new xe.ErrorCoded(`Found an invalid term value: '${n}': '${i}'`,xe.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,r,n){return typeof e=="string"||(n&&!("@base"in e)&&r.parentContext&&typeof r.parentContext=="object"&&"@base"in r.parentContext&&(e["@base"]=r.parentContext["@base"],r.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),r.baseIRI&&!r.external&&("@base"in e?e["@base"]!==null&&typeof e["@base"]=="string"&&!gt.Util.isValidIri(e["@base"])&&(e["@base"]=(0,kM.resolve)(e["@base"],r.parentContext&&r.parentContext["@base"]||r.baseIRI)):(e["@base"]=r.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,r){if(!gt.Util.isValidIri(e))try{e=(0,kM.resolve)(e,r)}catch{throw new Error(`Invalid context IRI: ${e}`)}return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}async parseInnerContexts(e,r){for(let n of Object.keys(e)){let i=e[n];if(i&&typeof i=="object"&&"@context"in i&&i["@context"]!==null&&!r.ignoreScopedContexts){if(this.validateContext)try{let a=Object.assign({},e);a[n]=Object.assign({},a[n]),delete a[n]["@context"],await this.parse(i["@context"],Object.assign(Object.assign({},r),{parentContext:a,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(a){throw new xe.ErrorCoded(a.message,xe.ERROR_CODES.INVALID_SCOPED_CONTEXT)}i["@context"]=(await this.parse(i["@context"],Object.assign(Object.assign({},r),{minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()}}return e}async parse(e,r={}){let{baseIRI:n,parentContext:i,external:a,processingMode:s=Fs.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:o,ignoreProtection:u,minimalProcessing:d}=r,f=i,p=r.remoteContexts||{};if(Object.keys(p).length>=this.remoteContextsDepthLimit)throw new xe.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(p),xe.ERROR_CODES.CONTEXT_OVERFLOW);if(e==null){if(!u&&f&&gt.Util.hasProtectedTerms(f))throw new xe.ErrorCoded("Illegal context nullification when terms are protected",xe.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new Ec.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}else if(typeof e=="string"){let y=this.normalizeContextIri(e,n),g=this.getOverriddenLoad(y,r);if(g)return new Ec.JsonLdContextNormalized(g);let v=await this.parse(await this.load(y),Object.assign(Object.assign({},r),{baseIRI:y,external:!0,remoteContexts:Object.assign(Object.assign({},p),{[y]:!0})}));return this.applyBaseEntry(v.getContextRaw(),r,!0),v}else if(Array.isArray(e)){let y=[],g=await Promise.all(e.map((E,D)=>{if(typeof E=="string"){let O=this.normalizeContextIri(E,n);y[D]=O;let C=this.getOverriddenLoad(O,r);return C||this.load(O)}else return E}));if(d)return new Ec.JsonLdContextNormalized(g);let v=await g.reduce((E,D,O)=>E.then(C=>this.parse(D,Object.assign(Object.assign({},r),{baseIRI:y[O]||r.baseIRI,external:!!y[O]||r.external,parentContext:C.getContextRaw(),remoteContexts:y[O]?Object.assign(Object.assign({},p),{[y[O]]:!0}):p}))),Promise.resolve(new Ec.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(v.getContextRaw(),r,!0),v}else if(typeof e=="object"){if("@context"in e)return await this.parse(e["@context"],r);e=JSON.parse(JSON.stringify(e)),f&&!d&&(f=JSON.parse(JSON.stringify(f)));let y={};if(a&&delete e["@base"],this.applyBaseEntry(e,r,!0),this.containersToHash(e),d)return new Ec.JsonLdContextNormalized(e);let g={};if("@import"in e)if(s>=1.1){if(typeof e["@import"]!="string")throw new xe.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],xe.ERROR_CODES.INVALID_IMPORT_VALUE);g=await this.loadImportContext(this.normalizeContextIri(e["@import"],n)),delete e["@import"]}else throw new xe.ErrorCoded("Context importing is not supported in JSON-LD 1.0",xe.ERROR_CODES.INVALID_CONTEXT_ENTRY);y=Object.assign(Object.assign(Object.assign(Object.assign({},y),typeof f=="object"?f:{}),g),e);let v=new Ec.JsonLdContextNormalized(y);return await this.parseInnerContexts(y,r),(y&&y["@version"]||Fs.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&typeof e["@vocab"]=="string"||e["@vocab"]==="")&&e["@vocab"].indexOf(":")<0&&f&&"@vocab"in f&&(y["@vocab"]=f["@vocab"]+e["@vocab"]),this.idifyReverseTerms(y),this.expandPrefixedTerms(v,this.expandContentTypeToBase),!u&&f&&s>=1.1&&this.validateKeywordRedefinitions(f,y,Od.defaultExpandOptions),this.normalize(y,{processingMode:s,normalizeLanguageTags:o}),this.applyScopedProtected(y,{processingMode:s}),this.validateContext&&this.validate(y,{processingMode:s}),v}else throw new xe.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${e}`,xe.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(e){let r=this.documentCache[e];if(r)return typeof r=="string"?r:Array.isArray(r)?r.slice():Object.assign({},r);let n;try{n=await this.documentLoader.load(e)}catch(i){throw new xe.ErrorCoded(`Failed to load remote context ${e}: ${i.message}`,xe.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in n))throw new xe.ErrorCoded(`Missing @context in remote context at ${e}`,xe.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=n["@context"]}getOverriddenLoad(e,r){if(e in(r.remoteContexts||{})){if(r.ignoreRemoteScopedContexts)return e;throw new xe.ErrorCoded("Detected a cyclic context inclusion of "+e,xe.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(e){let r=await this.load(e);if(typeof r!="object"||Array.isArray(r))throw new xe.ErrorCoded("An imported context must be a single object: "+e,xe.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in r)throw new xe.ErrorCoded("An imported context can not import another context: "+e,xe.ERROR_CODES.INVALID_CONTEXT_ENTRY);return this.containersToHash(r),r}};Od.ContextParser=Fs;Fs.DEFAULT_PROCESSING_MODE=1.1;Od.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}});var QM=_(GM=>{"use strict";Object.defineProperty(GM,"__esModule",{value:!0})});var WM=_(zM=>{"use strict";Object.defineProperty(zM,"__esModule",{value:!0})});var Zn=_(Na=>{"use strict";var rce=Na&&Na.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rd=Na&&Na.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rce(e,t,r)};Object.defineProperty(Na,"__esModule",{value:!0});Rd(Tx(),Na);Rd(E0(),Na);Rd(vx(),Na);Rd(QM(),Na);Rd(WM(),Na);Rd(Sx(),Na);Rd(iv(),Na)});var Ox=_(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.Util=void 0;var nce=Bt(),ice=Zn(),ace=jt(),Ex=class{constructor(e){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=e,this.dataFactory=e.dataFactory||new nce.DataFactory,this.operationFactory=new ace.Factory(this.dataFactory),this.contextParser=new ice.ContextParser}registerNodeHandler(e){this.nodeHandlers[e.targetKind]=e}registerNodeValueHandler(e){this.nodeValueHandlers[e.targetKind]=e}registerDirectiveNodeHandler(e){this.directiveNodeHandlers[e.targetKind]=e}handleNode(e,r){let n=this.nodeHandlers[e.kind];if(!n)throw new Error(`Unsupported GraphQL node '${e.kind}'`);return n.handle(e,r)}handleNodeValue(e,r,n){let i=this.nodeValueHandlers[e.kind];if(!i)throw new Error(`Unsupported GraphQL value node '${e.kind}'`);return i.handle(e,r,n)}handleDirectiveNode(e,r){let n=this.directiveNodeHandlers[e.directive.name.value];return n?n.handle(e,r):null}joinOperations(e){if(e.length===1)return e[0];let r=[],n=[];for(let i of e)i.type==="bgp"?r.push(i):n.push(i);if(r.length===e.length)return this.joinOperationsAsBgp(r);if(r.length===e.length-1&&n[0].type==="leftjoin"&&n[0].input[0].type==="bgp"){let i=n[0];return r.push(i.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(r),i.input[1])}else return n.length===e.length?this.joinOperationsAsNestedJoin(n):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(r),this.joinOperationsAsNestedJoin(n)])}joinOperationsAsBgp(e){return this.operationFactory.createBgp([].concat.apply([],e.map(r=>r.patterns)))}joinOperationsAsNestedJoin(e){return this.operationFactory.createJoin(e)}appendFieldToPath(e,r){return e.concat([r])}getFieldLabel(e){return(e.alias?e.alias:e.name).value}nameToVariable(e,r){return this.dataFactory.variable((r.path.length?r.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+e)}valueToNamedNode(e,r){let n=r.expandTerm(e,!0);if(this.settings.requireContext&&!n)throw new Error("No context entry was found for "+e);return this.dataFactory.namedNode(n||e)}getArgument(e,r){if(e){for(let n of e)if(n.name.value===r)return n}}newTypePattern(e,r,n){return this.operationFactory.createPattern(e,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(r.name.value,n.context),n.graph)}createQuadPattern(e,r,n,i,a){let s=this.valueToNamedNode(r.value,a);return a&&a.getContextRaw()[r.value]&&a.getContextRaw()[r.value]["@reverse"]?this.operationFactory.createPattern(n,s,e,i):this.operationFactory.createPattern(e,s,n,i)}createQuadPath(e,r,n,i,a,s){let o=this.valueToNamedNode(r.value,s),u=this.operationFactory.createLink(o);for(let d of n.values){if(d.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+d.kind);u=this.operationFactory.createAlt([u,this.operationFactory.createLink(this.valueToNamedNode(d.value,s))])}return s&&s.getContextRaw()[r.value]&&s.getContextRaw()[r.value]["@reverse"]?this.operationFactory.createPath(i,u,e,a):this.operationFactory.createPath(e,u,i,a)}};ov.Util=Ex});var KM=_(O0=>{"use strict";var sce=O0&&O0.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(f){try{d(n.next(f))}catch(p){s(p)}}function u(f){try{d(n.throw(f))}catch(p){s(p)}}function d(f){f.done?a(f.value):i(f.value).then(o,u)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(O0,"__esModule",{value:!0});O0.Converter=void 0;var oce=CM(),Vi=zA(),My=RA(),uce=w0(),cce=Ox(),Ad=class{constructor(e){e=e||{},e.variableDelimiter=e.variableDelimiter||"_",e.expressionVariableCounter=e.expressionVariableCounter||0,this.util=new cce.Util(e),this.initializeNodeHandlers(e)}static registerNodeHandlers(e,r){e.registerNodeHandler(new Vi.NodeHandlerDocument(e,r)),e.registerNodeHandler(new Vi.NodeHandlerDefinitionOperation(e,r)),e.registerNodeHandler(new Vi.NodeHandlerDefinitionFragment(e,r)),e.registerNodeHandler(new Vi.NodeHandlerSelectionFragmentSpread(e,r)),e.registerNodeHandler(new Vi.NodeHandlerSelectionInlineFragment(e,r)),e.registerNodeHandler(new Vi.NodeHandlerSelectionField(e,r))}static registerNodeValueHandlers(e,r){e.registerNodeValueHandler(new Vi.NodeValueHandlerVariable(e,r)),e.registerNodeValueHandler(new Vi.NodeValueHandlerInt(e,r)),e.registerNodeValueHandler(new Vi.NodeValueHandlerFloat(e,r)),e.registerNodeValueHandler(new Vi.NodeValueHandlerString(e,r)),e.registerNodeValueHandler(new Vi.NodeValueHandlerBoolean(e,r)),e.registerNodeValueHandler(new Vi.NodeValueHandlerNull(e,r)),e.registerNodeValueHandler(new Vi.NodeValueHandlerEnum(e,r)),e.registerNodeValueHandler(new Vi.NodeValueHandlerList(e,r)),e.registerNodeValueHandler(new Vi.NodeValueHandlerObject(e,r))}static registerDirectiveNodeHandlers(e,r){e.registerDirectiveNodeHandler(new My.DirectiveNodeHandlerInclude(e,r)),e.registerDirectiveNodeHandler(new My.DirectiveNodeHandlerOptional(e,r)),e.registerDirectiveNodeHandler(new My.DirectiveNodeHandlerPlural(e,r)),e.registerDirectiveNodeHandler(new My.DirectiveNodeHandlerSingle(e,r)),e.registerDirectiveNodeHandler(new My.DirectiveNodeHandlerSkip(e,r))}graphqlToSparqlAlgebra(e,r,n){return sce(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(e,yield this.util.contextParser.parse(r),n)})}graphqlToSparqlAlgebraRawContext(e,r,n){n=n||{};let i=typeof e=="string"?(0,oce.parse)(e):e,a=this.indexFragments(i),s={context:r,fragmentDefinitions:a,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:uce.SingularizeState.PLURAL,singularizeVariables:n.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:n.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(i,s)}indexFragments(e){let r={},n=[];for(let i of e.definitions)i.kind==="FragmentDefinition"?r[i.name.value]=i:n.push(i);return e.definitions=n,r}initializeNodeHandlers(e){Ad.registerNodeHandlers(this.util,e),Ad.registerNodeValueHandlers(this.util,e),Ad.registerDirectiveNodeHandlers(this.util,e)}};O0.Converter=Ad});var $M=_(XM=>{"use strict";Object.defineProperty(XM,"__esModule",{value:!0})});var JM=_(Bs=>{"use strict";var lce=Bs&&Bs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fy=Bs&&Bs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lce(e,t,r)};Object.defineProperty(Bs,"__esModule",{value:!0});Fy(zA(),Bs);Fy(KM(),Bs);Fy(w0(),Bs);Fy($M(),Bs);Fy(Ox(),Bs)});var ZM=_(uv=>{"use strict";Object.defineProperty(uv,"__esModule",{value:!0});uv.ActorQueryParseGraphql=void 0;var dce=gA(),YM=Cr(),fce=JM(),Rx=class extends dce.ActorQueryParse{constructor(e){super(e),this.graphqlToSparql=new fce.Converter({requireContext:!0})}async test(e){if(e.queryFormat?.language!=="graphql")throw new Error("This actor can only parse GraphQL queries");return!0}async run(e){let r=e.context.get(YM.KeysInitQuery.jsonLdContext)||{},n={singularizeVariables:e.context.get(YM.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(e.query,r,n)}}};uv.ActorQueryParseGraphql=Rx});var e7=_(xd=>{"use strict";var hce=xd&&xd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pce=xd&&xd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hce(e,t,r)};Object.defineProperty(xd,"__esModule",{value:!0});pce(ZM(),xd)});var t7=_(cv=>{"use strict";Object.defineProperty(cv,"__esModule",{value:!0});cv.MediatorCombineUnion=void 0;var _ce=Je(),Ax=class extends _ce.Mediator{constructor(e){super(e),this.combiner=this.createCombiner()}async mediate(e){let r;try{r=this.publish(e)}catch{r=[]}await Promise.all(r.map(({reply:i})=>i));let n=await Promise.all(r.map(i=>i.actor.runObservable(e)));return this.combiner(n)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return e=>{let r={};return r[this.field]={},[{}].concat(e.map(n=>n[this.field])).forEach((n,i,a)=>{r[this.field]={...n,...r[this.field]}}),r}}};cv.MediatorCombineUnion=Ax});var Pd=_(Id=>{"use strict";var yce=Id&&Id.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bce=Id&&Id.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yce(e,t,r)};Object.defineProperty(Id,"__esModule",{value:!0});bce(t7(),Id)});var Ix=_(lv=>{"use strict";Object.defineProperty(lv,"__esModule",{value:!0});lv.ActorAbstractMediaTyped=void 0;var gce=Je(),xx=class extends gce.Actor{constructor(e){super(e)}async run(e){if("handle"in e){let r=e;return{handle:await this.runHandle(r.handle,r.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.getMediaTypes(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.getMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(e){if("handle"in e){let r=e;return{handle:await this.testHandle(r.handle,r.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.testMediaType(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.testMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};lv.ActorAbstractMediaTyped=xx});var r7=_(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});dv.ActorAbstractMediaTypedFixed=void 0;var mce=Ix(),Px=class extends mce.ActorAbstractMediaTyped{constructor(e){super(e);let r=this.priorityScale||this.priorityScale===0?this.priorityScale:1;this.mediaTypePriorities&&Object.entries(this.mediaTypePriorities).forEach(([n,i],a)=>{this.mediaTypePriorities[n]=r*i}),this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(e,r,n){if(!(r in this.mediaTypePriorities))throw new Error(`Unrecognized media type: ${r}`);return await this.testHandleChecked(e,n)}async testMediaType(e){return!0}async getMediaTypes(e){return this.mediaTypePriorities}async testMediaTypeFormats(e){return!0}async getMediaTypeFormats(e){return this.mediaTypeFormats}};dv.ActorAbstractMediaTypedFixed=Px});var Nd=_(Oc=>{"use strict";var vce=Oc&&Oc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),n7=Oc&&Oc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vce(e,t,r)};Object.defineProperty(Oc,"__esModule",{value:!0});n7(Ix(),Oc);n7(r7(),Oc)});var i7=_(fv=>{"use strict";Object.defineProperty(fv,"__esModule",{value:!0});fv.ActorQueryResultSerialize=void 0;var wce=Nd(),Nx=class extends wce.ActorAbstractMediaTyped{constructor(e){super(e)}};fv.ActorQueryResultSerialize=Nx});var a7=_(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.ActorQueryResultSerializeFixedMediaTypes=void 0;var Sce=Nd(),Dx=class extends Sce.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e,r){return!0}};hv.ActorQueryResultSerializeFixedMediaTypes=Dx});var Us=_(Rc=>{"use strict";var Tce=Rc&&Rc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s7=Rc&&Rc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Tce(e,t,r)};Object.defineProperty(Rc,"__esModule",{value:!0});s7(i7(),Rc);s7(a7(),Rc)});var bn=_((hje,o7)=>{"use strict";o7.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var l7=_(pv=>{"use strict";pv.byteLength=Oce;pv.toByteArray=Ace;pv.fromByteArray=Pce;var Ao=[],ss=[],Ece=typeof Uint8Array<"u"?Uint8Array:Array,Cx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Dd=0,u7=Cx.length;Dd<u7;++Dd)Ao[Dd]=Cx[Dd],ss[Cx.charCodeAt(Dd)]=Dd;var Dd,u7;ss["-".charCodeAt(0)]=62;ss["_".charCodeAt(0)]=63;function c7(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Oce(t){var e=c7(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Rce(t,e,r){return(e+r)*3/4-r}function Ace(t){var e,r=c7(t),n=r[0],i=r[1],a=new Ece(Rce(t,n,i)),s=0,o=i>0?n-4:n,u;for(u=0;u<o;u+=4)e=ss[t.charCodeAt(u)]<<18|ss[t.charCodeAt(u+1)]<<12|ss[t.charCodeAt(u+2)]<<6|ss[t.charCodeAt(u+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=ss[t.charCodeAt(u)]<<2|ss[t.charCodeAt(u+1)]>>4,a[s++]=e&255),i===1&&(e=ss[t.charCodeAt(u)]<<10|ss[t.charCodeAt(u+1)]<<4|ss[t.charCodeAt(u+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function xce(t){return Ao[t>>18&63]+Ao[t>>12&63]+Ao[t>>6&63]+Ao[t&63]}function Ice(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(xce(n));return i.join("")}function Pce(t){for(var e,r=t.length,n=r%3,i=[],a=16383,s=0,o=r-n;s<o;s+=a)i.push(Ice(t,s,s+a>o?o:s+a));return n===1?(e=t[r-1],i.push(Ao[e>>2]+Ao[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Ao[e>>10]+Ao[e>>4&63]+Ao[e<<2&63]+"=")),i.join("")}});var d7=_(jx=>{jx.read=function(t,e,r,n,i){var a,s,o=i*8-n-1,u=(1<<o)-1,d=u>>1,f=-7,p=r?i-1:0,y=r?-1:1,g=t[e+p];for(p+=y,a=g&(1<<-f)-1,g>>=-f,f+=o;f>0;a=a*256+t[e+p],p+=y,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=n;f>0;s=s*256+t[e+p],p+=y,f-=8);if(a===0)a=1-d;else{if(a===u)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-d}return(g?-1:1)*s*Math.pow(2,a-n)};jx.write=function(t,e,r,n,i,a){var s,o,u,d=a*8-i-1,f=(1<<d)-1,p=f>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:a-1,v=n?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+p>=1?e+=y/u:e+=y*Math.pow(2,1-p),e*u>=2&&(s++,u/=2),s+p>=f?(o=0,s=f):s+p>=1?(o=(e*u-1)*Math.pow(2,i),s=s+p):(o=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[r+g]=o&255,g+=v,o/=256,i-=8);for(s=s<<i|o,d+=i;d>0;t[r+g]=s&255,g+=v,s/=256,d-=8);t[r+g-v]|=E*128}});var Io=_(I0=>{"use strict";var qx=l7(),A0=d7(),f7=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;I0.Buffer=be;I0.SlowBuffer=Lce;I0.INSPECT_MAX_BYTES=50;var _v=2147483647;I0.kMaxLength=_v;be.TYPED_ARRAY_SUPPORT=Nce();!be.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Nce(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(be.prototype,"parent",{enumerable:!0,get:function(){if(!!be.isBuffer(this))return this.buffer}});Object.defineProperty(be.prototype,"offset",{enumerable:!0,get:function(){if(!!be.isBuffer(this))return this.byteOffset}});function Ou(t){if(t>_v)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,be.prototype),e}function be(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Bx(t)}return y7(t,e,r)}be.poolSize=8192;function y7(t,e,r){if(typeof t=="string")return Cce(t,e);if(ArrayBuffer.isView(t))return jce(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(xo(t,ArrayBuffer)||t&&xo(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xo(t,SharedArrayBuffer)||t&&xo(t.buffer,SharedArrayBuffer)))return Mx(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return be.from(n,e,r);let i=qce(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return be.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}be.from=function(t,e,r){return y7(t,e,r)};Object.setPrototypeOf(be.prototype,Uint8Array.prototype);Object.setPrototypeOf(be,Uint8Array);function b7(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Dce(t,e,r){return b7(t),t<=0?Ou(t):e!==void 0?typeof r=="string"?Ou(t).fill(e,r):Ou(t).fill(e):Ou(t)}be.alloc=function(t,e,r){return Dce(t,e,r)};function Bx(t){return b7(t),Ou(t<0?0:Ux(t)|0)}be.allocUnsafe=function(t){return Bx(t)};be.allocUnsafeSlow=function(t){return Bx(t)};function Cce(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!be.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=g7(t,e)|0,n=Ou(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function Lx(t){let e=t.length<0?0:Ux(t.length)|0,r=Ou(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function jce(t){if(xo(t,Uint8Array)){let e=new Uint8Array(t);return Mx(e.buffer,e.byteOffset,e.byteLength)}return Lx(t)}function Mx(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,be.prototype),n}function qce(t){if(be.isBuffer(t)){let e=Ux(t.length)|0,r=Ou(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||kx(t.length)?Ou(0):Lx(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Lx(t.data)}function Ux(t){if(t>=_v)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_v.toString(16)+" bytes");return t|0}function Lce(t){return+t!=t&&(t=0),be.alloc(+t)}be.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==be.prototype};be.compare=function(e,r){if(xo(e,Uint8Array)&&(e=be.from(e,e.offset,e.byteLength)),xo(r,Uint8Array)&&(r=be.from(r,r.offset,r.byteLength)),!be.isBuffer(e)||!be.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let a=0,s=Math.min(n,i);a<s;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0};be.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};be.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return be.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=be.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){let s=e[n];if(xo(s,Uint8Array))a+s.length>i.length?(be.isBuffer(s)||(s=be.from(s)),s.copy(i,a)):Uint8Array.prototype.set.call(i,s,a);else if(be.isBuffer(s))s.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=s.length}return i};function g7(t,e){if(be.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||xo(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Fx(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return A7(t).length;default:if(i)return n?-1:Fx(t).length;e=(""+e).toLowerCase(),i=!0}}be.byteLength=g7;function Mce(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Wce(this,e,r);case"utf8":case"utf-8":return v7(this,e,r);case"ascii":return Qce(this,e,r);case"latin1":case"binary":return zce(this,e,r);case"base64":return Hce(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kce(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}be.prototype._isBuffer=!0;function Cd(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}be.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Cd(this,r,r+1);return this};be.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Cd(this,r,r+3),Cd(this,r+1,r+2);return this};be.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Cd(this,r,r+7),Cd(this,r+1,r+6),Cd(this,r+2,r+5),Cd(this,r+3,r+4);return this};be.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?v7(this,0,e):Mce.apply(this,arguments)};be.prototype.toLocaleString=be.prototype.toString;be.prototype.equals=function(e){if(!be.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:be.compare(this,e)===0};be.prototype.inspect=function(){let e="",r=I0.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};f7&&(be.prototype[f7]=be.prototype.inspect);be.prototype.compare=function(e,r,n,i,a){if(xo(e,Uint8Array)&&(e=be.from(e,e.offset,e.byteLength)),!be.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;let s=a-i,o=n-r,u=Math.min(s,o),d=this.slice(i,a),f=e.slice(r,n);for(let p=0;p<u;++p)if(d[p]!==f[p]){s=d[p],o=f[p];break}return s<o?-1:o<s?1:0};function m7(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,kx(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=be.from(e,n)),be.isBuffer(e))return e.length===0?-1:h7(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):h7(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function h7(t,e,r,n,i){let a=1,s=t.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,s/=2,o/=2,r/=2}function u(f,p){return a===1?f[p]:f.readUInt16BE(p*a)}let d;if(i){let f=-1;for(d=r;d<s;d++)if(u(t,d)===u(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===o)return f*a}else f!==-1&&(d-=d-f),f=-1}else for(r+o>s&&(r=s-o),d=r;d>=0;d--){let f=!0;for(let p=0;p<o;p++)if(u(t,d+p)!==u(e,p)){f=!1;break}if(f)return d}return-1}be.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};be.prototype.indexOf=function(e,r,n){return m7(this,e,r,n,!0)};be.prototype.lastIndexOf=function(e,r,n){return m7(this,e,r,n,!1)};function Fce(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let a=e.length;n>a/2&&(n=a/2);let s;for(s=0;s<n;++s){let o=parseInt(e.substr(s*2,2),16);if(kx(o))return s;t[r+s]=o}return s}function Bce(t,e,r,n){return yv(Fx(e,t.length-r),t,r,n)}function Uce(t,e,r,n){return yv(Yce(e),t,r,n)}function Vce(t,e,r,n){return yv(A7(e),t,r,n)}function kce(t,e,r,n){return yv(Zce(e,t.length-r),t,r,n)}be.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-r;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Fce(this,e,r,n);case"utf8":case"utf-8":return Bce(this,e,r,n);case"ascii":case"latin1":case"binary":return Uce(this,e,r,n);case"base64":return Vce(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kce(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};be.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Hce(t,e,r){return e===0&&r===t.length?qx.fromByteArray(t):qx.fromByteArray(t.slice(e,r))}function v7(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let a=t[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=r){let u,d,f,p;switch(o){case 1:a<128&&(s=a);break;case 2:u=t[i+1],(u&192)===128&&(p=(a&31)<<6|u&63,p>127&&(s=p));break;case 3:u=t[i+1],d=t[i+2],(u&192)===128&&(d&192)===128&&(p=(a&15)<<12|(u&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:u=t[i+1],d=t[i+2],f=t[i+3],(u&192)===128&&(d&192)===128&&(f&192)===128&&(p=(a&15)<<18|(u&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=o}return Gce(n)}var p7=4096;function Gce(t){let e=t.length;if(e<=p7)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=p7));return r}function Qce(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function zce(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Wce(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let a=e;a<r;++a)i+=ele[t[a]];return i}function Kce(t,e,r){let n=t.slice(e,r),i="";for(let a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}be.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,be.prototype),i};function jn(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}be.prototype.readUintLE=be.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||jn(e,r,this.length);let i=this[e],a=1,s=0;for(;++s<r&&(a*=256);)i+=this[e+s]*a;return i};be.prototype.readUintBE=be.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||jn(e,r,this.length);let i=this[e+--r],a=1;for(;r>0&&(a*=256);)i+=this[e+--r]*a;return i};be.prototype.readUint8=be.prototype.readUInt8=function(e,r){return e=e>>>0,r||jn(e,1,this.length),this[e]};be.prototype.readUint16LE=be.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||jn(e,2,this.length),this[e]|this[e+1]<<8};be.prototype.readUint16BE=be.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||jn(e,2,this.length),this[e]<<8|this[e+1]};be.prototype.readUint32LE=be.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||jn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};be.prototype.readUint32BE=be.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||jn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};be.prototype.readBigUInt64LE=Ac(function(e){e=e>>>0,x0(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&By(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(a)<<BigInt(32))});be.prototype.readBigUInt64BE=Ac(function(e){e=e>>>0,x0(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&By(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(a)});be.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||jn(e,r,this.length);let i=this[e],a=1,s=0;for(;++s<r&&(a*=256);)i+=this[e+s]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};be.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||jn(e,r,this.length);let i=r,a=1,s=this[e+--i];for(;i>0&&(a*=256);)s+=this[e+--i]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};be.prototype.readInt8=function(e,r){return e=e>>>0,r||jn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};be.prototype.readInt16LE=function(e,r){e=e>>>0,r||jn(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};be.prototype.readInt16BE=function(e,r){e=e>>>0,r||jn(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};be.prototype.readInt32LE=function(e,r){return e=e>>>0,r||jn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};be.prototype.readInt32BE=function(e,r){return e=e>>>0,r||jn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};be.prototype.readBigInt64LE=Ac(function(e){e=e>>>0,x0(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&By(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});be.prototype.readBigInt64BE=Ac(function(e){e=e>>>0,x0(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&By(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});be.prototype.readFloatLE=function(e,r){return e=e>>>0,r||jn(e,4,this.length),A0.read(this,e,!0,23,4)};be.prototype.readFloatBE=function(e,r){return e=e>>>0,r||jn(e,4,this.length),A0.read(this,e,!1,23,4)};be.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||jn(e,8,this.length),A0.read(this,e,!0,52,8)};be.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||jn(e,8,this.length),A0.read(this,e,!1,52,8)};function la(t,e,r,n,i,a){if(!be.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}be.prototype.writeUintLE=be.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;la(this,e,r,n,o,0)}let a=1,s=0;for(this[r]=e&255;++s<n&&(a*=256);)this[r+s]=e/a&255;return r+n};be.prototype.writeUintBE=be.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;la(this,e,r,n,o,0)}let a=n-1,s=1;for(this[r+a]=e&255;--a>=0&&(s*=256);)this[r+a]=e/s&255;return r+n};be.prototype.writeUint8=be.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,1,255,0),this[r]=e&255,r+1};be.prototype.writeUint16LE=be.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};be.prototype.writeUint16BE=be.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};be.prototype.writeUint32LE=be.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};be.prototype.writeUint32BE=be.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function w7(t,e,r,n,i){R7(e,n,i,t,r,7);let a=Number(e&BigInt(4294967295));t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function S7(t,e,r,n,i){R7(e,n,i,t,r,7);let a=Number(e&BigInt(4294967295));t[r+7]=a,a=a>>8,t[r+6]=a,a=a>>8,t[r+5]=a,a=a>>8,t[r+4]=a;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}be.prototype.writeBigUInt64LE=Ac(function(e,r=0){return w7(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});be.prototype.writeBigUInt64BE=Ac(function(e,r=0){return S7(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});be.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);la(this,e,r,n,u-1,-u)}let a=0,s=1,o=0;for(this[r]=e&255;++a<n&&(s*=256);)e<0&&o===0&&this[r+a-1]!==0&&(o=1),this[r+a]=(e/s>>0)-o&255;return r+n};be.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);la(this,e,r,n,u-1,-u)}let a=n-1,s=1,o=0;for(this[r+a]=e&255;--a>=0&&(s*=256);)e<0&&o===0&&this[r+a+1]!==0&&(o=1),this[r+a]=(e/s>>0)-o&255;return r+n};be.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};be.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};be.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};be.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};be.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||la(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};be.prototype.writeBigInt64LE=Ac(function(e,r=0){return w7(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});be.prototype.writeBigInt64BE=Ac(function(e,r=0){return S7(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function T7(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function E7(t,e,r,n,i){return e=+e,r=r>>>0,i||T7(t,e,r,4,34028234663852886e22,-34028234663852886e22),A0.write(t,e,r,n,23,4),r+4}be.prototype.writeFloatLE=function(e,r,n){return E7(this,e,r,!0,n)};be.prototype.writeFloatBE=function(e,r,n){return E7(this,e,r,!1,n)};function O7(t,e,r,n,i){return e=+e,r=r>>>0,i||T7(t,e,r,8,17976931348623157e292,-17976931348623157e292),A0.write(t,e,r,n,52,8),r+8}be.prototype.writeDoubleLE=function(e,r,n){return O7(this,e,r,!0,n)};be.prototype.writeDoubleBE=function(e,r,n){return O7(this,e,r,!1,n)};be.prototype.copy=function(e,r,n,i){if(!be.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let a=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),a};be.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!be.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let a;if(typeof e=="number")for(a=r;a<n;++a)this[a]=e;else{let s=be.isBuffer(e)?e:be.from(e,i),o=s.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-r;++a)this[a+r]=s[a%o]}return this};var R0={};function Vx(t,e,r){R0[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Vx("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Vx("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Vx("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=_7(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=_7(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function _7(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Xce(t,e,r){x0(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&By(e,t.length-(r+1))}function R7(t,e,r,n,i,a){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",o;throw a>3?e===0||e===BigInt(0)?o=`>= 0${s} and < 2${s} ** ${(a+1)*8}${s}`:o=`>= -(2${s} ** ${(a+1)*8-1}${s}) and < 2 ** ${(a+1)*8-1}${s}`:o=`>= ${e}${s} and <= ${r}${s}`,new R0.ERR_OUT_OF_RANGE("value",o,t)}Xce(n,i,a)}function x0(t,e){if(typeof t!="number")throw new R0.ERR_INVALID_ARG_TYPE(e,"number",t)}function By(t,e,r){throw Math.floor(t)!==t?(x0(t,r),new R0.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new R0.ERR_BUFFER_OUT_OF_BOUNDS:new R0.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var $ce=/[^+/0-9A-Za-z-_]/g;function Jce(t){if(t=t.split("=")[0],t=t.trim().replace($ce,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Fx(t,e){e=e||1/0;let r,n=t.length,i=null,a=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function Yce(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Zce(t,e){let r,n,i,a=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function A7(t){return qx.toByteArray(Jce(t))}function yv(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function xo(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function kx(t){return t!==t}var ele=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Ac(t){return typeof BigInt>"u"?tle:t}function tle(){throw new Error("BigInt not supported")}});var Po=_((gje,Gx)=>{"use strict";var rle=Io(),nle=Object.getPrototypeOf(async function(){}).constructor,x7=globalThis.Blob||rle.Blob,ile=typeof x7<"u"?function(e){return e instanceof x7}:function(e){return!1},Hx=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};Gx.exports={AggregateError:Hx,once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof nle},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:ile};Gx.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Uy=_((mje,bv)=>{"use strict";var{AbortController:I7,AbortSignal:ale}=typeof self<"u"?self:typeof window<"u"?window:void 0;bv.exports=I7;bv.exports.AbortSignal=ale;bv.exports.default=I7});var ki=_((vje,D7)=>{"use strict";var{format:sle,inspect:gv,AggregateError:ole}=Po(),ule=globalThis.AggregateError||ole,cle=Symbol("kIsNodeError"),lle=["string","function","number","object","Function","Object","boolean","bigint","symbol"],dle=/^([A-Z][a-z0-9]*)+$/,fle="__node_internal_",mv={};function jd(t,e){if(!t)throw new mv.ERR_INTERNAL_ASSERTION(e)}function P7(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function hle(t,e,r){if(typeof e=="function")return jd(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return jd(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:sle(e,...r)}function ei(t,e,r){r||(r=Error);class n extends r{constructor(...a){super(hle(t,e,a))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[cle]=!0,mv[t]=n}function N7(t){let e=fle+t.name;return Object.defineProperty(t,"name",{value:e}),t}function ple(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new ule([e,t],e.message);return r.code=e.code,r}return t||e}var Qx=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new mv.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};ei("ERR_ASSERTION","%s",Error);ei("ERR_INVALID_ARG_TYPE",(t,e,r)=>{jd(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],a=[],s=[];for(let u of e)jd(typeof u=="string","All expected entries have to be of type string"),lle.includes(u)?i.push(u.toLowerCase()):dle.test(u)?a.push(u):(jd(u!=="object",'The value "object" should be written as "Object"'),s.push(u));if(a.length>0){let u=i.indexOf("object");u!==-1&&(i.splice(i,u,1),a.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let u=i.pop();n+=`one of type ${i.join(", ")}, or ${u}`}}(a.length>0||s.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{let u=a.pop();n+=`an instance of ${a.join(", ")}, or ${u}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{let u=s.pop();n+=`one of ${s.join(", ")}, or ${u}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var o;(o=r.constructor)!==null&&o!==void 0&&o.name?n+=`. Received an instance of ${r.constructor.name}`:n+=`. Received ${gv(r,{depth:-1})}`}else{let u=gv(r,{colors:!1});u.length>25&&(u=`${u.slice(0,25)}...`),n+=`. Received type ${typeof r} (${u})`}return n},TypeError);ei("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=gv(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);ei("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);ei("ERR_MISSING_ARGS",(...t)=>{jd(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);ei("ERR_OUT_OF_RANGE",(t,e,r)=>{jd(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=P7(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=P7(n)),n+="n"):n=gv(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);ei("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);ei("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);ei("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);ei("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);ei("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);ei("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ei("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);ei("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);ei("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);ei("ERR_STREAM_WRITE_AFTER_END","write after end",Error);ei("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);D7.exports={AbortError:Qx,aggregateTwoErrors:N7(ple),hideStackFrames:N7,codes:mv}});var Vy=_((wje,U7)=>{"use strict";var{ArrayIsArray:q7,ArrayPrototypeIncludes:_le,ArrayPrototypeJoin:yle,ArrayPrototypeMap:ble,NumberIsInteger:zx,NumberMAX_SAFE_INTEGER:gle,NumberMIN_SAFE_INTEGER:mle,NumberParseInt:vle,RegExpPrototypeTest:wle,String:Sle,StringPrototypeToUpperCase:Tle,StringPrototypeTrim:Ele}=bn(),{hideStackFrames:Vs,codes:{ERR_SOCKET_BAD_PORT:Ole,ERR_INVALID_ARG_TYPE:Da,ERR_INVALID_ARG_VALUE:vv,ERR_OUT_OF_RANGE:xc,ERR_UNKNOWN_SIGNAL:C7}}=ki(),{normalizeEncoding:Rle}=Po(),{isAsyncFunction:Ale,isArrayBufferView:xle}=Po().types,j7={};function L7(t){return t===(t|0)}function M7(t){return t===t>>>0}var Ile=/^[0-7]+$/,Ple="must be a 32-bit unsigned integer or an octal string";function Nle(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(!wle(Ile,t))throw new vv(e,t,Ple);t=vle(t,8)}return F7(t,e,0,2**32-1),t}var Dle=Vs((t,e,r=mle,n=gle)=>{if(typeof t!="number")throw new Da(e,"number",t);if(!zx(t))throw new xc(e,"an integer",t);if(t<r||t>n)throw new xc(e,`>= ${r} && <= ${n}`,t)}),F7=Vs((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Da(e,"number",t);if(!L7(t))throw zx(t)?new xc(e,`>= ${r} && <= ${n}`,t):new xc(e,"an integer",t);if(t<r||t>n)throw new xc(e,`>= ${r} && <= ${n}`,t)}),Cle=Vs((t,e,r)=>{if(typeof t!="number")throw new Da(e,"number",t);if(!M7(t)){if(!zx(t))throw new xc(e,"an integer",t);let n=r?1:0;throw new xc(e,`>= ${n} && < 4294967296`,t)}if(r&&t===0)throw new xc(e,">= 1 && < 4294967296",t)});function B7(t,e){if(typeof t!="string")throw new Da(e,"string",t)}function jle(t,e){if(typeof t!="number")throw new Da(e,"number",t)}var qle=Vs((t,e,r)=>{if(!_le(r,t)){let n=yle(ble(r,a=>typeof a=="string"?`'${a}'`:Sle(a)),", "),i="must be one of: "+n;throw new vv(e,t,i)}});function Lle(t,e){if(typeof t!="boolean")throw new Da(e,"boolean",t)}var Mle=Vs((t,e,r)=>{let n=r==null,i=n?!1:r.allowArray,a=n?!1:r.allowFunction;if(!(n?!1:r.nullable)&&t===null||!i&&q7(t)||typeof t!="object"&&(!a||typeof t!="function"))throw new Da(e,"Object",t)}),Fle=Vs((t,e,r=0)=>{if(!q7(t))throw new Da(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new vv(e,t,n)}});function Ble(t,e="signal"){if(B7(t,e),j7[t]===void 0)throw j7[Tle(t)]!==void 0?new C7(t+" (signals must use all capital letters)"):new C7(t)}var Ule=Vs((t,e="buffer")=>{if(!xle(t))throw new Da(e,["Buffer","TypedArray","DataView"],t)});function Vle(t,e){let r=Rle(e),n=t.length;if(r==="hex"&&n%2!==0)throw new vv("encoding",e,`is invalid for data of length ${n}`)}function kle(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Ele(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Ole(e,t,r);return t|0}var Hle=Vs((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Da(e,"AbortSignal",t)}),Gle=Vs((t,e)=>{if(typeof t!="function")throw new Da(e,"Function",t)}),Qle=Vs((t,e)=>{if(typeof t!="function"||Ale(t))throw new Da(e,"Function",t)}),zle=Vs((t,e)=>{if(t!==void 0)throw new Da(e,"undefined",t)});U7.exports={isInt32:L7,isUint32:M7,parseFileMode:Nle,validateArray:Fle,validateBoolean:Lle,validateBuffer:Ule,validateEncoding:Vle,validateFunction:Gle,validateInt32:F7,validateInteger:Dle,validateNumber:jle,validateObject:Mle,validateOneOf:qle,validatePlainFunction:Qle,validatePort:kle,validateSignalName:Ble,validateString:B7,validateUint32:Cle,validateUndefined:zle,validateAbortSignal:Hle}});var Ic=_((Sje,Y7)=>{"use strict";var{Symbol:wv,SymbolAsyncIterator:V7,SymbolIterator:k7}=bn(),H7=wv("kDestroyed"),G7=wv("kIsErrored"),Wx=wv("kIsReadable"),Q7=wv("kIsDisturbed");function Sv(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Tv(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Wle(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function qd(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function Kle(t,e){return t==null?!1:e===!0?typeof t[V7]=="function":e===!1?typeof t[k7]=="function":typeof t[V7]=="function"||typeof t[k7]=="function"}function Ev(t){if(!qd(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[H7]||n!=null&&n.destroyed)}function z7(t){if(!Tv(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Xle(t,e){if(!Tv(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function $le(t){if(!Sv(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function W7(t,e){if(!Sv(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function K7(t){return t&&t[Wx]!=null?t[Wx]:typeof t?.readable!="boolean"?null:Ev(t)?!1:Sv(t)&&t.readable&&!W7(t)}function X7(t){return typeof t?.writable!="boolean"?null:Ev(t)?!1:Tv(t)&&t.writable&&!z7(t)}function Jle(t,e){return qd(t)?Ev(t)?!0:!(e?.readable!==!1&&K7(t)||e?.writable!==!1&&X7(t)):null}function Yle(t){var e,r;return qd(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Zle(t){var e,r;return qd(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function ede(t){if(!qd(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&$7(t)?t._closed:null}function $7(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function J7(t){return typeof t._sent100=="boolean"&&$7(t)}function tde(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function rde(t){if(!qd(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&J7(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function nde(t){var e;return!!(t&&((e=t[Q7])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function ide(t){var e,r,n,i,a,s,o,u,d,f;return!!(t&&((e=(r=(n=(i=(a=(s=t[G7])!==null&&s!==void 0?s:t.readableErrored)!==null&&a!==void 0?a:t.writableErrored)!==null&&i!==void 0?i:(o=t._readableState)===null||o===void 0?void 0:o.errorEmitted)!==null&&n!==void 0?n:(u=t._writableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(d=t._readableState)===null||d===void 0?void 0:d.errored)!==null&&e!==void 0?e:(f=t._writableState)===null||f===void 0?void 0:f.errored))}Y7.exports={kDestroyed:H7,isDisturbed:nde,kIsDisturbed:Q7,isErrored:ide,kIsErrored:G7,isReadable:K7,kIsReadable:Wx,isClosed:ede,isDestroyed:Ev,isDuplexNodeStream:Wle,isFinished:Jle,isIterable:Kle,isReadableNodeStream:Sv,isReadableEnded:$le,isReadableFinished:W7,isReadableErrored:Zle,isNodeStream:qd,isWritable:X7,isWritableNodeStream:Tv,isWritableEnded:z7,isWritableFinished:Xle,isWritableErrored:Yle,isServerRequest:tde,isServerResponse:J7,willEmitClose:rde}});var Pc=_((Tje,Xx)=>{"use strict";var{AbortError:ade,codes:sde}=ki(),{ERR_INVALID_ARG_TYPE:ode,ERR_STREAM_PREMATURE_CLOSE:Z7}=sde,{once:eF}=Po(),{validateAbortSignal:ude,validateFunction:cde,validateObject:lde}=Vy(),{Promise:dde}=bn(),{isClosed:fde,isReadable:tF,isReadableNodeStream:Kx,isReadableFinished:rF,isReadableErrored:hde,isWritable:nF,isWritableNodeStream:iF,isWritableFinished:aF,isWritableErrored:pde,isNodeStream:_de,willEmitClose:yde}=Ic();function bde(t){return t.setHeader&&typeof t.abort=="function"}var gde=()=>{};function sF(t,e,r){var n,i;arguments.length===2?(r=e,e={}):e==null?e={}:lde(e,"options"),cde(r,"callback"),ude(e.signal,"options.signal"),r=eF(r);let a=(n=e.readable)!==null&&n!==void 0?n:Kx(t),s=(i=e.writable)!==null&&i!==void 0?i:iF(t);if(!_de(t))throw new ode("stream","Stream",t);let o=t._writableState,u=t._readableState,d=()=>{t.writable||y()},f=yde(t)&&Kx(t)===a&&iF(t)===s,p=aF(t,!1),y=()=>{p=!0,t.destroyed&&(f=!1),!(f&&(!t.readable||a))&&(!a||g)&&r.call(t)},g=rF(t,!1),v=()=>{g=!0,t.destroyed&&(f=!1),!(f&&(!t.writable||s))&&(!s||p)&&r.call(t)},E=w=>{r.call(t,w)},D=fde(t),O=()=>{D=!0;let w=pde(t)||hde(t);if(w&&typeof w!="boolean")return r.call(t,w);if(a&&!g&&Kx(t,!0)&&!rF(t,!1))return r.call(t,new Z7);if(s&&!p&&!aF(t,!1))return r.call(t,new Z7);r.call(t)},C=()=>{t.req.on("finish",y)};bde(t)?(t.on("complete",y),f||t.on("abort",O),t.req?C():t.on("request",C)):s&&!o&&(t.on("end",d),t.on("close",d)),!f&&typeof t.aborted=="boolean"&&t.on("aborted",O),t.on("end",v),t.on("finish",y),e.error!==!1&&t.on("error",E),t.on("close",O),D?process.nextTick(O):o!=null&&o.errorEmitted||u!=null&&u.errorEmitted?f||process.nextTick(O):(!a&&(!f||tF(t))&&(p||nF(t)===!1)||!s&&(!f||nF(t))&&(g||tF(t)===!1)||u&&t.req&&t.aborted)&&process.nextTick(O);let R=()=>{r=gde,t.removeListener("aborted",O),t.removeListener("complete",y),t.removeListener("abort",O),t.removeListener("request",C),t.req&&t.req.removeListener("finish",y),t.removeListener("end",d),t.removeListener("close",d),t.removeListener("finish",y),t.removeListener("end",v),t.removeListener("error",E),t.removeListener("close",O)};if(e.signal&&!D){let w=()=>{let P=r;R(),P.call(t,new ade(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)process.nextTick(w);else{let P=r;r=eF((...T)=>{e.signal.removeEventListener("abort",w),P.apply(t,T)}),e.signal.addEventListener("abort",w)}}return R}function mde(t,e){return new dde((r,n)=>{sF(t,e,i=>{i?n(i):r()})})}Xx.exports=sF;Xx.exports.finished=mde});var pF=_((Eje,Yx)=>{"use strict";var lF=globalThis.AbortController||Uy().AbortController,{codes:{ERR_INVALID_ARG_TYPE:ky,ERR_MISSING_ARGS:vde,ERR_OUT_OF_RANGE:wde},AbortError:No}=ki(),{validateAbortSignal:P0,validateInteger:Sde,validateObject:N0}=Vy(),Tde=bn().Symbol("kWeak"),{finished:Ede}=Pc(),{ArrayPrototypePush:Ode,MathFloor:Rde,Number:Ade,NumberIsNaN:xde,Promise:oF,PromiseReject:uF,PromisePrototypeCatch:Ide,Symbol:dF}=bn(),Ov=dF("kEmpty"),cF=dF("kEof");function Rv(t,e){if(typeof t!="function")throw new ky("fn",["Function","AsyncFunction"],t);e!=null&&N0(e,"options"),e?.signal!=null&&P0(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=Rde(e.concurrency)),Sde(r,"concurrency",1),async function*(){var i,a;let s=new lF,o=this,u=[],d=s.signal,f={signal:d},p=()=>s.abort();e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted&&p(),e==null||(a=e.signal)===null||a===void 0||a.addEventListener("abort",p);let y,g,v=!1;function E(){v=!0}async function D(){try{for await(let R of o){var O;if(v)return;if(d.aborted)throw new No;try{R=t(R,f)}catch(w){R=uF(w)}R!==Ov&&(typeof((O=R)===null||O===void 0?void 0:O.catch)=="function"&&R.catch(E),u.push(R),y&&(y(),y=null),!v&&u.length&&u.length>=r&&await new oF(w=>{g=w}))}u.push(cF)}catch(R){let w=uF(R);Ide(w,E),u.push(w)}finally{var C;v=!0,y&&(y(),y=null),e==null||(C=e.signal)===null||C===void 0||C.removeEventListener("abort",p)}}D();try{for(;;){for(;u.length>0;){let O=await u[0];if(O===cF)return;if(d.aborted)throw new No;O!==Ov&&(yield O),u.shift(),g&&(g(),g=null)}await new oF(O=>{y=O})}}finally{s.abort(),v=!0,g&&(g(),g=null)}}.call(this)}function Pde(t=void 0){return t!=null&&N0(t,"options"),t?.signal!=null&&P0(t.signal,"options.signal"),async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new No({cause:t.signal.reason});yield[r++,i]}}.call(this)}async function fF(t,e=void 0){for await(let r of Jx.call(this,t,e))return!0;return!1}async function Nde(t,e=void 0){if(typeof t!="function")throw new ky("fn",["Function","AsyncFunction"],t);return!await fF.call(this,async(...r)=>!await t(...r),e)}async function Dde(t,e){for await(let r of Jx.call(this,t,e))return r}async function Cde(t,e){if(typeof t!="function")throw new ky("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),Ov}for await(let n of Rv.call(this,r,e));}function Jx(t,e){if(typeof t!="function")throw new ky("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:Ov}return Rv.call(this,r,e)}var $x=class extends vde{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function jde(t,e,r){var n;if(typeof t!="function")throw new ky("reducer",["Function","AsyncFunction"],t);r!=null&&N0(r,"options"),r?.signal!=null&&P0(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let d=new No(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Ede(this.destroy(d)),d}let a=new lF,s=a.signal;if(r!=null&&r.signal){let d={once:!0,[Tde]:this};r.signal.addEventListener("abort",()=>a.abort(),d)}let o=!1;try{for await(let d of this){var u;if(o=!0,r!=null&&(u=r.signal)!==null&&u!==void 0&&u.aborted)throw new No;i?e=await t(e,d,{signal:s}):(e=d,i=!0)}if(!o&&!i)throw new $x}finally{a.abort()}return e}async function qde(t){t!=null&&N0(t,"options"),t?.signal!=null&&P0(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new No(void 0,{cause:t.signal.reason});Ode(e,n)}return e}function Lde(t,e){let r=Rv.call(this,t,e);return async function*(){for await(let i of r)yield*i}.call(this)}function hF(t){if(t=Ade(t),xde(t))return 0;if(t<0)throw new wde("number",">= 0",t);return t}function Mde(t,e=void 0){return e!=null&&N0(e,"options"),e?.signal!=null&&P0(e.signal,"options.signal"),t=hF(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new No;for await(let a of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new No;t--<=0&&(yield a)}}.call(this)}function Fde(t,e=void 0){return e!=null&&N0(e,"options"),e?.signal!=null&&P0(e.signal,"options.signal"),t=hF(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new No;for await(let a of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new No;if(t-- >0)yield a;else return}}.call(this)}Yx.exports.streamReturningOperators={asIndexedPairs:Pde,drop:Mde,filter:Jx,flatMap:Lde,map:Rv,take:Fde};Yx.exports.promiseReturningOperators={every:Nde,forEach:Cde,reduce:jde,toArray:qde,some:fF,find:Dde}});var Ld=_((Oje,SF)=>{"use strict";var{aggregateTwoErrors:Bde,codes:{ERR_MULTIPLE_CALLBACK:Ude},AbortError:Vde}=ki(),{Symbol:bF}=bn(),{kDestroyed:kde,isDestroyed:Hde,isFinished:Gde,isServerRequest:Qde}=Ic(),gF=bF("kDestroy"),Zx=bF("kConstruct");function mF(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function zde(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n&&n.destroyed||r&&r.destroyed?(typeof e=="function"&&e(),this):(mF(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?_F(this,t,e):this.once(gF,function(a){_F(this,Bde(a,t),e)}),this)}function _F(t,e,r){let n=!1;function i(a){if(n)return;n=!0;let s=t._readableState,o=t._writableState;mF(a,o,s),o&&(o.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(a),a?process.nextTick(Wde,t,a):process.nextTick(vF,t)}try{t._destroy(e||null,i)}catch(a){i(a)}}function Wde(t,e){eI(t,e),vF(t)}function vF(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r&&r.emitClose||e&&e.emitClose)&&t.emit("close")}function eI(t,e){let r=t._readableState,n=t._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Kde(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function tI(t,e,r){let n=t._readableState,i=t._writableState;if(i&&i.destroyed||n&&n.destroyed)return this;n&&n.autoDestroy||i&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?process.nextTick(eI,t,e):eI(t,e))}function Xde(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Zx,e),!(t.listenerCount(Zx)>1)&&process.nextTick($de,t)}function $de(t){let e=!1;function r(n){if(e){tI(t,n??new Ude);return}e=!0;let i=t._readableState,a=t._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?t.emit(gF,n):n?tI(t,n,!0):process.nextTick(Jde,t)}try{t._construct(r)}catch(n){r(n)}}function Jde(t){t.emit(Zx)}function yF(t){return t&&t.setHeader&&typeof t.abort=="function"}function wF(t){t.emit("close")}function Yde(t,e){t.emit("error",e),process.nextTick(wF,t)}function Zde(t,e){!t||Hde(t)||(!e&&!Gde(t)&&(e=new Vde),Qde(t)?(t.socket=null,t.destroy(e)):yF(t)?t.abort():yF(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?process.nextTick(Yde,t):process.nextTick(wF,t),t.destroyed||(t[kde]=!0))}SF.exports={construct:Xde,destroyer:Zde,destroy:zde,undestroy:Kde,errorOrDestroy:tI}});var Iv=_((Rje,EF)=>{"use strict";var{ArrayIsArray:efe,ObjectSetPrototypeOf:TF}=bn(),{EventEmitter:Av}=vu();function xv(t){Av.call(this,t)}TF(xv.prototype,Av.prototype);TF(xv,Av);xv.prototype.pipe=function(t,e){let r=this;function n(f){t.writable&&t.write(f)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",o));let a=!1;function s(){a||(a=!0,t.end())}function o(){a||(a=!0,typeof t.destroy=="function"&&t.destroy())}function u(f){d(),Av.listenerCount(this,"error")===0&&this.emit("error",f)}rI(r,"error",u),rI(t,"error",u);function d(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",o),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d)}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t};function rI(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):efe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}EF.exports={Stream:xv,prependListener:rI}});var Nv=_((Aje,Pv)=>{"use strict";var{AbortError:tfe,codes:rfe}=ki(),nfe=Pc(),{ERR_INVALID_ARG_TYPE:OF}=rfe,ife=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new OF(e,"AbortSignal",t)};function afe(t){return!!(t&&typeof t.pipe=="function")}Pv.exports.addAbortSignal=function(e,r){if(ife(e,"signal"),!afe(r))throw new OF("stream","stream.Stream",r);return Pv.exports.addAbortSignalNoValidate(e,r)};Pv.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=()=>{e.destroy(new tfe(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),nfe(e,()=>t.removeEventListener("abort",r))),e}});var xF=_((Ije,AF)=>{"use strict";var{StringPrototypeSlice:RF,SymbolIterator:sfe,TypedArrayPrototypeSet:Dv,Uint8Array:ofe}=bn(),{inspect:ufe}=Po();AF.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Buffer.alloc(0);let r=Buffer.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Dv(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[sfe](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let a=n.data;if(e>a.length)r+=a,e-=a.length;else{e===a.length?(r+=a,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=RF(a,0,e),this.head=n,n.data=RF(a,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Buffer.allocUnsafe(e),n=e,i=this.head,a=0;do{let s=i.data;if(e>s.length)Dv(r,s,n-e),e-=s.length;else{e===s.length?(Dv(r,s,n-e),++a,i.next?this.head=i.next:this.head=this.tail=null):(Dv(r,new ofe(s.buffer,s.byteOffset,e),n-e),this.head=i,i.data=s.slice(e));break}++a}while((i=i.next)!==null);return this.length-=a,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return ufe(this,{...r,depth:0,customInspect:!1})}}});var nI=_((Pje,PF)=>{"use strict";var{MathFloor:cfe,NumberIsInteger:lfe}=bn(),{ERR_INVALID_ARG_VALUE:dfe}=ki().codes;function ffe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function IF(t){return t?16:16*1024}function hfe(t,e,r,n){let i=ffe(e,n,r);if(i!=null){if(!lfe(i)||i<0){let a=n?`options.${r}`:"options.highWaterMark";throw new dfe(a,i)}return cfe(i)}return IF(t.objectMode)}PF.exports={getHighWaterMark:hfe,getDefaultHighWaterMark:IF}});var CF=_((iI,DF)=>{var Cv=Io(),Do=Cv.Buffer;function NF(t,e){for(var r in t)e[r]=t[r]}Do.from&&Do.alloc&&Do.allocUnsafe&&Do.allocUnsafeSlow?DF.exports=Cv:(NF(Cv,iI),iI.Buffer=Md);function Md(t,e,r){return Do(t,e,r)}Md.prototype=Object.create(Do.prototype);NF(Do,Md);Md.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Do(t,e,r)};Md.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Do(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Md.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Do(t)};Md.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Cv.SlowBuffer(t)}});var D0=_(qF=>{"use strict";var sI=CF().Buffer,jF=sI.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function pfe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function _fe(t){var e=pfe(t);if(typeof e!="string"&&(sI.isEncoding===jF||!jF(t)))throw new Error("Unknown encoding: "+t);return e||t}qF.StringDecoder=Hy;function Hy(t){this.encoding=_fe(t);var e;switch(this.encoding){case"utf16le":this.text=wfe,this.end=Sfe,e=4;break;case"utf8":this.fillLast=gfe,e=4;break;case"base64":this.text=Tfe,this.end=Efe,e=3;break;default:this.write=Ofe,this.end=Rfe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=sI.allocUnsafe(e)}Hy.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Hy.prototype.end=vfe;Hy.prototype.text=mfe;Hy.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function aI(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function yfe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=aI(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=aI(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=aI(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function bfe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function gfe(t){var e=this.lastTotal-this.lastNeed,r=bfe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function mfe(t,e){var r=yfe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function vfe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function wfe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Sfe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Tfe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Efe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Ofe(t){return t.toString(this.encoding)}function Rfe(t){return t&&t.length?this.write(t):""}});var oI=_((Dje,FF)=>{"use strict";var{PromisePrototypeThen:Afe,SymbolAsyncIterator:LF,SymbolIterator:MF}=bn(),{ERR_INVALID_ARG_TYPE:xfe,ERR_STREAM_NULL_VALUES:Ife}=ki().codes;function Pfe(t,e,r){let n;if(typeof e=="string"||e instanceof Buffer)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[LF])i=!0,n=e[LF]();else if(e&&e[MF])i=!1,n=e[MF]();else throw new xfe("iterable",["Iterable"],e);let a=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;a._read=function(){s||(s=!0,u())},a._destroy=function(d,f){Afe(o(d),()=>process.nextTick(f,d),p=>process.nextTick(f,p||d))};async function o(d){let f=d!=null,p=typeof n.throw=="function";if(f&&p){let{value:y,done:g}=await n.throw(d);if(await y,g)return}if(typeof n.return=="function"){let{value:y}=await n.return();await y}}async function u(){for(;;){try{let{value:d,done:f}=i?await n.next():n.next();if(f)a.push(null);else{let p=d&&typeof d.then=="function"?await d:d;if(p===null)throw s=!1,new Ife;if(a.push(p))continue;s=!1}}catch(d){a.destroy(d)}break}}return a}FF.exports=Pfe});var Gy=_((Cje,JF)=>{"use strict";var{ArrayPrototypeIndexOf:Nfe,NumberIsInteger:Dfe,NumberIsNaN:Cfe,NumberParseInt:jfe,ObjectDefineProperties:VF,ObjectKeys:qfe,ObjectSetPrototypeOf:kF,Promise:Lfe,SafeSet:Mfe,SymbolAsyncIterator:Ffe,Symbol:Bfe}=bn();JF.exports=Nt;Nt.ReadableState=fI;var{EventEmitter:Ufe}=vu(),{Stream:Nc,prependListener:Vfe}=Iv(),{addAbortSignal:kfe}=Nv(),Hfe=Pc(),Qt=Po().debuglog("stream",t=>{Qt=t}),Gfe=xF(),j0=Ld(),{getHighWaterMark:Qfe,getDefaultHighWaterMark:zfe}=nI(),{aggregateTwoErrors:BF,codes:{ERR_INVALID_ARG_TYPE:Wfe,ERR_METHOD_NOT_IMPLEMENTED:Kfe,ERR_OUT_OF_RANGE:Xfe,ERR_STREAM_PUSH_AFTER_EOF:$fe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Jfe}}=ki(),{validateObject:Yfe}=Vy(),Fd=Bfe("kPaused"),{StringDecoder:HF}=D0(),Zfe=oI();kF(Nt.prototype,Nc.prototype);kF(Nt,Nc);var uI=()=>{},{errorOrDestroy:C0}=j0;function fI(t,e,r){typeof r!="boolean"&&(r=e instanceof Co()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?Qfe(this,t,"readableHighWaterMark",r):zfe(!1),this.buffer=new Gfe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Fd]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new HF(t.encoding),this.encoding=t.encoding)}function Nt(t){if(!(this instanceof Nt))return new Nt(t);let e=this instanceof Co();this._readableState=new fI(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&kfe(t.signal,this)),Nc.call(this,t),j0.construct(this,()=>{this._readableState.needReadable&&jv(this,this._readableState)})}Nt.prototype.destroy=j0.destroy;Nt.prototype._undestroy=j0.undestroy;Nt.prototype._destroy=function(t,e){e(t)};Nt.prototype[Ufe.captureRejectionSymbol]=function(t){this.destroy(t)};Nt.prototype.push=function(t,e){return GF(this,t,e,!1)};Nt.prototype.unshift=function(t,e){return GF(this,t,e,!0)};function GF(t,e,r,n){Qt("readableAddChunk",e);let i=t._readableState,a;if(i.objectMode||(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=Buffer.from(e,r).toString(i.encoding):(e=Buffer.from(e,r),r=""))):e instanceof Buffer?r="":Nc._isUint8Array(e)?(e=Nc._uint8ArrayToBuffer(e),r=""):e!=null&&(a=new Wfe("chunk",["string","Buffer","Uint8Array"],e))),a)C0(t,a);else if(e===null)i.reading=!1,rhe(t,i);else if(i.objectMode||e&&e.length>0)if(n)if(i.endEmitted)C0(t,new Jfe);else{if(i.destroyed||i.errored)return!1;cI(t,i,e,!0)}else if(i.ended)C0(t,new $fe);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?cI(t,i,e,!1):jv(t,i)):cI(t,i,e,!1)}else n||(i.reading=!1,jv(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function cI(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&qv(t)),jv(t,e)}Nt.prototype.isPaused=function(){let t=this._readableState;return t[Fd]===!0||t.flowing===!1};Nt.prototype.setEncoding=function(t){let e=new HF(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var ehe=1073741824;function the(t){if(t>ehe)throw new Xfe("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function UF(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:Cfe(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}Nt.prototype.read=function(t){Qt("read",t),t===void 0?t=NaN:Dfe(t)||(t=jfe(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=the(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Qt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?lI(this):qv(this),null;if(t=UF(t,e),t===0&&e.ended)return e.length===0&&lI(this),null;let n=e.needReadable;if(Qt("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Qt("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,Qt("reading, ended or constructing",n);else if(n){Qt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(a){C0(this,a)}e.sync=!1,e.reading||(t=UF(r,e))}let i;return t>0?i=XF(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&lI(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function rhe(t,e){if(Qt("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?qv(t):(e.needReadable=!1,e.emittedReadable=!0,QF(t))}}function qv(t){let e=t._readableState;Qt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Qt("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(QF,t))}function QF(t){let e=t._readableState;Qt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,WF(t)}function jv(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,process.nextTick(nhe,t,e))}function nhe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(Qt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Nt.prototype._read=function(t){throw new Kfe("_read()")};Nt.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Mfe(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),Qt("pipe count=%d opts=%j",n.pipes.length,e);let a=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr?o:D;n.endEmitted?process.nextTick(a):r.once("end",a),t.on("unpipe",s);function s(O,C){Qt("onunpipe"),O===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,f())}function o(){Qt("onend"),t.end()}let u,d=!1;function f(){Qt("cleanup"),t.removeListener("close",v),t.removeListener("finish",E),u&&t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",s),r.removeListener("end",o),r.removeListener("end",D),r.removeListener("data",y),d=!0,u&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&u()}function p(){d||(n.pipes.length===1&&n.pipes[0]===t?(Qt("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(Qt("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),u||(u=ihe(r,t),t.on("drain",u))}r.on("data",y);function y(O){Qt("ondata");let C=t.write(O);Qt("dest.write",C),C===!1&&p()}function g(O){if(Qt("onerror",O),D(),t.removeListener("error",g),t.listenerCount("error")===0){let C=t._writableState||t._readableState;C&&!C.errorEmitted?C0(t,O):t.emit("error",O)}}Vfe(t,"error",g);function v(){t.removeListener("finish",E),D()}t.once("close",v);function E(){Qt("onfinish"),t.removeListener("close",v),D()}t.once("finish",E);function D(){Qt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?n.flowing&&p():n.flowing||(Qt("pipe resume"),r.resume()),t};function ihe(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(Qt("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(Qt("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}Nt.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let a=0;a<i.length;a++)i[a].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Nfe(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};Nt.prototype.on=function(t,e){let r=Nc.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Qt("on readable",n.length,n.reading),n.length?qv(this):n.reading||process.nextTick(ahe,this)),r};Nt.prototype.addListener=Nt.prototype.on;Nt.prototype.removeListener=function(t,e){let r=Nc.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(zF,this),r};Nt.prototype.off=Nt.prototype.removeListener;Nt.prototype.removeAllListeners=function(t){let e=Nc.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(zF,this),e};function zF(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Fd]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function ahe(t){Qt("readable nexttick read 0"),t.read(0)}Nt.prototype.resume=function(){let t=this._readableState;return t.flowing||(Qt("resume"),t.flowing=!t.readableListening,she(this,t)),t[Fd]=!1,this};function she(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(ohe,t,e))}function ohe(t,e){Qt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),WF(t),e.flowing&&!e.reading&&t.read(0)}Nt.prototype.pause=function(){return Qt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Qt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Fd]=!0,this};function WF(t){let e=t._readableState;for(Qt("flow",e.flowing);e.flowing&&t.read()!==null;);}Nt.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{C0(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=qfe(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};Nt.prototype[Ffe]=function(){return KF(this)};Nt.prototype.iterator=function(t){return t!==void 0&&Yfe(t,"options"),KF(this,t)};function KF(t,e){typeof t.read!="function"&&(t=Nt.wrap(t,{objectMode:!0}));let r=uhe(t,e);return r.stream=t,r}async function*uhe(t,e){let r=uI;function n(s){this===t?(r(),r=uI):r=s}t.on("readable",n);let i,a=Hfe(t,{writable:!1},s=>{i=s?BF(i,s):null,r(),r=uI});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else{if(i)throw i;if(i===null)return;await new Lfe(n)}}}catch(s){throw i=BF(i,s),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?j0.destroyer(t,null):(t.off("readable",n),a())}}VF(Nt.prototype,{readable:{get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{get(){return this._readableState?this._readableState.closed:!1}},destroyed:{enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){!this._readableState||(this._readableState.destroyed=t)}},readableEnded:{enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});VF(fI.prototype,{pipesCount:{get(){return this.pipes.length}},paused:{get(){return this[Fd]!==!1},set(t){this[Fd]=!!t}}});Nt._fromList=XF;function XF(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function lI(t){let e=t._readableState;Qt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(che,e,t))}function che(t,e){if(Qt("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)process.nextTick(lhe,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function lhe(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}Nt.from=function(t,e){return Zfe(Nt,t,e)};var dI;function $F(){return dI===void 0&&(dI={}),dI}Nt.fromWeb=function(t,e){return $F().newStreamReadableFromReadableStream(t,e)};Nt.toWeb=function(t){return $F().newReadableStreamFromStreamReadable(t)};Nt.wrap=function(t,e){var r,n;return new Nt({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,a){j0.destroyer(t,i),a(i)}}).wrap(t)}});var mI=_((jje,cB)=>{"use strict";var{ArrayPrototypeSlice:eB,Error:dhe,FunctionPrototypeSymbolHasInstance:tB,ObjectDefineProperty:rB,ObjectDefineProperties:fhe,ObjectSetPrototypeOf:nB,StringPrototypeToLowerCase:hhe,Symbol:phe,SymbolHasInstance:_he}=bn();cB.exports=Xr;Xr.WritableState=Wy;var{EventEmitter:yhe}=vu(),Qy=Iv().Stream,Fv=Ld(),{addAbortSignal:bhe}=Nv(),{getHighWaterMark:ghe,getDefaultHighWaterMark:mhe}=nI(),{ERR_INVALID_ARG_TYPE:vhe,ERR_METHOD_NOT_IMPLEMENTED:whe,ERR_MULTIPLE_CALLBACK:iB,ERR_STREAM_CANNOT_PIPE:She,ERR_STREAM_DESTROYED:zy,ERR_STREAM_ALREADY_FINISHED:The,ERR_STREAM_NULL_VALUES:Ehe,ERR_STREAM_WRITE_AFTER_END:Ohe,ERR_UNKNOWN_ENCODING:aB}=ki().codes,{errorOrDestroy:q0}=Fv;nB(Xr.prototype,Qy.prototype);nB(Xr,Qy);function _I(){}var L0=phe("kOnFinished");function Wy(t,e,r){typeof r!="boolean"&&(r=e instanceof Co()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?ghe(this,t,"writableHighWaterMark",r):mhe(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Ahe.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Mv(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[L0]=[]}function Mv(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Wy.prototype.getBuffer=function(){return eB(this.buffered,this.bufferedIndex)};rB(Wy.prototype,"bufferedRequestCount",{get(){return this.buffered.length-this.bufferedIndex}});function Xr(t){let e=this instanceof Co();if(!e&&!tB(Xr,this))return new Xr(t);this._writableState=new Wy(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&bhe(t.signal,this)),Qy.call(this,t),Fv.construct(this,()=>{let r=this._writableState;r.writing||bI(this,r),gI(this,r)})}rB(Xr,_he,{value:function(t){return tB(this,t)?!0:this!==Xr?!1:t&&t._writableState instanceof Wy}});Xr.prototype.pipe=function(){q0(this,new She)};function sB(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Buffer.isEncoding(r))throw new aB(r);typeof n!="function"&&(n=_I)}if(e===null)throw new Ehe;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Buffer.from(e,r),r="buffer");else if(e instanceof Buffer)r="buffer";else if(Qy._isUint8Array(e))e=Qy._uint8ArrayToBuffer(e),r="buffer";else throw new vhe("chunk",["string","Buffer","Uint8Array"],e);let a;return i.ending?a=new Ohe:i.destroyed&&(a=new zy("write")),a?(process.nextTick(n,a),q0(t,a,!0),a):(i.pendingcb++,Rhe(t,i,e,r,n))}Xr.prototype.write=function(t,e,r){return sB(this,t,e,r)===!0};Xr.prototype.cork=function(){this._writableState.corked++};Xr.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||bI(this,t))};Xr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=hhe(e)),!Buffer.isEncoding(e))throw new aB(e);return this._writableState.defaultEncoding=e,this};function Rhe(t,e,r,n,i){let a=e.objectMode?1:r.length;e.length+=a;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==_I&&(e.allNoop=!1)):(e.writelen=a,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function YF(t,e,r,n,i,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new zy("write")):r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function ZF(t,e,r,n){--e.pendingcb,n(r),yI(e),q0(t,r)}function Ahe(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){q0(t,new iB);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?process.nextTick(ZF,t,r,e,i):ZF(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&bI(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},process.nextTick(xhe,r.afterWriteTickInfo)):oB(t,r,1,i))}function xhe({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,oB(t,e,r,n)}function oB(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&yI(e),gI(t,e)}function yI(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:a,callback:s}=t.buffered[i],o=t.objectMode?1:a.length;t.length-=o,s((e=t.errored)!==null&&e!==void 0?e:new zy("write"))}let r=t[L0].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new zy("end"))}Mv(t)}function bI(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,a=r.length-n;if(!a)return;let s=n;if(e.bufferProcessing=!0,a>1&&t._writev){e.pendingcb-=a-1;let o=e.allNoop?_I:d=>{for(let f=s;f<r.length;++f)r[f].callback(d)},u=e.allNoop&&s===0?r:eB(r,s);u.allBuffers=e.allBuffers,YF(t,e,!0,e.length,u,"",o),Mv(e)}else{do{let{chunk:o,encoding:u,callback:d}=r[s];r[s++]=null;let f=i?1:o.length;YF(t,e,!1,f,o,u,d)}while(s<r.length&&!e.writing);s===r.length?Mv(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}Xr.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new whe("_write()")};Xr.prototype._writev=null;Xr.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let a=sB(this,t,e);a instanceof dhe&&(i=a)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,gI(this,n,!0),n.ended=!0):n.finished?i=new The("end"):n.destroyed&&(i=new zy("end"))),typeof r=="function"&&(i||n.finished?process.nextTick(r,i):n[L0].push(r)),this};function Lv(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Ihe(t,e){let r=!1;function n(i){if(r){q0(t,i??iB());return}if(r=!0,e.pendingcb--,i){let a=e[L0].splice(0);for(let s=0;s<a.length;s++)a[s](i);q0(t,i,e.sync)}else Lv(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,process.nextTick(pI,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Phe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Ihe(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function gI(t,e,r){Lv(e)&&(Phe(t,e),e.pendingcb===0&&(r?(e.pendingcb++,process.nextTick((n,i)=>{Lv(i)?pI(n,i):i.pendingcb--},t,e)):Lv(e)&&(e.pendingcb++,pI(t,e))))}function pI(t,e){e.pendingcb--,e.finished=!0;let r=e[L0].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}fhe(Xr.prototype,{closed:{get(){return this._writableState?this._writableState.closed:!1}},destroyed:{get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{get(){return this._writableState?this._writableState.corked:0}},writableLength:{get(){return this._writableState&&this._writableState.length}},errored:{enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Nhe=Fv.destroy;Xr.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[L0].length)&&process.nextTick(yI,r),Nhe.call(this,t,e),this};Xr.prototype._undestroy=Fv.undestroy;Xr.prototype._destroy=function(t,e){e(t)};Xr.prototype[yhe.captureRejectionSymbol]=function(t){this.destroy(t)};var hI;function uB(){return hI===void 0&&(hI={}),hI}Xr.fromWeb=function(t,e){return uB().newStreamWritableFromWritableStream(t,e)};Xr.toWeb=function(t){return uB().newWritableStreamFromStreamWritable(t)}});var wB=_((qje,vB)=>{"use strict";var Dhe=Io(),{isReadable:Che,isWritable:jhe,isIterable:lB,isNodeStream:qhe,isReadableNodeStream:dB,isWritableNodeStream:fB,isDuplexNodeStream:Lhe}=Ic(),hB=Pc(),{AbortError:mB,codes:{ERR_INVALID_ARG_TYPE:Mhe,ERR_INVALID_RETURN_VALUE:pB}}=ki(),{destroyer:M0}=Ld(),Fhe=Co(),Bhe=Gy(),{createDeferredPromise:_B}=Po(),yB=oI(),bB=globalThis.Blob||Dhe.Blob,Uhe=typeof bB<"u"?function(e){return e instanceof bB}:function(e){return!1},Vhe=globalThis.AbortController||Uy().AbortController,{FunctionPrototypeCall:gB}=bn(),Bd=class extends Fhe{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};vB.exports=function t(e,r){if(Lhe(e))return e;if(dB(e))return Bv({readable:e});if(fB(e))return Bv({writable:e});if(qhe(e))return Bv({writable:!1,readable:!1});if(typeof e=="function"){let{value:i,write:a,final:s,destroy:o}=khe(e);if(lB(i))return yB(Bd,i,{objectMode:!0,write:a,final:s,destroy:o});let u=i?.then;if(typeof u=="function"){let d,f=gB(u,i,p=>{if(p!=null)throw new pB("nully","body",p)},p=>{M0(d,p)});return d=new Bd({objectMode:!0,readable:!1,write:a,final(p){s(async()=>{try{await f,process.nextTick(p,null)}catch(y){process.nextTick(p,y)}})},destroy:o})}throw new pB("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Uhe(e))return t(e.arrayBuffer());if(lB(e))return yB(Bd,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?dB(e?.readable)?e?.readable:t(e.readable):void 0,a=e!=null&&e.writable?fB(e?.writable)?e?.writable:t(e.writable):void 0;return Bv({readable:i,writable:a})}let n=e?.then;if(typeof n=="function"){let i;return gB(n,e,a=>{a!=null&&i.push(a),i.push(null)},a=>{M0(i,a)}),i=new Bd({objectMode:!0,writable:!1,read(){}})}throw new Mhe(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function khe(t){let{promise:e,resolve:r}=_B(),n=new Vhe,i=n.signal;return{value:t(async function*(){for(;;){let s=e;e=null;let{chunk:o,done:u,cb:d}=await s;if(process.nextTick(d),u)return;if(i.aborted)throw new mB(void 0,{cause:i.reason});({promise:e,resolve:r}=_B()),yield o}}(),{signal:i}),write(s,o,u){let d=r;r=null,d({chunk:s,done:!1,cb:u})},final(s){let o=r;r=null,o({done:!0,cb:s})},destroy(s,o){n.abort(),o(s)}}}function Bv(t){let e=t.readable&&typeof t.readable.read!="function"?Bhe.wrap(t.readable):t.readable,r=t.writable,n=!!Che(e),i=!!jhe(r),a,s,o,u,d;function f(p){let y=u;u=null,y?y(p):p?d.destroy(p):!n&&!i&&d.destroy()}return d=new Bd({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(hB(r,p=>{i=!1,p&&M0(e,p),f(p)}),d._write=function(p,y,g){r.write(p,y)?g():a=g},d._final=function(p){r.end(),s=p},r.on("drain",function(){if(a){let p=a;a=null,p()}}),r.on("finish",function(){if(s){let p=s;s=null,p()}})),n&&(hB(e,p=>{n=!1,p&&M0(e,p),f(p)}),e.on("readable",function(){if(o){let p=o;o=null,p()}}),e.on("end",function(){d.push(null)}),d._read=function(){for(;;){let p=e.read();if(p===null){o=d._read;return}if(!d.push(p))return}}),d._destroy=function(p,y){!p&&u!==null&&(p=new mB),o=null,a=null,s=null,u===null?y(p):(u=y,M0(r,p),M0(e,p))},d}});var Co=_((Lje,EB)=>{"use strict";var{ObjectDefineProperties:Hhe,ObjectGetOwnPropertyDescriptor:Ru,ObjectKeys:Ghe,ObjectSetPrototypeOf:SB}=bn();EB.exports=ks;var SI=Gy(),os=mI();SB(ks.prototype,SI.prototype);SB(ks,SI);{let t=Ghe(os.prototype);for(let e=0;e<t.length;e++){let r=t[e];ks.prototype[r]||(ks.prototype[r]=os.prototype[r])}}function ks(t){if(!(this instanceof ks))return new ks(t);SI.call(this,t),os.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Hhe(ks.prototype,{writable:Ru(os.prototype,"writable"),writableHighWaterMark:Ru(os.prototype,"writableHighWaterMark"),writableObjectMode:Ru(os.prototype,"writableObjectMode"),writableBuffer:Ru(os.prototype,"writableBuffer"),writableLength:Ru(os.prototype,"writableLength"),writableFinished:Ru(os.prototype,"writableFinished"),writableCorked:Ru(os.prototype,"writableCorked"),writableEnded:Ru(os.prototype,"writableEnded"),writableNeedDrain:Ru(os.prototype,"writableNeedDrain"),destroyed:{get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var vI;function TB(){return vI===void 0&&(vI={}),vI}ks.fromWeb=function(t,e){return TB().newStreamDuplexFromReadableWritablePair(t,e)};ks.toWeb=function(t){return TB().newReadableWritablePairFromDuplex(t)};var wI;ks.from=function(t){return wI||(wI=wB()),wI(t,"body")}});var OI=_((Mje,RB)=>{"use strict";var{ObjectSetPrototypeOf:OB,Symbol:Qhe}=bn();RB.exports=Au;var{ERR_METHOD_NOT_IMPLEMENTED:zhe}=ki().codes,EI=Co();OB(Au.prototype,EI.prototype);OB(Au,EI);var Ky=Qhe("kCallback");function Au(t){if(!(this instanceof Au))return new Au(t);EI.call(this,t),this._readableState.sync=!1,this[Ky]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Whe)}function TI(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Whe(){this._final!==TI&&TI.call(this)}Au.prototype._final=TI;Au.prototype._transform=function(t,e,r){throw new zhe("_transform()")};Au.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,a=n.length;this._transform(t,e,(s,o)=>{if(s){r(s);return}o!=null&&this.push(o),i.ended||a===n.length||n.length<n.highWaterMark||n.highWaterMark===0||n.length===0?r():this[Ky]=r})};Au.prototype._read=function(){if(this[Ky]){let t=this[Ky];this[Ky]=null,t()}}});var AI=_((Fje,xB)=>{"use strict";var{ObjectSetPrototypeOf:AB}=bn();xB.exports=F0;var RI=OI();AB(F0.prototype,RI.prototype);AB(F0,RI);function F0(t){if(!(this instanceof F0))return new F0(t);RI.call(this,t)}F0.prototype._transform=function(t,e,r){r(null,t)}});var Vv=_((Bje,qB)=>{"use strict";var{ArrayIsArray:Khe,Promise:Xhe,SymbolAsyncIterator:$he}=bn(),Uv=Pc(),{once:Jhe}=Po(),Yhe=Ld(),IB=Co(),{aggregateTwoErrors:Zhe,codes:{ERR_INVALID_ARG_TYPE:CB,ERR_INVALID_RETURN_VALUE:xI,ERR_MISSING_ARGS:epe,ERR_STREAM_DESTROYED:tpe},AbortError:rpe}=ki(),{validateFunction:npe,validateAbortSignal:ipe}=Vy(),{isIterable:B0,isReadable:II,isReadableNodeStream:DI,isNodeStream:PB}=Ic(),ape=globalThis.AbortController||Uy().AbortController,PI,NI;function NB(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=Uv(t,{readable:e,writable:r},a=>{n=!a});return{destroy:a=>{n||(n=!0,Yhe.destroyer(t,a||new tpe("pipe")))},cleanup:i}}function spe(t){return npe(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function ope(t){if(B0(t))return t;if(DI(t))return upe(t);throw new CB("val",["Readable","Iterable","AsyncIterable"],t)}async function*upe(t){NI||(NI=Gy()),yield*NI.prototype[$he].call(t)}async function DB(t,e,r,{end:n}){let i,a=null,s=d=>{if(d&&(i=d),a){let f=a;a=null,f()}},o=()=>new Xhe((d,f)=>{i?f(i):a=()=>{i?f(i):d()}});e.on("drain",s);let u=Uv(e,{readable:!1},s);try{e.writableNeedDrain&&await o();for await(let d of t)e.write(d)||await o();n&&e.end(),await o(),r()}catch(d){r(i!==d?Zhe(i,d):d)}finally{u(),e.off("drain",s)}}function cpe(...t){return jB(t,Jhe(spe(t)))}function jB(t,e,r){if(t.length===1&&Khe(t[0])&&(t=t[0]),t.length<2)throw new epe("streams");let n=new ape,i=n.signal,a=r?.signal,s=[];ipe(a,"options.signal");function o(){g(new rpe)}a?.addEventListener("abort",o);let u,d,f=[],p=0;function y(D){g(D,--p===0)}function g(D,O){if(D&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=D),!(!u&&!O)){for(;f.length;)f.shift()(u);a?.removeEventListener("abort",o),n.abort(),O&&(u||s.forEach(C=>C()),process.nextTick(e,u,d))}}let v;for(let D=0;D<t.length;D++){let O=t[D],C=D<t.length-1,R=D>0,w=C||r?.end!==!1,P=D===t.length-1;if(PB(O)){let T=function(te){te&&te.name!=="AbortError"&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"&&y(te)};if(w){let{destroy:te,cleanup:ee}=NB(O,C,R);f.push(te),II(O)&&P&&s.push(ee)}O.on("error",T),II(O)&&P&&s.push(()=>{O.removeListener("error",T)})}if(D===0)if(typeof O=="function"){if(v=O({signal:i}),!B0(v))throw new xI("Iterable, AsyncIterable or Stream","source",v)}else B0(O)||DI(O)?v=O:v=IB.from(O);else if(typeof O=="function")if(v=ope(v),v=O(v,{signal:i}),C){if(!B0(v,!0))throw new xI("AsyncIterable",`transform[${D-1}]`,v)}else{var E;PI||(PI=AI());let T=new PI({objectMode:!0}),te=(E=v)===null||E===void 0?void 0:E.then;if(typeof te=="function")p++,te.call(v,x=>{d=x,x!=null&&T.write(x),w&&T.end(),process.nextTick(y)},x=>{T.destroy(x),process.nextTick(y,x)});else if(B0(v,!0))p++,DB(v,T,y,{end:w});else throw new xI("AsyncIterable or Promise","destination",v);v=T;let{destroy:ee,cleanup:Y}=NB(v,!1,!0);f.push(ee),P&&s.push(Y)}else if(PB(O)){if(DI(v)){p+=2;let T=lpe(v,O,y,{end:w});II(O)&&P&&s.push(T)}else if(B0(v))p++,DB(v,O,y,{end:w});else throw new CB("val",["Readable","Iterable","AsyncIterable"],v);v=O}else v=IB.from(O)}return(i!=null&&i.aborted||a!=null&&a.aborted)&&process.nextTick(o),v}function lpe(t,e,r,{end:n}){return t.pipe(e,{end:n}),n?t.once("end",()=>e.end()):r(),Uv(t,{readable:!0,writable:!1},i=>{let a=t._readableState;i&&i.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(i)}),Uv(e,{readable:!1,writable:!0},r)}qB.exports={pipelineImpl:jB,pipeline:cpe}});var UB=_((Uje,BB)=>{"use strict";var{pipeline:dpe}=Vv(),kv=Co(),{destroyer:fpe}=Ld(),{isNodeStream:hpe,isReadable:LB,isWritable:MB}=Ic(),{AbortError:ppe,codes:{ERR_INVALID_ARG_VALUE:FB,ERR_MISSING_ARGS:_pe}}=ki();BB.exports=function(...e){if(e.length===0)throw new _pe("streams");if(e.length===1)return kv.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=kv.from(e[0])),typeof e[e.length-1]=="function"){let g=e.length-1;e[g]=kv.from(e[g])}for(let g=0;g<e.length;++g)if(!!hpe(e[g])){if(g<e.length-1&&!LB(e[g]))throw new FB(`streams[${g}]`,r[g],"must be readable");if(g>0&&!MB(e[g]))throw new FB(`streams[${g}]`,r[g],"must be writable")}let n,i,a,s,o;function u(g){let v=s;s=null,v?v(g):g?o.destroy(g):!y&&!p&&o.destroy()}let d=e[0],f=dpe(e,u),p=!!MB(d),y=!!LB(f);return o=new kv({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(f!=null&&f.writableObjectMode),writable:p,readable:y}),p&&(o._write=function(g,v,E){d.write(g,v)?E():n=E},o._final=function(g){d.end(),i=g},d.on("drain",function(){if(n){let g=n;n=null,g()}}),f.on("finish",function(){if(i){let g=i;i=null,g()}})),y&&(f.on("readable",function(){if(a){let g=a;a=null,g()}}),f.on("end",function(){o.push(null)}),o._read=function(){for(;;){let g=f.read();if(g===null){a=o._read;return}if(!o.push(g))return}}),o._destroy=function(g,v){!g&&s!==null&&(g=new ppe),a=null,n=null,i=null,s===null?v(g):(s=v,fpe(f,g))},o}});var CI=_((Vje,VB)=>{"use strict";var{ArrayPrototypePop:ype,Promise:bpe}=bn(),{isIterable:gpe,isNodeStream:mpe}=Ic(),{pipelineImpl:vpe}=Vv(),{finished:wpe}=Pc();function Spe(...t){return new bpe((e,r)=>{let n,i,a=t[t.length-1];if(a&&typeof a=="object"&&!mpe(a)&&!gpe(a)){let s=ype(t);n=s.signal,i=s.end}vpe(t,(s,o)=>{s?r(s):e(o)},{signal:n,end:i})})}VB.exports={finished:wpe,pipeline:Spe}});var JB=_((kje,$B)=>{"use strict";var{ObjectDefineProperty:xu,ObjectKeys:GB,ReflectApply:QB}=bn(),{promisify:{custom:zB}}=Po(),{streamReturningOperators:kB,promiseReturningOperators:HB}=pF(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:WB}}=ki(),Tpe=UB(),{pipeline:KB}=Vv(),{destroyer:Epe}=Ld(),XB=Pc(),jI=CI(),qI=Ic(),dn=$B.exports=Iv().Stream;dn.isDisturbed=qI.isDisturbed;dn.isErrored=qI.isErrored;dn.isReadable=qI.isReadable;dn.Readable=Gy();for(let t of GB(kB)){let r=function(...n){if(new.target)throw WB();return dn.Readable.from(QB(e,this,n))},e=kB[t];xu(r,"name",{value:e.name}),xu(r,"length",{value:e.length}),xu(dn.Readable.prototype,t,{value:r,enumerable:!1,configurable:!0,writable:!0})}for(let t of GB(HB)){let r=function(...n){if(new.target)throw WB();return QB(e,this,n)},e=HB[t];xu(r,"name",{value:e.name}),xu(r,"length",{value:e.length}),xu(dn.Readable.prototype,t,{value:r,enumerable:!1,configurable:!0,writable:!0})}dn.Writable=mI();dn.Duplex=Co();dn.Transform=OI();dn.PassThrough=AI();dn.pipeline=KB;var{addAbortSignal:Ope}=Nv();dn.addAbortSignal=Ope;dn.finished=XB;dn.destroy=Epe;dn.compose=Tpe;xu(dn,"promises",{configurable:!0,enumerable:!0,get(){return jI}});xu(KB,zB,{enumerable:!0,get(){return jI.pipeline}});xu(XB,zB,{enumerable:!0,get(){return jI.finished}});dn.Stream=dn;dn._isUint8Array=function(e){return e instanceof Uint8Array};dn._uint8ArrayToBuffer=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength)}});var qr=_((Hje,fn)=>{"use strict";var Rn=JB(),Rpe=CI(),Ape=Rn.Readable.destroy;fn.exports=Rn.Readable;fn.exports._uint8ArrayToBuffer=Rn._uint8ArrayToBuffer;fn.exports._isUint8Array=Rn._isUint8Array;fn.exports.isDisturbed=Rn.isDisturbed;fn.exports.isErrored=Rn.isErrored;fn.exports.isReadable=Rn.isReadable;fn.exports.Readable=Rn.Readable;fn.exports.Writable=Rn.Writable;fn.exports.Duplex=Rn.Duplex;fn.exports.Transform=Rn.Transform;fn.exports.PassThrough=Rn.PassThrough;fn.exports.addAbortSignal=Rn.addAbortSignal;fn.exports.finished=Rn.finished;fn.exports.destroy=Rn.destroy;fn.exports.destroy=Ape;fn.exports.pipeline=Rn.pipeline;fn.exports.compose=Rn.compose;Object.defineProperty(Rn,"promises",{configurable:!0,enumerable:!0,get(){return Rpe}});fn.exports.Stream=Rn.Stream;fn.exports.default=fn.exports});var ZB=_(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0});Hv.ActorQueryResultSerializeJson=void 0;var xpe=Us(),YB=On(),Ipe=qr(),LI=class extends xpe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,r){if(!["bindings","quads","boolean"].includes(e.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(e,r,n){let i=new Ipe.Readable;i._read=()=>{};let a=!0;if(e.type==="bindings"){let s=e.bindingsStream;i.push("["),s.on("error",o=>i.emit("error",o)),s.on("data",o=>{i.push(a?`
`:`,
`),i.push(JSON.stringify(Object.fromEntries([...o].map(([u,d])=>[u.value,YB.termToString(d)])))),a=!1}),s.on("end",()=>{i.push(a?`]
`:`
]
`),i.push(null)})}else if(e.type==="quads"){let s=e.quadStream;i.push("["),s.on("error",o=>i.emit("error",o)),s.on("data",o=>{i.push(a?`
`:`,
`),i.push(JSON.stringify(YB.quadToStringQuad(o))),a=!1}),s.on("end",()=>{i.push(a?`]
`:`
]
`),i.push(null)})}else try{i.push(`${JSON.stringify(await e.execute())}
`),i.push(null)}catch(s){setTimeout(()=>i.emit("error",s))}return{data:i}}};Hv.ActorQueryResultSerializeJson=LI});var eU=_(Ud=>{"use strict";var Ppe=Ud&&Ud.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Npe=Ud&&Ud.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ppe(e,t,r)};Object.defineProperty(Ud,"__esModule",{value:!0});Npe(ZB(),Ud)});var tU=_(Gv=>{"use strict";Object.defineProperty(Gv,"__esModule",{value:!0});Gv.ActorQueryResultSerializeSimple=void 0;var Dpe=Us(),Cpe=qr(),MI=class extends Dpe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,r){if(!["bindings","quads","boolean","void"].includes(e.type))throw new Error("This actor can only handle bindings streams, quad streams, booleans, or updates.");return!0}async runHandle(e,r,n){let i=new Cpe.Readable;i._read=()=>{};let a;if(e.type==="bindings")a=e.bindingsStream,a.on("error",s=>i.emit("error",s)),a.on("data",s=>i.push(`${[...s].map(([o,u])=>`?${o.value}: ${u.value}`).join(`
`)}

`)),a.on("end",()=>i.push(null));else if(e.type==="quads")a=e.quadStream,a.on("error",s=>i.emit("error",s)),a.on("data",s=>i.push(`subject: ${s.subject.value}
predicate: ${s.predicate.value}
object: ${s.object.value}
graph: ${s.graph.value}

`)),a.on("end",()=>i.push(null));else if(e.type==="boolean")try{i.push(`${JSON.stringify(await e.execute())}
`),i.push(null)}catch(s){setTimeout(()=>i.emit("error",s))}else e.execute().then(()=>{i.push(`ok
`),i.push(null)}).catch(s=>setTimeout(()=>i.emit("error",s)));return{data:i}}};Gv.ActorQueryResultSerializeSimple=MI});var rU=_(Vd=>{"use strict";var jpe=Vd&&Vd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qpe=Vd&&Vd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jpe(e,t,r)};Object.defineProperty(Vd,"__esModule",{value:!0});qpe(tU(),Vd)});var nU=_(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.ActorQueryResultSerializeSparqlCsv=void 0;var Lpe=Us(),Mpe=qr(),Xy=class extends Lpe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToCsvBindings(e){if(!e)return"";let r=e.value;return e.termType==="Literal"?r=`${r}`:e.termType==="BlankNode"?r=`_:${r}`:r=`<${r}>`,/[",\n\r]/u.test(r)&&(r=`"${r.replace(/"/ug,'""')}"`),r}async testHandleChecked(e,r){if(e.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,r,n){let i=e,a=new Mpe.Readable;a._read=()=>{};let s=await i.metadata();return a.push(`${s.variables.map(o=>o.value).join(",")}\r
`),i.bindingsStream.on("error",o=>{a.emit("error",o)}),i.bindingsStream.on("data",o=>{a.push(`${s.variables.map(u=>Xy.bindingToCsvBindings(o.get(u))).join(",")}\r
`)}),i.bindingsStream.on("end",()=>{a.push(null)}),{data:a}}};Qv.ActorQueryResultSerializeSparqlCsv=Xy});var iU=_(kd=>{"use strict";var Fpe=kd&&kd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bpe=kd&&kd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Fpe(e,t,r)};Object.defineProperty(kd,"__esModule",{value:!0});Bpe(nU(),kd)});var cU=_(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.stringQuadToQuad=hi.quadToStringQuad=hi.stringToTerm=hi.getLiteralLanguage=hi.getLiteralType=hi.getLiteralValue=hi.termToString=void 0;var Upe=Bt(),aU=new Upe.DataFactory;function Iu(t){if(!!t)switch(t.termType){case"NamedNode":return"<"+t.value+">";case"BlankNode":return"_:"+t.value;case"Literal":let e=t;return'"'+e.value.replace(/"/ug,'\\"')+'"'+(e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&e.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^<"+e.datatype.value+">":"")+(e.language?"@"+e.language:"");case"Quad":return`<<${Iu(t.subject)} ${Iu(t.predicate)} ${Iu(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+Iu(t.graph)}>>`;case"Variable":return"?"+t.value;case"DefaultGraph":return t.value}}hi.termToString=Iu;function sU(t){let e=/^"([^]*)"((\^\^.*)|(@.*))?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1].replace(/\\"/ug,'"')}hi.getLiteralValue=sU;function oU(t){let e=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]||(e[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}hi.getLiteralType=oU;function uU(t){let e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]?e[1].toLowerCase():""}hi.getLiteralLanguage=uU;function Pu(t,e){if(e=e||aU,!t||!t.length)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":if(!e.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return e.variable(t.substr(1));case'"':let r=uU(t),n=e.namedNode(oU(t));return e.literal(sU(t),r||n);case"<":default:if(t.startsWith("<<")&&t.endsWith(">>")){let i=t.slice(2,-2),a=[],s=0,o=0;for(let u=0;u<i.length;u++){let d=i[u];if(d==="<"&&s++,d===">"){if(s===0)throw new Error("Found closing tag without opening tag in "+t);s--}d===" "&&s===0&&(a.push(i.slice(o,u)),o=u+1)}if(s!==0)throw new Error("Found opening tag without closing tag in "+t);if(a.push(i.slice(o,i.length)),a.length!==3&&a.length!==4)throw new Error("Nested quad syntax error "+t);return e.quad(Pu(a[0]),Pu(a[1]),Pu(a[2]),a[3]?Pu(a[3]):void 0)}if(t.charAt(0)!=="<"||t.charAt(t.length-1)!==">")throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${t}`);return e.namedNode(t.substring(1,t.length-1))}}hi.stringToTerm=Pu;function Vpe(t){return{subject:Iu(t.subject),predicate:Iu(t.predicate),object:Iu(t.object),graph:Iu(t.graph)}}hi.quadToStringQuad=Vpe;function kpe(t,e){return e=e||aU,e.quad(Pu(t.subject,e),Pu(t.predicate,e),Pu(t.object,e),Pu(t.graph,e))}hi.stringQuadToQuad=kpe});var zv=_(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.termToString=pi.stringToTerm=pi.stringQuadToQuad=pi.quadToStringQuad=pi.getLiteralValue=pi.getLiteralType=pi.getLiteralLanguage=void 0;var Hd=cU();Object.defineProperty(pi,"getLiteralLanguage",{enumerable:!0,get:function(){return Hd.getLiteralLanguage}});Object.defineProperty(pi,"getLiteralType",{enumerable:!0,get:function(){return Hd.getLiteralType}});Object.defineProperty(pi,"getLiteralValue",{enumerable:!0,get:function(){return Hd.getLiteralValue}});Object.defineProperty(pi,"quadToStringQuad",{enumerable:!0,get:function(){return Hd.quadToStringQuad}});Object.defineProperty(pi,"stringQuadToQuad",{enumerable:!0,get:function(){return Hd.stringQuadToQuad}});Object.defineProperty(pi,"stringToTerm",{enumerable:!0,get:function(){return Hd.stringToTerm}});Object.defineProperty(pi,"termToString",{enumerable:!0,get:function(){return Hd.termToString}})});var lU=_(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});Wv.ActorQueryResultSerializeSparqlTsv=void 0;var Hpe=Us(),Gpe=zv(),Qpe=qr(),$y=class extends Hpe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToTsvBindings(e){return e?(0,Gpe.termToString)(e).replace(/\t/gu,"\\t").replace(/\n/gu,"\\n").replace(/\r/gu,"\\r"):""}async testHandleChecked(e,r){if(e.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,r,n){let i=e,a=new Qpe.Readable;a._read=()=>{};let s=await i.metadata();return a.push(`${s.variables.map(o=>o.value).join("	")}
`),i.bindingsStream.on("error",o=>{a.emit("error",o)}),i.bindingsStream.on("data",o=>{a.push(`${s.variables.map(u=>$y.bindingToTsvBindings(o.get(u))).join("	")}
`)}),i.bindingsStream.on("end",()=>{a.push(null)}),{data:a}}};Wv.ActorQueryResultSerializeSparqlTsv=$y});var dU=_(Gd=>{"use strict";var zpe=Gd&&Gd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wpe=Gd&&Gd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zpe(e,t,r)};Object.defineProperty(Gd,"__esModule",{value:!0});Wpe(lU(),Gd)});var fU=_(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.XmlSerializer=void 0;var FI=class{constructor(e){this.stack=[],this.push=e,this.push(`<?xml version="1.0" encoding="UTF-8"?>
`)}open(e,r){this.push(`${this.identation()+this.formatTag(e,r,"open")}
`),this.stack.push(e)}close(){let e=this.stack.pop();if(e===void 0)throw new Error("There is no tag left to close");this.push(`${this.identation()+this.formatTag(e,{},"close")}
`)}add(e){this.push(this.serializeNode(e))}serializeNode(e){if(e.children===void 0)return`${this.identation()+this.formatTag(e.name,e.attributes,"self-closing")}
`;if(typeof e.children=="string")return`${this.identation()+this.formatTag(e.name,e.attributes,"open")+this.escape(e.children)+this.formatTag(e.name,{},"close")}
`;let r=[];r.push(`${this.identation()+this.formatTag(e.name,e.attributes,"open")}
`),this.stack.push(e.name);for(let n of e.children)r.push(this.serializeNode(n));return this.stack.pop(),r.push(`${this.identation()+this.formatTag(e.name,{},"close")}
`),r.join("")}identation(){return this.stack.map(e=>"  ").join("")}formatTag(e,r,n){return`<${n==="close"?"/":""}${e}${Object.entries(r||{}).map(i=>` ${i[0]}="${this.escape(i[1])}"`)}${n==="self-closing"?"/":""}>`}escape(e){return e.replace(/["&'<>]/gu,r=>{switch(r){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}};Kv.XmlSerializer=FI});var hU=_(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.ActorQueryResultSerializeSparqlXml=void 0;var Kpe=Us(),Xpe=qr(),$pe=fU(),Jy=class extends Kpe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToXmlBindings(e,r){return{name:"binding",attributes:{name:r.value},children:[this.valueToXmlValue(e)]}}static valueToXmlValue(e){let r;switch(e.termType){case"Literal":return e.language?r={"xml:lang":e.language}:e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?r={datatype:e.datatype.value}:r={},{name:"literal",attributes:r,children:e.value};case"BlankNode":return{name:"bnode",children:e.value};default:return{name:"uri",children:e.value}}}async testHandleChecked(e,r){if(!["bindings","boolean"].includes(e.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(e,r,n){let i=new Xpe.Readable;i._read=()=>{};let a=new $pe.XmlSerializer(o=>i.push(o));a.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"});let s=await e.metadata();if(a.add({name:"head",children:s.variables.map(o=>({name:"variable",attributes:{name:o.value}}))}),e.type==="bindings"){a.open("results");let o=e.bindingsStream;o.on("error",u=>{i.emit("error",u)}),o.on("data",u=>{a.add({name:"result",children:[...u].map(([d,f])=>Jy.bindingToXmlBindings(f,d))})}),o.on("end",()=>{a.close(),a.close(),setTimeout(()=>i.push(null))})}else try{let o=await e.execute();a.add({name:"boolean",children:o.toString()}),a.close(),setTimeout(()=>i.push(null))}catch(o){setTimeout(()=>i.emit("error",o))}return{data:i}}};Xv.ActorQueryResultSerializeSparqlXml=Jy});var pU=_(Qd=>{"use strict";var Jpe=Qd&&Qd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ype=Qd&&Qd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Jpe(e,t,r)};Object.defineProperty(Qd,"__esModule",{value:!0});Ype(hU(),Qd)});var yU=_($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.ActorQueryResultSerializeTable=void 0;var Zpe=Us(),e0e=Bt(),_U=vo(),t0e=qr(),r0e=new e0e.DataFactory,n0e=_U.QUAD_TERM_NAMES.map(t=>r0e.variable(t)),U0=class extends Zpe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e),this.padding=U0.repeat(" ",this.columnWidth)}static repeat(e,r){return new Array(r+1).join(e)}async testHandleChecked(e,r){if(!["bindings","quads"].includes(e.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}pad(e){return e.length<=this.columnWidth?e+this.padding.slice(e.length):`${e.slice(0,this.columnWidth-1)}\u2026`}pushHeader(e,r){let n=r.map(i=>this.pad(i.value)).join(" ");e.push(`${n}
${U0.repeat("-",n.length)}
`)}pushRow(e,r,n){e.push(`${r.map(i=>n.get(i)?.value||"").map(i=>this.pad(i)).join(" ")}
`)}async runHandle(e,r,n){let i=new t0e.Readable;i._read=()=>{};let a;if(e.type==="bindings"){a=e.bindingsStream;let s=(await e.metadata()).variables;this.pushHeader(i,s),a.on("error",o=>i.emit("error",o)),a.on("data",o=>this.pushRow(i,s,o))}else a=e.quadStream,this.pushHeader(i,n0e),a.on("error",s=>i.emit("error",s)),a.on("data",s=>i.push(`${(0,_U.getTerms)(s).map(o=>this.pad(o.value)).join(" ")}
`));return a.on("end",()=>i.push(null)),{data:i}}};$v.ActorQueryResultSerializeTable=U0});var bU=_(zd=>{"use strict";var i0e=zd&&zd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),a0e=zd&&zd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&i0e(e,t,r)};Object.defineProperty(zd,"__esModule",{value:!0});a0e(yU(),zd)});var Wd=_(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.Translator=void 0;var BI=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(e){throw new Error(`Invalid RDF ${e.datatype.value} value: '${e.value}'`)}registerHandler(e,r,n){for(let i of r)this.supportedRdfDatatypes.push(i),this.fromRdfHandlers[i.value]=e;for(let i of n){let a=this.toRdfHandlers[i];a||(this.toRdfHandlers[i]=a=[]),a.push(e)}}fromRdf(e,r){let n=this.fromRdfHandlers[e.datatype.value];return n?n.fromRdf(e,r):e.value}toRdf(e,r){let n=this.toRdfHandlers[typeof e];if(n)for(let i of n){let a=i.toRdf(e,r);if(a)return a}throw new Error(`Invalid JavaScript value: '${e}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}};Jv.Translator=BI});var gU=_(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0});Yv.TypeHandlerBoolean=void 0;var s0e=Wd(),V0=class{fromRdf(e,r){switch(e.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return r&&s0e.Translator.incorrectRdfDataType(e),!1}toRdf(e,{datatype:r,dataFactory:n}){return n.literal(e?"true":"false",r||n.namedNode(V0.TYPE))}};Yv.TypeHandlerBoolean=V0;V0.TYPE="http://www.w3.org/2001/XMLSchema#boolean"});var mU=_(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.TypeHandlerDate=void 0;var o0e=Wd(),Dc=class{fromRdf(e,r){switch(r&&!e.value.match(Dc.VALIDATORS[e.datatype.value.substr(33,e.datatype.value.length)])&&o0e.Translator.incorrectRdfDataType(e),e.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(e.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":let n=e.value.split("-");return new Date(0,parseInt(n[0],10)-1,parseInt(n[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(e.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(e.value+"-01");default:return new Date(e.value)}}toRdf(e,{datatype:r,dataFactory:n}){if(r=r||n.namedNode(Dc.TYPES[0]),!(e instanceof Date))return null;let i=e,a;switch(r.value){case"http://www.w3.org/2001/XMLSchema#gDay":a=String(i.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":a=i.getUTCMonth()+1+"-"+i.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":a=String(i.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":a=i.getUTCFullYear()+"-"+(i.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":a=i.toISOString().replace(/T.*$/,"");break;default:a=i.toISOString()}return n.literal(a,r)}};Zv.TypeHandlerDate=Dc;Dc.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"];Dc.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/}});var vU=_(e2=>{"use strict";Object.defineProperty(e2,"__esModule",{value:!0});e2.TypeHandlerNumberDouble=void 0;var u0e=Wd(),k0=class{fromRdf(e,r){let n=parseFloat(e.value);return r&&isNaN(n)&&u0e.Translator.incorrectRdfDataType(e),n}toRdf(e,{datatype:r,dataFactory:n}){return r=r||n.namedNode(k0.TYPES[0]),isNaN(e)?n.literal("NaN",r):isFinite(e)?e%1===0?null:n.literal(e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),r):n.literal(e>0?"INF":"-INF",r)}};e2.TypeHandlerNumberDouble=k0;k0.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"]});var wU=_(t2=>{"use strict";Object.defineProperty(t2,"__esModule",{value:!0});t2.TypeHandlerNumberInteger=void 0;var c0e=Wd(),Hs=class{fromRdf(e,r){let n=parseInt(e.value,10);return r&&(isNaN(n)||e.value.indexOf(".")>=0)&&c0e.Translator.incorrectRdfDataType(e),n}toRdf(e,{datatype:r,dataFactory:n}){return n.literal(String(e),r||(e<=Hs.MAX_INT&&e>=Hs.MIN_INT?n.namedNode(Hs.TYPES[0]):n.namedNode(Hs.TYPES[1])))}};t2.TypeHandlerNumberInteger=Hs;Hs.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"];Hs.MAX_INT=2147483647;Hs.MIN_INT=-2147483648});var SU=_(n2=>{"use strict";Object.defineProperty(n2,"__esModule",{value:!0});n2.TypeHandlerString=void 0;var r2=class{fromRdf(e){return e.value}toRdf(e,{datatype:r,dataFactory:n}){return n.literal(e,r)}};n2.TypeHandlerString=r2;r2.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"]});var UI=_(Gs=>{"use strict";var l0e=Gs&&Gs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yy=Gs&&Gs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&l0e(e,t,r)};Object.defineProperty(Gs,"__esModule",{value:!0});Yy(gU(),Gs);Yy(mU(),Gs);Yy(vU(),Gs);Yy(wU(),Gs);Yy(SU(),Gs)});var EU=_(TU=>{"use strict";Object.defineProperty(TU,"__esModule",{value:!0})});var RU=_(An=>{"use strict";var d0e=An&&An.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VI=An&&An.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&d0e(e,t,r)};Object.defineProperty(An,"__esModule",{value:!0});An.getSupportedJavaScriptPrimitives=An.getSupportedRdfDatatypes=An.getTermRaw=An.toRdf=An.fromRdf=void 0;var f0e=Bt(),jo=UI(),h0e=Wd();VI(UI(),An);VI(EU(),An);VI(Wd(),An);var H0=new f0e.DataFactory,Nu=new h0e.Translator;Nu.registerHandler(new jo.TypeHandlerString,jo.TypeHandlerString.TYPES.map(t=>H0.namedNode(t)),["string"]);Nu.registerHandler(new jo.TypeHandlerBoolean,[jo.TypeHandlerBoolean.TYPE].map(t=>H0.namedNode(t)),["boolean"]);Nu.registerHandler(new jo.TypeHandlerNumberDouble,jo.TypeHandlerNumberDouble.TYPES.map(t=>H0.namedNode(t)),["number"]);Nu.registerHandler(new jo.TypeHandlerNumberInteger,jo.TypeHandlerNumberInteger.TYPES.map(t=>H0.namedNode(t)),["number"]);Nu.registerHandler(new jo.TypeHandlerDate,jo.TypeHandlerDate.TYPES.map(t=>H0.namedNode(t)),["object"]);function OU(t,e){return Nu.fromRdf(t,e)}An.fromRdf=OU;function p0e(t,e){return e&&"namedNode"in e&&(e={dataFactory:e}),e=e||{},e&&!e.dataFactory&&(e.dataFactory=H0),Nu.toRdf(t,e)}An.toRdf=p0e;function _0e(t,e){return t.termType==="Literal"?OU(t,e):t.value}An.getTermRaw=_0e;function y0e(){return Nu.getSupportedRdfDatatypes()}An.getSupportedRdfDatatypes=y0e;function b0e(){return Nu.getSupportedJavaScriptPrimitives()}An.getSupportedJavaScriptPrimitives=b0e});var QI=_((pqe,KU)=>{var qt={},VU=qt.LEFT_BRACE=1,s2=qt.RIGHT_BRACE=2,kU=qt.LEFT_BRACKET=3,GI=qt.RIGHT_BRACKET=4,o2=qt.COLON=5,u2=qt.COMMA=6,HU=qt.TRUE=7,GU=qt.FALSE=8,QU=qt.NULL=9,c2=qt.STRING=10,zU=qt.NUMBER=11,Kd=qt.START=17,WU=qt.STOP=18,AU=qt.TRUE1=33,xU=qt.TRUE2=34,IU=qt.TRUE3=35,PU=qt.FALSE1=49,NU=qt.FALSE2=50,DU=qt.FALSE3=51,CU=qt.FALSE4=52,jU=qt.NULL1=65,qU=qt.NULL2=66,LU=qt.NULL3=67,MU=qt.NUMBER1=81,kI=qt.NUMBER3=83,Qs=qt.STRING1=97,FU=qt.STRING2=98,BU=qt.STRING3=99,g0e=qt.STRING4=100,m0e=qt.STRING5=101,UU=qt.STRING6=102,G0=qt.VALUE=113,HI=qt.KEY=114,i2=qt.OBJECT=129,a2=qt.ARRAY=130,v0e="\\".charCodeAt(0),w0e="/".charCodeAt(0),S0e="\b".charCodeAt(0),T0e="\f".charCodeAt(0),E0e=`
`.charCodeAt(0),O0e="\r".charCodeAt(0),R0e="	".charCodeAt(0),l2=64*1024;function Cc(){this.tState=Kd,this.value=void 0,this.string=void 0,this.stringBuffer=Buffer.alloc?Buffer.alloc(l2):new Buffer(l2),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=G0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.offset=-1}Cc.toknam=function(t){for(var e=Object.keys(qt),r=0,n=e.length;r<n;r++){var i=e[r];if(qt[i]===t)return i}return t&&"0x"+t.toString(16)};var us=Cc.prototype;us.onError=function(t){throw t};us.charError=function(t,e){this.tState=WU,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+Cc.toknam(this.tState)))};us.appendStringChar=function(t){this.stringBufferOffset>=l2&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t};us.appendStringBuf=function(t,e,r){var n=t.length;typeof e=="number"&&(typeof r=="number"?r<0?n=t.length-e+r:n=r-e:n=t.length-e),n<0&&(n=0),this.stringBufferOffset+n>l2&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,r),this.stringBufferOffset+=n};us.write=function(t){typeof t=="string"&&(t=new Buffer(t));for(var e,r=0,n=t.length;r<n;r++)if(this.tState===Kd){if(e=t[r],this.offset++,e===123)this.onToken(VU,"{");else if(e===125)this.onToken(s2,"}");else if(e===91)this.onToken(kU,"[");else if(e===93)this.onToken(GI,"]");else if(e===58)this.onToken(o2,":");else if(e===44)this.onToken(u2,",");else if(e===116)this.tState=AU;else if(e===102)this.tState=PU;else if(e===110)this.tState=jU;else if(e===34)this.string="",this.stringBufferOffset=0,this.tState=Qs;else if(e===45)this.string="-",this.tState=MU;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=kI;else if(!(e===32||e===9||e===10||e===13))return this.charError(t,r)}else if(this.tState===Qs)if(e=t[r],this.bytes_remaining>0){for(var i=0;i<this.bytes_remaining;i++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+i]=t[i];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+i-1}else if(this.bytes_remaining===0&&e>=128){if(e<=193||e>244)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+Cc.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>t.length){for(var a=0;a<=t.length-1-r;a++)this.temp_buffs[this.bytes_in_sequence][a]=t[r+a];this.bytes_remaining=r+this.bytes_in_sequence-t.length,r=t.length-1}else this.appendStringBuf(t,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(e===34)this.tState=Kd,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(c2,this.string),this.offset+=Buffer.byteLength(this.string,"utf8")+1,this.string=void 0;else if(e===92)this.tState=FU;else if(e>=32)this.appendStringChar(e);else return this.charError(t,r);else if(this.tState===FU)if(e=t[r],e===34)this.appendStringChar(e),this.tState=Qs;else if(e===92)this.appendStringChar(v0e),this.tState=Qs;else if(e===47)this.appendStringChar(w0e),this.tState=Qs;else if(e===98)this.appendStringChar(S0e),this.tState=Qs;else if(e===102)this.appendStringChar(T0e),this.tState=Qs;else if(e===110)this.appendStringChar(E0e),this.tState=Qs;else if(e===114)this.appendStringChar(O0e),this.tState=Qs;else if(e===116)this.appendStringChar(R0e),this.tState=Qs;else if(e===117)this.unicode="",this.tState=BU;else return this.charError(t,r);else if(this.tState===BU||this.tState===g0e||this.tState===m0e||this.tState===UU)if(e=t[r],e>=48&&e<64||e>64&&e<=70||e>96&&e<=102){if(this.unicode+=String.fromCharCode(e),this.tState++===UU){var s=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&s>=56320&&s<57343+1?(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate,s))),this.highSurrogate=void 0):this.highSurrogate===void 0&&s>=55296&&s<56319+1?this.highSurrogate=s:(this.highSurrogate!==void 0&&(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new Buffer(String.fromCharCode(s)))),this.tState=Qs}}else return this.charError(t,r);else if(this.tState===MU||this.tState===kI)switch(e=t[r],e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=kI;break;default:this.tState=Kd;var o=Number(this.string);if(isNaN(o))return this.charError(t,r);this.string.match(/[0-9]+/)==this.string&&o.toString()!=this.string?this.onToken(c2,this.string):this.onToken(zU,o),this.offset+=this.string.length-1,this.string=void 0,r--;break}else if(this.tState===AU)if(t[r]===114)this.tState=xU;else return this.charError(t,r);else if(this.tState===xU)if(t[r]===117)this.tState=IU;else return this.charError(t,r);else if(this.tState===IU)if(t[r]===101)this.tState=Kd,this.onToken(HU,!0),this.offset+=3;else return this.charError(t,r);else if(this.tState===PU)if(t[r]===97)this.tState=NU;else return this.charError(t,r);else if(this.tState===NU)if(t[r]===108)this.tState=DU;else return this.charError(t,r);else if(this.tState===DU)if(t[r]===115)this.tState=CU;else return this.charError(t,r);else if(this.tState===CU)if(t[r]===101)this.tState=Kd,this.onToken(GU,!1),this.offset+=4;else return this.charError(t,r);else if(this.tState===jU)if(t[r]===117)this.tState=qU;else return this.charError(t,r);else if(this.tState===qU)if(t[r]===108)this.tState=LU;else return this.charError(t,r);else if(this.tState===LU)if(t[r]===108)this.tState=Kd,this.onToken(QU,null),this.offset+=3;else return this.charError(t,r)};us.onToken=function(t,e){};us.parseError=function(t,e){this.tState=WU,this.onError(new Error("Unexpected "+Cc.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+Cc.toknam(this.state)))};us.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})};us.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=G0)};us.emit=function(t){this.mode&&(this.state=u2),this.onValue(t)};us.onValue=function(t){};us.onToken=function(t,e){if(this.state===G0)if(t===c2||t===zU||t===HU||t===GU||t===QU)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===VU)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=HI,this.mode=i2;else if(t===kU)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=a2,this.state=G0;else if(t===s2)if(this.mode===i2)this.pop();else return this.parseError(t,e);else if(t===GI)if(this.mode===a2)this.pop();else return this.parseError(t,e);else return this.parseError(t,e);else if(this.state===HI)if(t===c2)this.key=e,this.state=o2;else if(t===s2)this.pop();else return this.parseError(t,e);else if(this.state===o2)if(t===o2)this.state=G0;else return this.parseError(t,e);else if(this.state===u2)if(t===u2)this.mode===a2?(this.key++,this.state=G0):this.mode===i2&&(this.state=HI);else if(t===GI&&this.mode===a2||t===s2&&this.mode===i2)this.pop();else return this.parseError(t,e);else return this.parseError(t,e)};Cc.C=qt;KU.exports=Cc});var $U=_(d2=>{"use strict";Object.defineProperty(d2,"__esModule",{value:!0});d2.SparqlJsonParser=void 0;var A0e=Bt(),x0e=qr(),XU=QI(),zI=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||new A0e.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseJsonResults(e){return e.results.bindings.map(r=>this.parseJsonBindings(r))}parseJsonResultsStream(e){let r=o=>s.emit("error",o);e.on("error",r);let n=new XU;n.onError=r;let i=!1,a=!1;n.onValue=o=>{n.key==="vars"&&n.stack.length===2&&n.stack[1].key==="head"?(s.emit("variables",o.map(u=>this.dataFactory.variable(u))),i=!0):n.key==="results"&&n.stack.length===1?a=!0:typeof n.key=="number"&&n.stack.length===3&&n.stack[1].key==="results"&&n.stack[2].key==="bindings"?s.push(this.parseJsonBindings(o)):n.key==="metadata"&&n.stack.length===1&&s.emit("metadata",o)};let s=e.on("end",o=>{a?i||s.emit("variables",[]):s.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new x0e.Transform({objectMode:!0,transform(o,u,d){n.write(o),d()}}));return s}parseJsonBindings(e){let r={};for(let n in e){let i=e[n],a=null;switch(i.type){case"bnode":a=this.dataFactory.blankNode(i.value);break;case"literal":i["xml:lang"]?a=this.dataFactory.literal(i.value,i["xml:lang"]):i.datatype?a=this.dataFactory.literal(i.value,this.dataFactory.namedNode(i.datatype)):a=this.dataFactory.literal(i.value);break;case"typed-literal":a=this.dataFactory.literal(i.value,this.dataFactory.namedNode(i.datatype));break;default:a=this.dataFactory.namedNode(i.value);break}r[this.prefixVariableQuestionMark?"?"+n:n]=a}return r}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise((r,n)=>{let i=new XU;i.onError=n,i.onValue=a=>{i.key==="boolean"&&typeof a=="boolean"&&i.stack.length===1&&r(a)},e.on("error",n).on("data",a=>i.write(a)).on("end",()=>n(new Error("No valid ASK response was found.")))})}};d2.SparqlJsonParser=zI});var WI=_(Xd=>{"use strict";var I0e=Xd&&Xd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),P0e=Xd&&Xd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&I0e(e,t,r)};Object.defineProperty(Xd,"__esModule",{value:!0});P0e($U(),Xd)});var JU=_(f2=>{"use strict";Object.defineProperty(f2,"__esModule",{value:!0});f2.Converter=void 0;var N0e=RU(),D0e=WI(),cs=class{constructor(e){e=e||{delimiter:"_"},e.prefixVariableQuestionMark=!1,this.delimiter=e.delimiter||"_",this.parser=new D0e.SparqlJsonParser(e),this.materializeRdfJsTerms=e.materializeRdfJsTerms}static addValueToTree(e,r,n,i,a,s){let o=r[0],u=i?i+s+o:o,d=a.singularizeVariables[u];if(r.length===1)d?e[o]||(e[o]=n):(e[o]||(e[o]=[]),e[o].push(n));else{let f;d?(e[o]||(e[o]={}),f=e[o]):(e[o]||(e[o]=[{}]),f=e[o][0]),cs.addValueToTree(f,r.slice(1),n,u,a,s)}}static mergeTrees(e,r){if(typeof e!=typeof r)throw new Error(`Two incompatible tree nodes were found: ${typeof e} and ${typeof r}`);if(Array.isArray(e)!==Array.isArray(r))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(e)} and Array?${Array.isArray(r)}`);if(typeof e=="object"&&typeof r=="object"){if(e.termType&&r.termType)return e.equals(r)?{valid:!0,result:e}:{valid:!1,result:e};if(Array.isArray(e)&&Array.isArray(r)){if(e.length>0){let n=[],i=!1;for(let a of e){let s=cs.mergeTrees(a,r[0]);s.valid?(i=!0,n.push(s.result)):n.push(a)}if(i)return{valid:!0,result:n}}return{valid:!0,result:e.concat(r)}}else{let n={};for(let i in r)n[i]=r[i];for(let i in e)if(n[i]){let a=cs.mergeTrees(e[i],n[i]);if(a.valid)n[i]=a.result;else return{valid:!1,result:e}}else n[i]=e[i];return{valid:!0,result:n}}}else throw new Error(`Unmergable tree types: ${typeof e} and ${typeof r}`)}static materializeTree(e){if(e.termType)return(0,N0e.getTermRaw)(e);if(Array.isArray(e))return e.map(cs.materializeTree);{let r={};for(let n in e)r[n]=cs.materializeTree(e[n]);return r}}sparqlJsonResultsToTree(e,r){return this.bindingsToTree(this.parser.parseJsonResults(e),r||{singularizeVariables:{}})}bindingsToTree(e,r){let n=r&&r.singularizeVariables[""],i=n?{}:[];for(let a of e){let s=n?{}:[{}];for(let o in a){let u=o.split(this.delimiter),d=a[o];cs.addValueToTree(n?s:s[0],u,d,"",r,this.delimiter)}i=cs.mergeTrees(i,s).result}return this.materializeRdfJsTerms&&(i=cs.materializeTree(i)),i}};f2.Converter=cs});var YU=_($d=>{"use strict";var C0e=$d&&$d.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),j0e=$d&&$d.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&C0e(e,t,r)};Object.defineProperty($d,"__esModule",{value:!0});j0e(JU(),$d)});var KI=_(h2=>{"use strict";Object.defineProperty(h2,"__esModule",{value:!0});h2.ActorQueryResultSerializeTree=void 0;var q0e=Us(),L0e=Cr(),M0e=Je(),F0e=qr(),B0e=YU(),Zy=class extends q0e.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingsStreamToGraphQl(e,r,n){let i=M0e.ActionContext.ensureActionContext(r);return new Promise((a,s)=>{let o=[],u=new B0e.Converter(n),d={singularizeVariables:i.get(L0e.KeysInitQuery.graphqlSingularizeVariables)||{}};e.on("error",s),e.on("data",f=>{o.push(Object.fromEntries([...f].map(([p,y])=>[p.value,y])))}),e.on("end",()=>{a(u.bindingsToTree(o,d))})})}async testHandleChecked(e){if(e.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,r){let n=new F0e.Readable;n._read=()=>{};let i=e.bindingsStream;return i.on("error",a=>n.emit("error",a)),Zy.bindingsStreamToGraphQl(i,e.context,{materializeRdfJsTerms:!0}).then(a=>{n.push(JSON.stringify(a,null,"  ")),n.push(null)}).catch(a=>n.emit("error",a)),{data:n}}};h2.ActorQueryResultSerializeTree=Zy});var ZU=_(Du=>{"use strict";var U0e=Du&&Du.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),V0e=Du&&Du.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&U0e(e,t,r)};Object.defineProperty(Du,"__esModule",{value:!0});Du.bindingsStreamToGraphQl=void 0;V0e(KI(),Du);var k0e=KI(),{bindingsStreamToGraphQl:H0e}=k0e.ActorQueryResultSerializeTree;Du.bindingsStreamToGraphQl=H0e});var eV=_(p2=>{"use strict";Object.defineProperty(p2,"__esModule",{value:!0});p2.MediatorAll=void 0;var G0e=Je(),XI=class extends G0e.Mediator{constructor(e){super(e)}async mediate(e){let r=[],n;try{n=this.publish(e)}catch{n=[]}for(let a of n)try{await a.reply,r.push(a.actor)}catch{}return(await Promise.all(r.map(a=>a.runObservable(e))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}};p2.MediatorAll=XI});var tV=_(Jd=>{"use strict";var Q0e=Jd&&Jd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z0e=Jd&&Jd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Q0e(e,t,r)};Object.defineProperty(Jd,"__esModule",{value:!0});z0e(eV(),Jd)});var JI=_(_2=>{"use strict";Object.defineProperty(_2,"__esModule",{value:!0});_2.ActorHttpInvalidate=void 0;var W0e=Je(),$I=class extends W0e.Actor{constructor(e){super(e)}};_2.ActorHttpInvalidate=$I});var rV=_(y2=>{"use strict";Object.defineProperty(y2,"__esModule",{value:!0});y2.ActorHttpInvalidateListenable=void 0;var K0e=JI(),YI=class extends K0e.ActorHttpInvalidate{constructor(e){super(e),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(e){this.invalidateListeners.push(e)}async test(e){return!0}async run(e){for(let r of this.invalidateListeners)r(e);return{}}};y2.ActorHttpInvalidateListenable=YI});var eb=_(jc=>{"use strict";var X0e=jc&&jc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nV=jc&&jc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&X0e(e,t,r)};Object.defineProperty(jc,"__esModule",{value:!0});nV(JI(),jc);nV(rV(),jc)});var iV=_(b2=>{"use strict";Object.defineProperty(b2,"__esModule",{value:!0});b2.ActorRdfSerialize=void 0;var $0e=Nd(),ZI=class extends $0e.ActorAbstractMediaTyped{constructor(e){super(e)}};b2.ActorRdfSerialize=ZI});var aV=_(g2=>{"use strict";Object.defineProperty(g2,"__esModule",{value:!0});g2.ActorRdfSerializeFixedMediaTypes=void 0;var J0e=Nd(),eP=class extends J0e.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}};g2.ActorRdfSerializeFixedMediaTypes=eP});var tP=_(qc=>{"use strict";var Y0e=qc&&qc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sV=qc&&qc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Y0e(e,t,r)};Object.defineProperty(qc,"__esModule",{value:!0});sV(iV(),qc);sV(aV(),qc)});var Q0=_(m2=>{"use strict";Object.defineProperty(m2,"__esModule",{value:!0});m2.default=void 0;var tb="http://www.w3.org/1999/02/22-rdf-syntax-ns#",rb="http://www.w3.org/2001/XMLSchema#",rP="http://www.w3.org/2000/10/swap/",Z0e={xsd:{decimal:`${rb}decimal`,boolean:`${rb}boolean`,double:`${rb}double`,integer:`${rb}integer`,string:`${rb}string`},rdf:{type:`${tb}type`,nil:`${tb}nil`,first:`${tb}first`,rest:`${tb}rest`,langString:`${tb}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${rP}reify#forSome`,forAll:`${rP}reify#forAll`},log:{implies:`${rP}log#implies`}};m2.default=Z0e});var cV=_((Pqe,uV)=>{var oV;uV.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):t=>(oV||(oV=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var iP=_(w2=>{"use strict";Object.defineProperty(w2,"__esModule",{value:!0});w2.default=void 0;var e_e=dV(Q0()),t_e=dV(cV());function dV(t){return t&&t.__esModule?t:{default:t}}var{xsd:v2}=e_e.default,r_e=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,lV={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},n_e=/[\x00-\x20<>\\"\{\}\|\^\`]/,i_e={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},a_e=/$0^/,nP=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(let r in this)!(r in i_e)&&this[r]instanceof RegExp&&(this[r]=a_e)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,i=n.length;for(;;){let o,u;for(;o=this._newline.exec(n);)this._comments&&(u=this._comment.exec(o[0]))&&a("comment",u[1],"",this._line,o[0].length),n=n.substr(o[0].length,n.length),i=n.length,this._line++;if(!o&&(o=this._whitespace.exec(n))&&(n=n.substr(o[0].length,n.length)),this._endOfFile.test(n))return r&&(this._comments&&(u=this._comment.exec(n))&&a("comment",u[1],"",this._line,n.length),n=null,a("eof","","",this._line,0)),this._input=n;let d=this._line,f=n[0],p="",y="",g="",v=null,E=0,D=!1;switch(f){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){D=!0;break}}else{this._n3Mode&&(E=1,p="^");break}case"<":if(v=this._unescapedIri.exec(n))p="IRI",y=v[1];else if(v=this._iri.exec(n)){if(y=this._unescape(v[1]),y===null||n_e.test(y))return s(this);p="IRI"}else n.length>1&&n[1]==="<"?(p="<<",E=2):this._n3Mode&&n.length>1&&n[1]==="="&&(p="inverse",E=2,y=">");break;case">":n.length>1&&n[1]===">"&&(p=">>",E=2);break;case"_":((v=this._blank.exec(n))||r&&(v=this._blank.exec(`${n} `)))&&(p="blank",g="_",y=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(n))y=v[1];else if({value:y,matchLength:E}=this._parseLiteral(n),y===null)return s(this);(v!==null||E!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(n))y=v[1];else if({value:y,matchLength:E}=this._parseLiteral(n),y===null)return s(this);(v!==null||E!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(n))&&(p="var",y=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(n))?(p="langcode",y=v[1]):(v=this._keyword.exec(n))&&(p=v[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){p=".",E=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(n)||r&&(v=this._number.exec(`${n} `)))&&(p="literal",y=v[0],g=typeof v[1]=="string"?v2.double:typeof v[2]=="string"?v2.decimal:v2.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(n))?p=v[0].toUpperCase():D=!0;break;case"f":case"t":(v=this._boolean.exec(n))?(p="literal",y=v[0],g=v2.boolean):D=!0;break;case"a":(v=this._shortPredicates.exec(n))?(p="abbreviation",y="a"):D=!0;break;case"=":this._n3Mode&&n.length>1&&(p="abbreviation",n[1]!==">"?(E=1,y="="):(E=2,y=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(E=1,p=f);break;default:D=!0}if(D&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(n))?(p="prefix",y=v[1]||""):((v=this._prefixed.exec(n))||r&&(v=this._prefixed.exec(`${n} `)))&&(p="prefixed",g=v[1]||"",y=this._unescape(v[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?s(this):this._input=n;let O=E||v[0].length,C=a(p,y,g,d,O);this.previousToken=C,this._previousMarker=p,n=n.substr(O,n.length)}function a(o,u,d,f,p){let y=n?i-n.length:i,g=y+p,v={type:o,value:u,prefix:d,line:f,start:y,end:g};return e(null,v),v}function s(o){e(o._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1,n=e.replace(r_e,(i,a,s,o)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof s=="string"){let u=Number.parseInt(s,16);return u<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((u-=65536)>>10),56320+(u&1023))}return o in lV?lV[o]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){let r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length,i=Math.max(this._literalClosingPos,n);for(;(i=e.indexOf(r,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){let s=e.substring(n,i),o=s.split(/\r\n|\r|\n/).length-1,u=i+n;if(n===1&&o!==0||n===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(s),matchLength:u}}i++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;let r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")(0,t_e.default)(()=>this._tokenizeToEnd(r,!0));else{let n=[],i;if(this._tokenizeToEnd((a,s)=>a?i=a:n.push(s),!0),i)throw i;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=Buffer.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}};w2.default=nP});var S2=_(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.inDefaultGraph=f_e;qo.isBlankNode=c_e;qo.isDefaultGraph=fV;qo.isLiteral=l_e;qo.isNamedNode=u_e;qo.isVariable=d_e;qo.prefix=h_e;qo.prefixes=hV;var s_e=o_e(z0());function o_e(t){return t&&t.__esModule?t:{default:t}}function u_e(t){return!!t&&t.termType==="NamedNode"}function c_e(t){return!!t&&t.termType==="BlankNode"}function l_e(t){return!!t&&t.termType==="Literal"}function d_e(t){return!!t&&t.termType==="Variable"}function fV(t){return!!t&&t.termType==="DefaultGraph"}function f_e(t){return fV(t.graph)}function h_e(t,e){return hV({"":t.value||t},e)("")}function hV(t,e){let r=Object.create(null);for(let i in t)n(i,t[i]);e=e||s_e.default;function n(i,a){if(typeof a=="string"){let s=Object.create(null);r[i]=o=>s[o]||(s[o]=e.namedNode(a+o))}else if(!(i in r))throw new Error(`Unknown prefix: ${i}`);return r[i]}return n}});var z0=_(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.default=Gr.Variable=Gr.Triple=Gr.Term=Gr.Quad=Gr.NamedNode=Gr.Literal=Gr.DefaultGraph=Gr.BlankNode=void 0;Gr.escapeQuotes=T2;Gr.termFromId=nb;Gr.termToId=ib;Gr.unescapeQuotes=ab;var p_e=y_e(Q0()),__e=S2();function y_e(t){return t&&t.__esModule?t:{default:t}}var{rdf:b_e,xsd:Yd}=p_e.default,ob,g_e=0,_V=/^"(.*".*)(?="[^"]*$)/,m_e=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,aP={namedNode:w_e,blankNode:S_e,variable:E_e,literal:T_e,defaultGraph:O_e,quad:pV,triple:pV},v_e=aP;Gr.default=v_e;var ls=class{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof ls?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}};Gr.Term=ls;var sb=class extends ls{get termType(){return"NamedNode"}};Gr.NamedNode=sb;var Cu=class extends ls{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){let e=this.id,r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new sb(this.datatypeString)}get datatypeString(){let e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?Yd.string:b_e.langString}equals(e){return e instanceof Cu?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}};Gr.Literal=Cu;var E2=class extends ls{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}};Gr.BlankNode=E2;var O2=class extends ls{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}};Gr.Variable=O2;var R2=class extends ls{constructor(){return super(""),ob||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Gr.DefaultGraph=R2;ob=new R2;function nb(t,e){if(e=e||aP,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===aP)return new Cu(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));let r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"<":let n=m_e.exec(t);return e.quad(nb(ab(n[1]),e),nb(ab(n[2]),e),nb(ab(n[3]),e),n[4]&&nb(ab(n[4]),e));default:return e.namedNode(t)}}function ib(t){if(typeof t=="string")return t;if(t instanceof ls&&t.termType!=="Quad")return t.id;if(!t)return ob.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Yd.string?`^^${t.datatype.value}`:""}`;case"Quad":return`<<${T2(ib(t.subject))} ${T2(ib(t.predicate))} ${T2(ib(t.object))}${(0,__e.isDefaultGraph)(t.graph)?"":` ${ib(t.graph)}`}>>`;default:throw new Error(`Unexpected termType: ${t.termType}`)}}var A2=class extends ls{constructor(e,r,n,i){super(""),this._subject=e,this._predicate=r,this._object=n,this._graph=i||ob}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};Gr.Triple=Gr.Quad=A2;function T2(t){return t.replace(_V,(e,r)=>`"${r.replace(/"/g,'""')}`)}function ab(t){return t.replace(_V,(e,r)=>`"${r.replace(/""/g,'"')}`)}function w_e(t){return new sb(t)}function S_e(t){return new E2(t||`n3-${g_e++}`)}function T_e(t,e){if(typeof e=="string")return new Cu(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=Yd.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?Yd.integer:Yd.double:(r=Yd.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===Yd.string?new Cu(`"${t}"`):new Cu(`"${t}"^^${r}`)}function E_e(t){return new O2(t)}function O_e(){return ob}function pV(t,e,r,n){return new A2(t,e,r,n)}});var uP=_(I2=>{"use strict";Object.defineProperty(I2,"__esModule",{value:!0});I2.default=void 0;var R_e=oP(iP()),A_e=oP(z0()),Lc=oP(Q0());function oP(t){return t&&t.__esModule?t:{default:t}}var yV=0,x2=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&bV(this,e.factory);let r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),i=/trig/.test(r),a=/triple/.test(r),s=/quad/.test(r),o=this._n3Mode=/n3/.test(r),u=a||s;(this._supportsNamedGraphs=!(n||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||a||o),this._supportsRDFStar=r===""||/star|\*$/.test(r),u&&(this._resolveRelativeIRI=d=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new R_e.default({lineMode:u,n3:o}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){yV=0}_setBase(e){if(!e)this._base="",this._basePath="";else{let r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,i,a){let s=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:i,object:a,graph:r,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.id.substr(2)}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,r){let n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":let i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);n=this._namedNode(i);break;case"type":case"prefixed":let a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(a+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){let r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);let r=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,i=this._readListItem,a=this._subject,s=this._contextStack,o=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(r=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),a===null?o.predicate===null?o.subject=n:o.object=n:this._emit(a,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":let n=this._readEntity(e);if(n===void 0)return;r=this._literal(this._literalValue,n),e=null;break;case"langcode":r=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){let n=this._completeLiteral(e);if(!!n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph,i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){let s=this._predicate,o=this._object;a?this._emit(o,s,i,n):this._emit(i,s,o,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);let r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){let r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:let r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){let i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n,i=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=i):(r=this._object,this._object=i),this._emit(r,n,i,this._graph),this._readPath}_readBackwardPath(e){let r=this._blankNode(),n,i;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=r):(i=this._object,this._object=r),this._emit(r,n,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);let r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){let e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,i){this._callback(null,this._quad(e,r,n,i||this.DEFAULTGRAPH))}_error(e,r){let n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=sP}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;let r=e.length,n="",i=-1,a=-1,s=0,o="/";for(;i<r;){switch(o){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<r&&e[a]!=="/";)i=a;break;case"?":case"#":i=r;break;case"/":if(e[i+1]===".")switch(o=e[++i+1],o){case"/":n+=e.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return n+e.substring(s,i)+e.substr(i+1);case".":if(o=e[++i+1],o===void 0||o==="/"||o==="?"||o==="#"){if(n+=e.substring(s,i-2),(s=n.lastIndexOf("/"))>=a&&(n=n.substr(0,s)),o!=="/")return`${n}/${e.substr(i+1)}`;s=i+1}}}o=e[++i]}return n+e.substring(s)}parse(e,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${yV++}_`,this._prefixCallback=n||sP,this._inversePredicate=!1,this._quantified=Object.create(null),!r){let i=[],a;if(this._callback=(s,o)=>{s?a=s:o&&i.push(o)},this._lexer.tokenize(e).every(s=>this._readCallback=this._readCallback(s)),a)throw a;return i}this._callback=r,this._lexer.tokenize(e,(i,a)=>{i!==null?(this._callback(i),this._callback=sP):this._readCallback&&(this._readCallback=this._readCallback(a))})}};I2.default=x2;function sP(){}function bV(t,e){let r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(Lc.default.rdf.first),t.RDF_REST=r(Lc.default.rdf.rest),t.RDF_NIL=r(Lc.default.rdf.nil),t.N3_FORALL=r(Lc.default.r.forAll),t.N3_FORSOME=r(Lc.default.r.forSome),t.ABBREVIATIONS={a:r(Lc.default.rdf.type),"=":r(Lc.default.owl.sameAs),">":r(Lc.default.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}bV(x2.prototype,A_e.default)});var lP=_(P2=>{"use strict";Object.defineProperty(P2,"__esModule",{value:!0});P2.default=void 0;var x_e=N_e(Q0()),SV=P_e(z0()),I_e=S2();function TV(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(TV=function(n){return n?r:e})(t)}function P_e(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=TV(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function N_e(t){return t&&t.__esModule?t:{default:t}}var ub=SV.default.defaultGraph(),{rdf:D_e,xsd:W0}=x_e.default,gV=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,mV=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,C_e={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},Zd=class extends SV.Term{equals(){return!1}},cP=class{constructor(e,r){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(r=e,e=null),r=r||{},this._lists=r.lists,e)this._outputStream=e,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(i,a,s){n+=i,s&&s()},end:i=>{i&&i(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=ub,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${wV(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return ub.equals(this._graph)}_write(e,r){this._outputStream.write(e,"utf8",r)}_writeQuad(e,r,n,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(ub.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,a)}catch(s){a&&a(s)}}_writeQuadLine(e,r,n,i,a){delete this._prefixMatch,this._write(this.quadToString(e,r,n,i),a)}quadToString(e,r,n,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){return e.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let r=e.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),gV.test(r)&&(r=r.replace(mV,vV));let n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(e){let r=e.value;if(gV.test(r)&&(r=r.replace(mV,vV)),e.language)return`"${r}"@${e.language}`;if(this._lineMode){if(e.datatype.value===W0.string)return`"${r}"`}else switch(e.datatype.value){case W0.string:return`"${r}"`;case W0.boolean:if(r==="true"||r==="false")return r;break;case W0.integer:if(/^[+-]?\d+$/.test(r))return r;break;case W0.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case W0.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===D_e.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:r,object:n,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${(0,I_e.isDefaultGraph)(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,r,n,i,a){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,r):typeof i=="function"?this._writeQuad(e,r,n,ub,i):this._writeQuad(e,r,n,i||ub,a)}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}addPrefix(e,r,n){let i={};i[e]=r,this.addPrefixes(i,n)}addPrefixes(e,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(n){let i="",a="";for(let s in this._prefixIRIs)i+=i?`|${s}`:s,a+=(a?"|":"")+this._prefixIRIs[s];i=wV(i,/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(e,r){let n=e,i,a;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:r}]:"length"in e||(n=[e]),a=n.length){case 0:return new Zd("[]");case 1:if(i=n[0],!(i.object instanceof Zd))return new Zd(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let s="[";for(let o=0;o<a;o++)i=n[o],i.predicate.equals(e)?s+=`, ${this._encodeObject(i.object)}`:(s+=`${(o?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new Zd(`${s}
]`)}}list(e){let r=e&&e.length||0,n=new Array(r);for(let i=0;i<r;i++)n[i]=this._encodeObject(e[i]);return new Zd(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=e&&((n,i)=>{r=null,e(n,i)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}};P2.default=cP;function vV(t){let e=C_e[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function wV(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}});var dP=_((Lqe,EV)=>{EV.exports=vu().EventEmitter});var cb=_(()=>{});var xV=_((Bqe,AV)=>{"use strict";function OV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OV(Object(r),!0).forEach(function(n){q_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q_e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M_e(t,e,r){return e&&RV(t.prototype,e),r&&RV(t,r),t}var F_e=Io(),N2=F_e.Buffer,B_e=cb(),fP=B_e.inspect,U_e=fP&&fP.custom||"inspect";function V_e(t,e,r){N2.prototype.copy.call(t,e,r)}AV.exports=function(){function t(){L_e(this,t),this.head=null,this.tail=null,this.length=0}return M_e(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return N2.alloc(0);for(var n=N2.allocUnsafe(r>>>0),i=this.head,a=0;i;)V_e(i.data,n,a),a+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,a=n.data;for(r-=a.length;n=n.next;){var s=n.data,o=r>s.length?s.length:r;if(o===s.length?a+=s:a+=s.slice(0,r),r-=o,r===0){o===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(o));break}++i}return this.length-=i,a}},{key:"_getBuffer",value:function(r){var n=N2.allocUnsafe(r),i=this.head,a=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,o=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,o),r-=o,r===0){o===s.length?(++a,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(o));break}++a}return this.length-=a,n}},{key:U_e,value:function(r,n){return fP(this,j_e({},n,{depth:0,customInspect:!1}))}}]),t}()});var pP=_((Uqe,PV)=>{"use strict";function k_e(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(hP,this,t)):process.nextTick(hP,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(D2,r):(r._writableState.errorEmitted=!0,process.nextTick(IV,r,a)):process.nextTick(IV,r,a):e?(process.nextTick(D2,r),e(a)):process.nextTick(D2,r)}),this)}function IV(t,e){hP(t,e),D2(t)}function D2(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function H_e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function hP(t,e){t.emit("error",e)}function G_e(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}PV.exports={destroy:k_e,undestroy:H_e,errorOrDestroy:G_e}});var ef=_((Vqe,CV)=>{"use strict";function Q_e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var DV={};function ds(t,e,r){r||(r=Error);function n(a,s,o){return typeof e=="string"?e:e(a,s,o)}var i=function(a){Q_e(s,a);function s(o,u,d){return a.call(this,n(o,u,d))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,DV[t]=i}function NV(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function z_e(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function W_e(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function K_e(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ds("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ds("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&z_e(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(W_e(t," argument"))i="The ".concat(t," ").concat(n," ").concat(NV(e,"type"));else{var a=K_e(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(NV(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);ds("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ds("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ds("ERR_STREAM_PREMATURE_CLOSE","Premature close");ds("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ds("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ds("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ds("ERR_STREAM_WRITE_AFTER_END","write after end");ds("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ds("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ds("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");CV.exports.codes=DV});var _P=_((kqe,jV)=>{"use strict";var X_e=ef().codes.ERR_INVALID_OPT_VALUE;function $_e(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function J_e(t,e,r,n){var i=$_e(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new X_e(a,i)}return Math.floor(i)}return t.objectMode?16:16*1024}jV.exports={getHighWaterMark:J_e}});var bP=_((Hqe,qV)=>{qV.exports=Y_e;function Y_e(t,e){if(yP("noDeprecation"))return t;var r=!1;function n(){if(!r){if(yP("throwDeprecation"))throw new Error(e);yP("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function yP(t){try{if(!global.localStorage)return!1}catch{return!1}var e=global.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var vP=_((Gqe,VV)=>{"use strict";VV.exports=nn;function MV(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Oye(e,t)}}var K0;nn.WritableState=db;var Z_e={deprecate:bP()},FV=dP(),j2=Io().Buffer,eye=global.Uint8Array||function(){};function tye(t){return j2.from(t)}function rye(t){return j2.isBuffer(t)||t instanceof eye}var mP=pP(),nye=_P(),iye=nye.getHighWaterMark,Mc=ef().codes,aye=Mc.ERR_INVALID_ARG_TYPE,sye=Mc.ERR_METHOD_NOT_IMPLEMENTED,oye=Mc.ERR_MULTIPLE_CALLBACK,uye=Mc.ERR_STREAM_CANNOT_PIPE,cye=Mc.ERR_STREAM_DESTROYED,lye=Mc.ERR_STREAM_NULL_VALUES,dye=Mc.ERR_STREAM_WRITE_AFTER_END,fye=Mc.ERR_UNKNOWN_ENCODING,X0=mP.errorOrDestroy;ts()(nn,FV);function hye(){}function db(t,e,r){K0=K0||tf(),t=t||{},typeof r!="boolean"&&(r=e instanceof K0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=iye(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){vye(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new MV(this)}db.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(db.prototype,"buffer",{get:Z_e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var C2;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C2=Function.prototype[Symbol.hasInstance],Object.defineProperty(nn,Symbol.hasInstance,{value:function(e){return C2.call(this,e)?!0:this!==nn?!1:e&&e._writableState instanceof db}})):C2=function(e){return e instanceof this};function nn(t){K0=K0||tf();var e=this instanceof K0;if(!e&&!C2.call(nn,this))return new nn(t);this._writableState=new db(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),FV.call(this)}nn.prototype.pipe=function(){X0(this,new uye)};function pye(t,e){var r=new dye;X0(t,r),process.nextTick(e,r)}function _ye(t,e,r,n){var i;return r===null?i=new lye:typeof r!="string"&&!e.objectMode&&(i=new aye("chunk",["string","Buffer"],r)),i?(X0(t,i),process.nextTick(n,i),!1):!0}nn.prototype.write=function(t,e,r){var n=this._writableState,i=!1,a=!n.objectMode&&rye(t);return a&&!j2.isBuffer(t)&&(t=tye(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=hye),n.ending?pye(this,r):(a||_ye(this,n,t,r))&&(n.pendingcb++,i=bye(this,n,a,t,e,r)),i};nn.prototype.cork=function(){this._writableState.corked++};nn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&BV(this,t))};nn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new fye(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(nn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function yye(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=j2.from(e,r)),e}Object.defineProperty(nn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function bye(t,e,r,n,i,a){if(!r){var s=yye(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var o=e.objectMode?1:n.length;e.length+=o;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else gP(t,e,!1,o,n,i,a);return u}function gP(t,e,r,n,i,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new cye("write")):r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function gye(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(lb,t,e),t._writableState.errorEmitted=!0,X0(t,n)):(i(n),t._writableState.errorEmitted=!0,X0(t,n),lb(t,e))}function mye(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function vye(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new oye;if(mye(r),e)gye(t,r,n,e,i);else{var a=UV(r)||t.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&BV(t,r),n?process.nextTick(LV,t,r,a,i):LV(t,r,a,i)}}function LV(t,e,r,n){r||wye(t,e),e.pendingcb--,n(),lb(t,e)}function wye(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function BV(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,o=!0;r;)i[s]=r,r.isBuf||(o=!1),r=r.next,s+=1;i.allBuffers=o,gP(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new MV(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,f=r.callback,p=e.objectMode?1:u.length;if(gP(t,e,!1,p,u,d,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}nn.prototype._write=function(t,e,r){r(new sye("_write()"))};nn.prototype._writev=null;nn.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Eye(this,n,r),this};Object.defineProperty(nn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function UV(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Sye(t,e){t._final(function(r){e.pendingcb--,r&&X0(t,r),e.prefinished=!0,t.emit("prefinish"),lb(t,e)})}function Tye(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Sye,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function lb(t,e){var r=UV(e);if(r&&(Tye(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Eye(t,e,r){e.ending=!0,lb(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Oye(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(nn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});nn.prototype.destroy=mP.destroy;nn.prototype._undestroy=mP.undestroy;nn.prototype._destroy=function(t,e){e(t)}});var tf=_((Qqe,HV)=>{"use strict";var Rye=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};HV.exports=Lo;var kV=TP(),SP=vP();ts()(Lo,kV);for(wP=Rye(SP.prototype),q2=0;q2<wP.length;q2++)L2=wP[q2],Lo.prototype[L2]||(Lo.prototype[L2]=SP.prototype[L2]);var wP,L2,q2;function Lo(t){if(!(this instanceof Lo))return new Lo(t);kV.call(this,t),SP.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Aye)))}Object.defineProperty(Lo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Lo.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Lo.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Aye(){this._writableState.ended||process.nextTick(xye,this)}function xye(t){t.end()}Object.defineProperty(Lo.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var M2=_((zqe,zV)=>{"use strict";var GV=ef().codes.ERR_STREAM_PREMATURE_CLOSE;function Iye(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Pye(){}function Nye(t){return t.setHeader&&typeof t.abort=="function"}function QV(t,e,r){if(typeof e=="function")return QV(t,null,e);e||(e={}),r=Iye(r||Pye);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||o()},s=t._writableState&&t._writableState.finished,o=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,d=function(){n=!1,u=!0,i||r.call(t)},f=function(v){r.call(t,v)},p=function(){var v;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(v=new GV),r.call(t,v);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(v=new GV),r.call(t,v)},y=function(){t.req.on("finish",o)};return Nye(t)?(t.on("complete",o),t.on("abort",p),t.req?y():t.on("request",y)):i&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",d),t.on("finish",o),e.error!==!1&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",o),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",o),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",o),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}zV.exports=QV});var KV=_((Wqe,WV)=>{"use strict";var F2;function Fc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Dye=M2(),Bc=Symbol("lastResolve"),rf=Symbol("lastReject"),fb=Symbol("error"),B2=Symbol("ended"),nf=Symbol("lastPromise"),EP=Symbol("handlePromise"),af=Symbol("stream");function Uc(t,e){return{value:t,done:e}}function Cye(t){var e=t[Bc];if(e!==null){var r=t[af].read();r!==null&&(t[nf]=null,t[Bc]=null,t[rf]=null,e(Uc(r,!1)))}}function jye(t){process.nextTick(Cye,t)}function qye(t,e){return function(r,n){t.then(function(){if(e[B2]){r(Uc(void 0,!0));return}e[EP](r,n)},n)}}var Lye=Object.getPrototypeOf(function(){}),Mye=Object.setPrototypeOf((F2={get stream(){return this[af]},next:function(){var e=this,r=this[fb];if(r!==null)return Promise.reject(r);if(this[B2])return Promise.resolve(Uc(void 0,!0));if(this[af].destroyed)return new Promise(function(s,o){process.nextTick(function(){e[fb]?o(e[fb]):s(Uc(void 0,!0))})});var n=this[nf],i;if(n)i=new Promise(qye(n,this));else{var a=this[af].read();if(a!==null)return Promise.resolve(Uc(a,!1));i=new Promise(this[EP])}return this[nf]=i,i}},Fc(F2,Symbol.asyncIterator,function(){return this}),Fc(F2,"return",function(){var e=this;return new Promise(function(r,n){e[af].destroy(null,function(i){if(i){n(i);return}r(Uc(void 0,!0))})})}),F2),Lye),Fye=function(e){var r,n=Object.create(Mye,(r={},Fc(r,af,{value:e,writable:!0}),Fc(r,Bc,{value:null,writable:!0}),Fc(r,rf,{value:null,writable:!0}),Fc(r,fb,{value:null,writable:!0}),Fc(r,B2,{value:e._readableState.endEmitted,writable:!0}),Fc(r,EP,{value:function(a,s){var o=n[af].read();o?(n[nf]=null,n[Bc]=null,n[rf]=null,a(Uc(o,!1))):(n[Bc]=a,n[rf]=s)},writable:!0}),r));return n[nf]=null,Dye(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=n[rf];a!==null&&(n[nf]=null,n[Bc]=null,n[rf]=null,a(i)),n[fb]=i;return}var s=n[Bc];s!==null&&(n[nf]=null,n[Bc]=null,n[rf]=null,s(Uc(void 0,!0))),n[B2]=!0}),e.on("readable",jye.bind(null,n)),n};WV.exports=Fye});var $V=_((Kqe,XV)=>{XV.exports=function(){throw new Error("Readable.from is not available in the browser")}});var TP=_(($qe,sk)=>{"use strict";sk.exports=Jt;var $0;Jt.ReadableState=ek;var Xqe=vu().EventEmitter,ZV=function(e,r){return e.listeners(r).length},pb=dP(),U2=Io().Buffer,Bye=global.Uint8Array||function(){};function Uye(t){return U2.from(t)}function Vye(t){return U2.isBuffer(t)||t instanceof Bye}var OP=cb(),Lt;OP&&OP.debuglog?Lt=OP.debuglog("stream"):Lt=function(){};var kye=xV(),DP=pP(),Hye=_P(),Gye=Hye.getHighWaterMark,V2=ef().codes,Qye=V2.ERR_INVALID_ARG_TYPE,zye=V2.ERR_STREAM_PUSH_AFTER_EOF,Wye=V2.ERR_METHOD_NOT_IMPLEMENTED,Kye=V2.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,J0,RP,AP;ts()(Jt,pb);var hb=DP.errorOrDestroy,xP=["error","close","destroy","pause","resume"];function Xye(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function ek(t,e,r){$0=$0||tf(),t=t||{},typeof r!="boolean"&&(r=e instanceof $0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Gye(this,t,"readableHighWaterMark",r),this.buffer=new kye,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(J0||(J0=D0().StringDecoder),this.decoder=new J0(t.encoding),this.encoding=t.encoding)}function Jt(t){if($0=$0||tf(),!(this instanceof Jt))return new Jt(t);var e=this instanceof $0;this._readableState=new ek(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),pb.call(this)}Object.defineProperty(Jt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Jt.prototype.destroy=DP.destroy;Jt.prototype._undestroy=DP.undestroy;Jt.prototype._destroy=function(t,e){e(t)};Jt.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=U2.from(t,e),e=""),n=!0),tk(this,t,e,!1,n)};Jt.prototype.unshift=function(t){return tk(this,t,null,!0,!1)};function tk(t,e,r,n,i){Lt("readableAddChunk",e);var a=t._readableState;if(e===null)a.reading=!1,Yye(t,a);else{var s;if(i||(s=$ye(a,e)),s)hb(t,s);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==U2.prototype&&(e=Uye(e)),n)a.endEmitted?hb(t,new Kye):IP(t,a,e,!0);else if(a.ended)hb(t,new zye);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?IP(t,a,e,!1):NP(t,a)):IP(t,a,e,!1)}else n||(a.reading=!1,NP(t,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function IP(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&k2(t)),NP(t,e)}function $ye(t,e){var r;return!Vye(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Qye("chunk",["string","Buffer","Uint8Array"],e)),r}Jt.prototype.isPaused=function(){return this._readableState.flowing===!1};Jt.prototype.setEncoding=function(t){J0||(J0=D0().StringDecoder);var e=new J0(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var JV=1073741824;function Jye(t){return t>=JV?t=JV:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function YV(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Jye(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Jt.prototype.read=function(t){Lt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Lt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?PP(this):k2(this),null;if(t=YV(t,e),t===0&&e.ended)return e.length===0&&PP(this),null;var n=e.needReadable;Lt("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Lt("length less than watermark",n)),e.ended||e.reading?(n=!1,Lt("reading or ended",n)):n&&(Lt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=YV(r,e)));var i;return t>0?i=ik(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&PP(this)),i!==null&&this.emit("data",i),i};function Yye(t,e){if(Lt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?k2(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,rk(t)))}}function k2(t){var e=t._readableState;Lt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Lt("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(rk,t))}function rk(t){var e=t._readableState;Lt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,CP(t)}function NP(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(Zye,t,e))}function Zye(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Lt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Jt.prototype._read=function(t){hb(this,new Wye("_read()"))};Jt.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Lt("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,a=i?o:E;n.endEmitted?process.nextTick(a):r.once("end",a),t.on("unpipe",s);function s(D,O){Lt("onunpipe"),D===r&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,f())}function o(){Lt("onend"),t.end()}var u=ebe(r);t.on("drain",u);var d=!1;function f(){Lt("cleanup"),t.removeListener("close",g),t.removeListener("finish",v),t.removeListener("drain",u),t.removeListener("error",y),t.removeListener("unpipe",s),r.removeListener("end",o),r.removeListener("end",E),r.removeListener("data",p),d=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",p);function p(D){Lt("ondata");var O=t.write(D);Lt("dest.write",O),O===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&ak(n.pipes,t)!==-1)&&!d&&(Lt("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(D){Lt("onerror",D),E(),t.removeListener("error",y),ZV(t,"error")===0&&hb(t,D)}Xye(t,"error",y);function g(){t.removeListener("finish",v),E()}t.once("close",g);function v(){Lt("onfinish"),t.removeListener("close",g),E()}t.once("finish",v);function E(){Lt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Lt("pipe resume"),r.resume()),t};function ebe(t){return function(){var r=t._readableState;Lt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&ZV(t,"data")&&(r.flowing=!0,CP(t))}}Jt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=ak(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Jt.prototype.on=function(t,e){var r=pb.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Lt("on readable",n.length,n.reading),n.length?k2(this):n.reading||process.nextTick(tbe,this)),r};Jt.prototype.addListener=Jt.prototype.on;Jt.prototype.removeListener=function(t,e){var r=pb.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(nk,this),r};Jt.prototype.removeAllListeners=function(t){var e=pb.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(nk,this),e};function nk(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function tbe(t){Lt("readable nexttick read 0"),t.read(0)}Jt.prototype.resume=function(){var t=this._readableState;return t.flowing||(Lt("resume"),t.flowing=!t.readableListening,rbe(this,t)),t.paused=!1,this};function rbe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(nbe,t,e))}function nbe(t,e){Lt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),CP(t),e.flowing&&!e.reading&&t.read(0)}Jt.prototype.pause=function(){return Lt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Lt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function CP(t){var e=t._readableState;for(Lt("flow",e.flowing);e.flowing&&t.read()!==null;);}Jt.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Lt("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Lt("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var o=e.push(s);o||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));for(var a=0;a<xP.length;a++)t.on(xP[a],this.emit.bind(this,xP[a]));return this._read=function(s){Lt("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Jt.prototype[Symbol.asyncIterator]=function(){return RP===void 0&&(RP=KV()),RP(this)});Object.defineProperty(Jt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Jt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Jt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Jt._fromList=ik;Object.defineProperty(Jt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ik(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function PP(t){var e=t._readableState;Lt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(ibe,e,t))}function ibe(t,e){if(Lt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Jt.from=function(t,e){return AP===void 0&&(AP=$V()),AP(Jt,t,e)});function ak(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var jP=_((Jqe,uk)=>{"use strict";uk.exports=ju;var H2=ef().codes,abe=H2.ERR_METHOD_NOT_IMPLEMENTED,sbe=H2.ERR_MULTIPLE_CALLBACK,obe=H2.ERR_TRANSFORM_ALREADY_TRANSFORMING,ube=H2.ERR_TRANSFORM_WITH_LENGTH_0,G2=tf();ts()(ju,G2);function cbe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new sbe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ju(t){if(!(this instanceof ju))return new ju(t);G2.call(this,t),this._transformState={afterTransform:cbe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",lbe)}function lbe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){ok(t,e,r)}):ok(this,null,null)}ju.prototype.push=function(t,e){return this._transformState.needTransform=!1,G2.prototype.push.call(this,t,e)};ju.prototype._transform=function(t,e,r){r(new abe("_transform()"))};ju.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ju.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ju.prototype._destroy=function(t,e){G2.prototype._destroy.call(this,t,function(r){e(r)})};function ok(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new ube;if(t._transformState.transforming)throw new obe;return t.push(null)}});var dk=_((Yqe,lk)=>{"use strict";lk.exports=_b;var ck=jP();ts()(_b,ck);function _b(t){if(!(this instanceof _b))return new _b(t);ck.call(this,t)}_b.prototype._transform=function(t,e,r){r(null,t)}});var yk=_((Zqe,_k)=>{"use strict";var qP;function dbe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var pk=ef().codes,fbe=pk.ERR_MISSING_ARGS,hbe=pk.ERR_STREAM_DESTROYED;function fk(t){if(t)throw t}function pbe(t){return t.setHeader&&typeof t.abort=="function"}function _be(t,e,r,n){n=dbe(n);var i=!1;t.on("close",function(){i=!0}),qP===void 0&&(qP=M2()),qP(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,pbe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new hbe("pipe"))}}}function hk(t){t()}function ybe(t,e){return t.pipe(e)}function bbe(t){return!t.length||typeof t[t.length-1]!="function"?fk:t.pop()}function gbe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=bbe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new fbe("streams");var i,a=e.map(function(s,o){var u=o<e.length-1,d=o>0;return _be(s,u,d,function(f){i||(i=f),f&&a.forEach(hk),!u&&(a.forEach(hk),n(i))})});return e.reduce(ybe)}_k.exports=gbe});var Q2=_((fs,bk)=>{fs=bk.exports=TP();fs.Stream=fs;fs.Readable=fs;fs.Writable=vP();fs.Duplex=tf();fs.Transform=jP();fs.PassThrough=dk();fs.finished=M2();fs.pipeline=yk()});var vk=_(W2=>{"use strict";Object.defineProperty(W2,"__esModule",{value:!0});W2.default=void 0;var or=vbe(z0()),gk=Q2(),yb=mbe(Q0());function mbe(t){return t&&t.__esModule?t:{default:t}}function mk(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(mk=function(n){return n?r:e})(t)}function vbe(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=mk(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}var z2=class{constructor(e,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,!r&&e&&!e[0]&&(r=e,e=null),r=r||{},this._factory=r.factory||or.default,e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;let r=this._graphs,n,i;for(let a in r)for(let s in n=r[a].subjects)for(let o in i=n[s])e+=Object.keys(i[o]).length;return this._size=e}_addToIndex(e,r,n,i){let a=e[r]||(e[r]={}),s=a[n]||(a[n]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(e,r,n,i){let a=e[r],s=a[n];delete s[i];for(let o in s)return;delete a[n];for(let o in a)return;delete e[r]}*_findInIndex(e,r,n,i,a,s,o,u){let d,f,p,y=this._entities,g=(0,or.termFromId)(u,this._factory),v={subject:null,predicate:null,object:null};r&&((d=e,e={})[r]=d[r]);for(let E in e)if(f=e[E]){v[a]=(0,or.termFromId)(y[E],this._factory),n&&((d=f,f={})[n]=d[n]);for(let D in f)if(p=f[D]){v[s]=(0,or.termFromId)(y[D],this._factory);let O=i?i in p?[i]:[]:Object.keys(p);for(let C=0;C<O.length;C++)v[o]=(0,or.termFromId)(y[O[C]],this._factory),yield this._factory.quad(v.subject,v.predicate,v.object,g)}}}_loop(e,r){for(let n in e)r(n)}_loopByKey0(e,r,n){let i,a;if(i=e[r])for(a in i)n(a)}_loopByKey1(e,r,n){let i,a;for(i in e)a=e[i],a[r]&&n(i)}_loopBy2Keys(e,r,n,i){let a,s,o;if((a=e[r])&&(s=a[n]))for(o in s)i(o)}_countInIndex(e,r,n,i){let a=0,s,o,u;r&&((s=e,e={})[r]=s[r]);for(let d in e)if(o=e[d]){n&&((s=o,o={})[n]=s[n]);for(let f in o)(u=o[f])&&(i?i in u&&a++:a+=Object.keys(u).length)}return a}_getGraphs(e){if(!Ca(e))return this._graphs;let r={};return r[e]=this._graphs[e],r}_uniqueEntities(e){let r=Object.create(null);return n=>{n in r||(r[n]=!0,e((0,or.termFromId)(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,r,n,i){r||(i=e.graph,n=e.object,r=e.predicate,e=e.subject),e=(0,or.termToId)(e),r=(0,or.termToId)(r),n=(0,or.termToId)(n),i=(0,or.termToId)(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a));let s=this._ids,o=this._entities;e=s[e]||(s[o[++this._id]=e]=this._id),r=s[r]||(s[o[++this._id]=r]=this._id),n=s[n]||(s[o[++this._id]=n]=this._id);let u=this._addToIndex(a.subjects,e,r,n);return this._addToIndex(a.predicates,r,n,e),this._addToIndex(a.objects,n,e,r),this._size=null,u}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}delete(e){return this.removeQuad(e),this}has(e,r,n,i){return e&&e.subject&&({subject:e,predicate:r,object:n,graph:i}=e),!this.readQuads(e,r,n,i).next().done}import(e){return e.on("data",r=>{this.addQuad(r)}),e}removeQuad(e,r,n,i){r||(i=e.graph,n=e.object,r=e.predicate,e=e.subject),e=(0,or.termToId)(e),r=(0,or.termToId)(r),n=(0,or.termToId)(n),i=(0,or.termToId)(i);let a=this._ids,s=this._graphs,o,u,d;if(!(e=a[e])||!(r=a[r])||!(n=a[n])||!(o=s[i])||!(u=o.subjects[e])||!(d=u[r])||!(n in d))return!1;this._removeFromIndex(o.subjects,e,r,n),this._removeFromIndex(o.predicates,r,n,e),this._removeFromIndex(o.objects,n,e,r),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete s[i],!0}removeQuads(e){for(let r=0;r<e.length;r++)this.removeQuad(e[r])}remove(e){return e.on("data",r=>{this.removeQuad(r)}),e}removeMatches(e,r,n,i){let a=new gk.Readable({objectMode:!0});return a._read=()=>{for(let s of this.readQuads(e,r,n,i))a.push(s);a.push(null)},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,r,n,i){return[...this.readQuads(e,r,n,i)]}*readQuads(e,r,n,i){e=e&&(0,or.termToId)(e),r=r&&(0,or.termToId)(r),n=n&&(0,or.termToId)(n),i=i&&(0,or.termToId)(i);let a=this._getGraphs(i),s=this._ids,o,u,d,f;if(!(Ca(e)&&!(u=s[e])||Ca(r)&&!(d=s[r])||Ca(n)&&!(f=s[n])))for(let p in a)(o=a[p])&&(u?f?yield*this._findInIndex(o.objects,f,u,d,"object","subject","predicate",p):yield*this._findInIndex(o.subjects,u,d,null,"subject","predicate","object",p):d?yield*this._findInIndex(o.predicates,d,f,null,"predicate","object","subject",p):f?yield*this._findInIndex(o.objects,f,null,null,"object","subject","predicate",p):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",p))}match(e,r,n,i){return new bb(this,e,r,n,i)}countQuads(e,r,n,i){e=e&&(0,or.termToId)(e),r=r&&(0,or.termToId)(r),n=n&&(0,or.termToId)(n),i=i&&(0,or.termToId)(i);let a=this._getGraphs(i),s=this._ids,o=0,u,d,f,p;if(Ca(e)&&!(d=s[e])||Ca(r)&&!(f=s[r])||Ca(n)&&!(p=s[n]))return 0;for(let y in a)(u=a[y])&&(e?n?o+=this._countInIndex(u.objects,p,d,f):o+=this._countInIndex(u.subjects,d,f,p):r?o+=this._countInIndex(u.predicates,f,p,d):o+=this._countInIndex(u.objects,p,d,f));return o}forEach(e,r,n,i,a){this.some(s=>(e(s),!1),r,n,i,a)}every(e,r,n,i,a){let s=!1,o=!this.some(u=>(s=!0,!e(u)),r,n,i,a);return s&&o}some(e,r,n,i,a){for(let s of this.readQuads(r,n,i,a))if(e(s))return!0;return!1}getSubjects(e,r,n){let i=[];return this.forSubjects(a=>{i.push(a)},e,r,n),i}forSubjects(e,r,n,i){r=r&&(0,or.termToId)(r),n=n&&(0,or.termToId)(n),i=i&&(0,or.termToId)(i);let a=this._ids,s=this._getGraphs(i),o,u,d;if(e=this._uniqueEntities(e),!(Ca(r)&&!(u=a[r])||Ca(n)&&!(d=a[n])))for(i in s)(o=s[i])&&(u?d?this._loopBy2Keys(o.predicates,u,d,e):this._loopByKey1(o.subjects,u,e):d?this._loopByKey0(o.objects,d,e):this._loop(o.subjects,e))}getPredicates(e,r,n){let i=[];return this.forPredicates(a=>{i.push(a)},e,r,n),i}forPredicates(e,r,n,i){r=r&&(0,or.termToId)(r),n=n&&(0,or.termToId)(n),i=i&&(0,or.termToId)(i);let a=this._ids,s=this._getGraphs(i),o,u,d;if(e=this._uniqueEntities(e),!(Ca(r)&&!(u=a[r])||Ca(n)&&!(d=a[n])))for(i in s)(o=s[i])&&(u?d?this._loopBy2Keys(o.objects,d,u,e):this._loopByKey0(o.subjects,u,e):d?this._loopByKey1(o.predicates,d,e):this._loop(o.predicates,e))}getObjects(e,r,n){let i=[];return this.forObjects(a=>{i.push(a)},e,r,n),i}forObjects(e,r,n,i){r=r&&(0,or.termToId)(r),n=n&&(0,or.termToId)(n),i=i&&(0,or.termToId)(i);let a=this._ids,s=this._getGraphs(i),o,u,d;if(e=this._uniqueEntities(e),!(Ca(r)&&!(u=a[r])||Ca(n)&&!(d=a[n])))for(i in s)(o=s[i])&&(u?d?this._loopBy2Keys(o.subjects,u,d,e):this._loopByKey1(o.objects,u,e):d?this._loopByKey0(o.predicates,d,e):this._loop(o.objects,e))}getGraphs(e,r,n){let i=[];return this.forGraphs(a=>{i.push(a)},e,r,n),i}forGraphs(e,r,n,i){for(let a in this._graphs)this.some(s=>(e(s.graph),!0),r,n,i,a)}createBlankNode(e){let r,n;if(e)for(r=e=`_:${e}`,n=1;this._ids[r];)r=e+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:e=!1,ignoreErrors:r=!1}={}){let n={},i=r?()=>!0:(o,u)=>{throw new Error(`${o.value} ${u}`)},a=this.getQuads(null,yb.default.rdf.rest,yb.default.rdf.nil,null),s=e?[...a]:[];return a.forEach(o=>{let u=[],d=!1,f,p,y=o.graph,g=o.subject;for(;g&&!d;){let v=this.getQuads(null,null,g,null),E=this.getQuads(g,null,null,null),D,O=null,C=null,R=null;for(let w=0;w<E.length&&!d;w++)D=E[w],D.graph.equals(y)?f?d=i(g,"has non-list arcs out"):D.predicate.value===yb.default.rdf.first?O?d=i(g,"has multiple rdf:first arcs"):s.push(O=D):D.predicate.value===yb.default.rdf.rest?C?d=i(g,"has multiple rdf:rest arcs"):s.push(C=D):v.length?d=i(g,"can't be subject and object"):(f=D,p="subject"):d=i(g,"not confined to single graph");for(let w=0;w<v.length&&!d;++w)D=v[w],f?d=i(g,"can't have coreferences"):D.predicate.value===yb.default.rdf.rest?R?d=i(g,"has incoming rdf:rest arcs"):R=D:(f=D,p="object");O?u.unshift(O.object):d=i(g,"has no list head"),g=R&&R.subject}d?e=!1:f&&(n[f[p].value]=u)}),e&&this.removeQuads(s),n}*[Symbol.iterator](){yield*this.readQuads()}};W2.default=z2;function Ca(t){return typeof t=="string"||t instanceof String}var bb=class extends gk.Readable{constructor(e,r,n,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:r,predicate:n,object:i,graph:a})}get filtered(){if(!this._filtered){let{n3Store:e,graph:r,object:n,predicate:i,subject:a}=this,s=this._filtered=new z2({factory:e._factory});for(let o of e.readQuads(a,i,n,r))s.addQuad(o)}return this._filtered}get size(){return this.filtered.size}_read(){for(let e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,r,n,i){return new bb(this.filtered,e,r,n,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}});var wk=_(K2=>{"use strict";Object.defineProperty(K2,"__esModule",{value:!0});K2.default=void 0;var wbe=Tbe(uP()),Sbe=Q2();function Tbe(t){return t&&t.__esModule?t:{default:t}}var LP=class extends Sbe.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;let r=new wbe.default(e),n,i;r.parse({on:(a,s)=>{switch(a){case"data":n=s;break;case"end":i=s;break}}},(a,s)=>{a&&this.emit("error",a)||s&&this.push(s)},(a,s)=>{this.emit("prefix",a,s)}),this._transform=(a,s,o)=>{n(a),o()},this._flush=a=>{i(),a()}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),this}};K2.default=LP});var Sk=_(X2=>{"use strict";Object.defineProperty(X2,"__esModule",{value:!0});X2.default=void 0;var Ebe=Q2(),Obe=Rbe(lP());function Rbe(t){return t&&t.__esModule?t:{default:t}}var MP=class extends Ebe.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});let r=this._writer=new Obe.default({write:(n,i,a)=>{this.push(n),a&&a()},end:n=>{this.push(null),n&&n()}},e);this._transform=(n,i,a)=>{r.addQuad(n,a)},this._flush=n=>{r.end(n)}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),e.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}};X2.default=MP});var gb=_($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});Object.defineProperty($r,"BlankNode",{enumerable:!0,get:function(){return an.BlankNode}});Object.defineProperty($r,"DataFactory",{enumerable:!0,get:function(){return an.default}});Object.defineProperty($r,"DefaultGraph",{enumerable:!0,get:function(){return an.DefaultGraph}});Object.defineProperty($r,"Lexer",{enumerable:!0,get:function(){return Tk.default}});Object.defineProperty($r,"Literal",{enumerable:!0,get:function(){return an.Literal}});Object.defineProperty($r,"NamedNode",{enumerable:!0,get:function(){return an.NamedNode}});Object.defineProperty($r,"Parser",{enumerable:!0,get:function(){return Ek.default}});Object.defineProperty($r,"Quad",{enumerable:!0,get:function(){return an.Quad}});Object.defineProperty($r,"Store",{enumerable:!0,get:function(){return Rk.default}});Object.defineProperty($r,"StreamParser",{enumerable:!0,get:function(){return Ak.default}});Object.defineProperty($r,"StreamWriter",{enumerable:!0,get:function(){return xk.default}});Object.defineProperty($r,"Term",{enumerable:!0,get:function(){return an.Term}});Object.defineProperty($r,"Triple",{enumerable:!0,get:function(){return an.Triple}});$r.Util=void 0;Object.defineProperty($r,"Variable",{enumerable:!0,get:function(){return an.Variable}});Object.defineProperty($r,"Writer",{enumerable:!0,get:function(){return Ok.default}});$r.default=void 0;Object.defineProperty($r,"termFromId",{enumerable:!0,get:function(){return an.termFromId}});Object.defineProperty($r,"termToId",{enumerable:!0,get:function(){return an.termToId}});var Tk=Y0(iP()),Ek=Y0(uP()),Ok=Y0(lP()),Rk=Y0(vk()),Ak=Y0(wk()),xk=Y0(Sk()),Ik=Nk(S2());$r.Util=Ik;var an=Nk(z0());function Pk(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,r=new WeakMap;return(Pk=function(n){return n?r:e})(t)}function Nk(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var r=Pk(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var s=i?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n.default=t,r&&r.set(t,n),n}function Y0(t){return t&&t.__esModule?t:{default:t}}var Abe={Lexer:Tk.default,Parser:Ek.default,Writer:Ok.default,Store:Rk.default,StreamParser:Ak.default,StreamWriter:xk.default,Util:Ik,DataFactory:an.default,Term:an.Term,NamedNode:an.NamedNode,Literal:an.Literal,BlankNode:an.BlankNode,Variable:an.Variable,DefaultGraph:an.DefaultGraph,Quad:an.Quad,Triple:an.Triple,termFromId:an.termFromId,termToId:an.termToId};$r.default=Abe});var Dk=_($2=>{"use strict";Object.defineProperty($2,"__esModule",{value:!0});$2.ActorRdfSerializeN3=void 0;var xbe=tP(),Ibe=gb(),FP=class extends xbe.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){return{data:new Ibe.StreamWriter({format:r}).import(e.quadStream),triples:r==="text/turtle"||r==="application/n-triples"||r==="text/n3"}}};$2.ActorRdfSerializeN3=FP});var Ck=_(sf=>{"use strict";var Pbe=sf&&sf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nbe=sf&&sf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Pbe(e,t,r)};Object.defineProperty(sf,"__esModule",{value:!0});Nbe(Dk(),sf)});var jk=_(J2=>{"use strict";Object.defineProperty(J2,"__esModule",{value:!0});J2.SeparatorType=void 0;var Jr=class{constructor(e){this.label=e}};J2.SeparatorType=Jr;Jr.COMMA=new Jr(",");Jr.OBJECT_START=new Jr("{");Jr.OBJECT_END=new Jr("}");Jr.OBJECT_END_COMMA=new Jr("},");Jr.ARRAY_START=new Jr("[");Jr.ARRAY_END=new Jr("]");Jr.ARRAY_END_COMMA=new Jr("],");Jr.GRAPH_FIELD_NONCOMPACT=new Jr('"@graph": [');Jr.GRAPH_FIELD_COMPACT=new Jr('"@graph":[');Jr.CONTEXT_FIELD=new Jr('"@context":')});var BP=_(Y2=>{"use strict";Object.defineProperty(Y2,"__esModule",{value:!0});Y2.Util=void 0;var qk=Zn(),gn=class{static termToValue(e,r,n={compactIds:!1,useNativeTypes:!1}){switch(e.termType){case"NamedNode":let i=r.compactIri(e.value,n.vocab);return n.compactIds?i:{"@id":i};case"DefaultGraph":return n.compactIds?e.value:{"@id":e.value};case"BlankNode":let a=`_:${e.value}`;return n.compactIds?a:{"@id":a};case"Literal":if(e.datatype.value===gn.RDF_JSON){let u;try{u=JSON.parse(e.value)}catch(d){throw new qk.ErrorCoded("Invalid JSON literal: "+d.message,qk.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":u,"@type":"@json"}}if(n.rdfDirection==="i18n-datatype"&&e.datatype.value.startsWith(gn.I18N)){let[u,d]=e.datatype.value.substr(gn.I18N.length,e.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":e.value},u?{"@language":u}:{}),d?{"@direction":d}:{})}let s=e.datatype.value===gn.XSD_STRING,o={"@value":!s&&n.useNativeTypes?gn.stringToNativeType(e.value,e.datatype.value):e.value};return e.language?Object.assign(Object.assign({},o),{"@language":e.language}):!s&&typeof o["@value"]=="string"?Object.assign(Object.assign({},o),{"@type":e.datatype.value}):o}}static stringToNativeType(e,r){if(r.startsWith(gn.XSD))switch(r.substr(gn.XSD.length)){case"boolean":if(e==="true")return!0;if(e==="false")return!1;throw new Error(`Invalid xsd:boolean value '${e}'`);case"integer":case"number":case"int":case"byte":case"long":let i=parseInt(e,10);if(isNaN(i))throw new Error(`Invalid xsd:integer value '${e}'`);return i;case"float":case"double":let a=parseFloat(e);if(isNaN(a))throw new Error(`Invalid xsd:float value '${e}'`);return a}return e}};Y2.Util=gn;gn.XSD="http://www.w3.org/2001/XMLSchema#";gn.XSD_STRING=gn.XSD+"string";gn.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";gn.RDF_TYPE=gn.RDF+"type";gn.RDF_JSON=gn.RDF+"JSON";gn.I18N="https://www.w3.org/ns/i18n#"});var Fk=_(Z2=>{"use strict";Object.defineProperty(Z2,"__esModule",{value:!0});Z2.JsonLdSerializer=void 0;var Lk=Zn(),mn=jk(),UP=BP(),Mk=qr(),mb=class extends Mk.Transform{constructor(e={}){super({objectMode:!0}),this.indentation=0,this.options=e,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new Lk.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new Lk.JsonLdContextNormalized({}))}import(e){let r=new Mk.PassThrough({objectMode:!0});e.on("error",i=>n.emit("error",i)),e.on("data",i=>r.push(i)),e.on("end",()=>r.push(null));let n=r.pipe(new mb(this.options));return n}_transform(e,r,n){this.context.then(i=>{this.transformQuad(e,i),n()}).catch(n)}async list(e){let r=await this.context;return{"@list":e.map(n=>UP.Util.termToValue(n,r,this.options))}}_flush(e){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),e(null,null)}transformQuad(e,r){this.opened||this.pushDocumentStart();let n=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(e.subject);if(!n&&(!this.lastGraph||!e.graph.equals(this.lastGraph))){let i=e.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(e.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),i=!1):i?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),e.graph.termType!=="DefaultGraph"&&(i||this.pushId(e.graph,r),this.pushSeparator(this.options.space?mn.SeparatorType.GRAPH_FIELD_NONCOMPACT:mn.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=e.graph}(!this.lastSubject||!e.subject.equals(this.lastSubject))&&(n?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(mn.SeparatorType.ARRAY_END_COMMA),this.lastGraph=e.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(e.subject,r)),this.lastSubject=e.subject),(!this.lastPredicate||!e.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(e.predicate,r)),this.pushObject(e.object,r)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(mn.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(mn.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?mn.SeparatorType.GRAPH_FIELD_NONCOMPACT:mn.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(mn.SeparatorType.ARRAY_START),this.indentation++)}pushId(e,r){let n=e.termType==="BlankNode"?"_:"+e.value:r.compactIri(e.value,!1);this.pushSeparator(mn.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?`"@id": "${n}",`:`"@id":"${n}",`)}pushPredicate(e,r){let n=e.value;!this.options.useRdfType&&n===UP.Util.RDF_TYPE&&(n="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));let i=r.compactIri(n,!0);this.pushIndented(this.options.space?`"${i}": [`:`"${i}":[`),this.indentation++,this.lastPredicate=e}pushObject(e,r){this.hadObjectForPredicate?this.pushSeparator(mn.SeparatorType.COMMA):this.hadObjectForPredicate=!0;let n;try{e["@list"]?n=e:n=UP.Util.termToValue(e,r,this.objectOptions||this.options)}catch(i){return this.emit("error",i)}this.pushIndented(JSON.stringify(n,null,this.options.space))}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(mn.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(mn.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(mn.SeparatorType.ARRAY_END))}endPredicate(e){this.indentation--,this.pushSeparator(e?mn.SeparatorType.ARRAY_END_COMMA:mn.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(e){this.indentation--,this.pushSeparator(e?mn.SeparatorType.OBJECT_END_COMMA:mn.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(e){this.indentation--,this.pushSeparator(mn.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(e?mn.SeparatorType.OBJECT_END_COMMA:mn.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(e){this.pushIndented(e.label)}pushIndented(e){let r=this.getIndentPrefix(),n=e.split(`
`).map(i=>r+i).join(`
`);this.push(n),this.options.space&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}};Z2.JsonLdSerializer=mb});var Uk=_(Vc=>{"use strict";var Dbe=Vc&&Vc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bk=Vc&&Vc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Dbe(e,t,r)};Object.defineProperty(Vc,"__esModule",{value:!0});Bk(Fk(),Vc);Bk(BP(),Vc)});var Vk=_(ew=>{"use strict";Object.defineProperty(ew,"__esModule",{value:!0});ew.ActorRdfSerializeJsonLd=void 0;var Cbe=tP(),jbe=Uk(),VP=class extends Cbe.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){return{data:new jbe.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)}).import(e.quadStream)}}};ew.ActorRdfSerializeJsonLd=VP});var kk=_(of=>{"use strict";var qbe=of&&of.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Lbe=of&&of.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qbe(e,t,r)};Object.defineProperty(of,"__esModule",{value:!0});Lbe(Vk(),of)});var kP=_((fLe,Hk)=>{Hk.exports=vu().EventEmitter});var Wk=_((hLe,zk)=>{"use strict";function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mbe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){Fbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fbe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ube(t,e,r){return e&&Qk(t.prototype,e),r&&Qk(t,r),t}var Vbe=Io(),tw=Vbe.Buffer,kbe=cb(),HP=kbe.inspect,Hbe=HP&&HP.custom||"inspect";function Gbe(t,e,r){tw.prototype.copy.call(t,e,r)}zk.exports=function(){function t(){Bbe(this,t),this.head=null,this.tail=null,this.length=0}return Ube(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return tw.alloc(0);for(var n=tw.allocUnsafe(r>>>0),i=this.head,a=0;i;)Gbe(i.data,n,a),a+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,a=n.data;for(r-=a.length;n=n.next;){var s=n.data,o=r>s.length?s.length:r;if(o===s.length?a+=s:a+=s.slice(0,r),r-=o,r===0){o===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(o));break}++i}return this.length-=i,a}},{key:"_getBuffer",value:function(r){var n=tw.allocUnsafe(r),i=this.head,a=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,o=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,o),r-=o,r===0){o===s.length?(++a,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(o));break}++a}return this.length-=a,n}},{key:Hbe,value:function(r,n){return HP(this,Mbe({},n,{depth:0,customInspect:!1}))}}]),t}()});var QP=_((pLe,Xk)=>{"use strict";function Qbe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(GP,this,t)):process.nextTick(GP,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(rw,r):(r._writableState.errorEmitted=!0,process.nextTick(Kk,r,a)):process.nextTick(Kk,r,a):e?(process.nextTick(rw,r),e(a)):process.nextTick(rw,r)}),this)}function Kk(t,e){GP(t,e),rw(t)}function rw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function zbe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function GP(t,e){t.emit("error",e)}function Wbe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}Xk.exports={destroy:Qbe,undestroy:zbe,errorOrDestroy:Wbe}});var uf=_((_Le,Yk)=>{"use strict";function Kbe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Jk={};function hs(t,e,r){r||(r=Error);function n(a,s,o){return typeof e=="string"?e:e(a,s,o)}var i=function(a){Kbe(s,a);function s(o,u,d){return a.call(this,n(o,u,d))||this}return s}(r);i.prototype.name=r.name,i.prototype.code=t,Jk[t]=i}function $k(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Xbe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function $be(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Jbe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}hs("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);hs("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Xbe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if($be(t," argument"))i="The ".concat(t," ").concat(n," ").concat($k(e,"type"));else{var a=Jbe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat($k(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);hs("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");hs("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});hs("ERR_STREAM_PREMATURE_CLOSE","Premature close");hs("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});hs("ERR_MULTIPLE_CALLBACK","Callback called multiple times");hs("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");hs("ERR_STREAM_WRITE_AFTER_END","write after end");hs("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);hs("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);hs("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Yk.exports.codes=Jk});var zP=_((yLe,Zk)=>{"use strict";var Ybe=uf().codes.ERR_INVALID_OPT_VALUE;function Zbe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function ege(t,e,r,n){var i=Zbe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new Ybe(a,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Zk.exports={getHighWaterMark:ege}});var XP=_((bLe,aH)=>{"use strict";aH.exports=sn;function tH(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Age(e,t)}}var Z0;sn.WritableState=wb;var tge={deprecate:bP()},rH=kP(),iw=Io().Buffer,rge=global.Uint8Array||function(){};function nge(t){return iw.from(t)}function ige(t){return iw.isBuffer(t)||t instanceof rge}var KP=QP(),age=zP(),sge=age.getHighWaterMark,kc=uf().codes,oge=kc.ERR_INVALID_ARG_TYPE,uge=kc.ERR_METHOD_NOT_IMPLEMENTED,cge=kc.ERR_MULTIPLE_CALLBACK,lge=kc.ERR_STREAM_CANNOT_PIPE,dge=kc.ERR_STREAM_DESTROYED,fge=kc.ERR_STREAM_NULL_VALUES,hge=kc.ERR_STREAM_WRITE_AFTER_END,pge=kc.ERR_UNKNOWN_ENCODING,e_=KP.errorOrDestroy;ts()(sn,rH);function _ge(){}function wb(t,e,r){Z0=Z0||cf(),t=t||{},typeof r!="boolean"&&(r=e instanceof Z0),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=sge(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Sge(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new tH(this)}wb.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(wb.prototype,"buffer",{get:tge.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var nw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(nw=Function.prototype[Symbol.hasInstance],Object.defineProperty(sn,Symbol.hasInstance,{value:function(e){return nw.call(this,e)?!0:this!==sn?!1:e&&e._writableState instanceof wb}})):nw=function(e){return e instanceof this};function sn(t){Z0=Z0||cf();var e=this instanceof Z0;if(!e&&!nw.call(sn,this))return new sn(t);this._writableState=new wb(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),rH.call(this)}sn.prototype.pipe=function(){e_(this,new lge)};function yge(t,e){var r=new hge;e_(t,r),process.nextTick(e,r)}function bge(t,e,r,n){var i;return r===null?i=new fge:typeof r!="string"&&!e.objectMode&&(i=new oge("chunk",["string","Buffer"],r)),i?(e_(t,i),process.nextTick(n,i),!1):!0}sn.prototype.write=function(t,e,r){var n=this._writableState,i=!1,a=!n.objectMode&&ige(t);return a&&!iw.isBuffer(t)&&(t=nge(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=_ge),n.ending?yge(this,r):(a||bge(this,n,t,r))&&(n.pendingcb++,i=mge(this,n,a,t,e,r)),i};sn.prototype.cork=function(){this._writableState.corked++};sn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&nH(this,t))};sn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new pge(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(sn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function gge(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=iw.from(e,r)),e}Object.defineProperty(sn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function mge(t,e,r,n,i,a){if(!r){var s=gge(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var o=e.objectMode?1:n.length;e.length+=o;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else WP(t,e,!1,o,n,i,a);return u}function WP(t,e,r,n,i,a,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new dge("write")):r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function vge(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(vb,t,e),t._writableState.errorEmitted=!0,e_(t,n)):(i(n),t._writableState.errorEmitted=!0,e_(t,n),vb(t,e))}function wge(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Sge(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new cge;if(wge(r),e)vge(t,r,n,e,i);else{var a=iH(r)||t.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&nH(t,r),n?process.nextTick(eH,t,r,a,i):eH(t,r,a,i)}}function eH(t,e,r,n){r||Tge(t,e),e.pendingcb--,n(),vb(t,e)}function Tge(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function nH(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,o=!0;r;)i[s]=r,r.isBuf||(o=!1),r=r.next,s+=1;i.allBuffers=o,WP(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new tH(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,d=r.encoding,f=r.callback,p=e.objectMode?1:u.length;if(WP(t,e,!1,p,u,d,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}sn.prototype._write=function(t,e,r){r(new uge("_write()"))};sn.prototype._writev=null;sn.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Rge(this,n,r),this};Object.defineProperty(sn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function iH(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Ege(t,e){t._final(function(r){e.pendingcb--,r&&e_(t,r),e.prefinished=!0,t.emit("prefinish"),vb(t,e)})}function Oge(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Ege,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function vb(t,e){var r=iH(e);if(r&&(Oge(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Rge(t,e,r){e.ending=!0,vb(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Age(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(sn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});sn.prototype.destroy=KP.destroy;sn.prototype._undestroy=KP.undestroy;sn.prototype._destroy=function(t,e){e(t)}});var cf=_((gLe,oH)=>{"use strict";var xge=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};oH.exports=Mo;var sH=YP(),JP=XP();ts()(Mo,sH);for($P=xge(JP.prototype),aw=0;aw<$P.length;aw++)sw=$P[aw],Mo.prototype[sw]||(Mo.prototype[sw]=JP.prototype[sw]);var $P,sw,aw;function Mo(t){if(!(this instanceof Mo))return new Mo(t);sH.call(this,t),JP.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Ige)))}Object.defineProperty(Mo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Mo.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Mo.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ige(){this._writableState.ended||process.nextTick(Pge,this)}function Pge(t){t.end()}Object.defineProperty(Mo.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var ow=_((mLe,lH)=>{"use strict";var uH=uf().codes.ERR_STREAM_PREMATURE_CLOSE;function Nge(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Dge(){}function Cge(t){return t.setHeader&&typeof t.abort=="function"}function cH(t,e,r){if(typeof e=="function")return cH(t,null,e);e||(e={}),r=Nge(r||Dge);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||o()},s=t._writableState&&t._writableState.finished,o=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,d=function(){n=!1,u=!0,i||r.call(t)},f=function(v){r.call(t,v)},p=function(){var v;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(v=new uH),r.call(t,v);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(v=new uH),r.call(t,v)},y=function(){t.req.on("finish",o)};return Cge(t)?(t.on("complete",o),t.on("abort",p),t.req?y():t.on("request",y)):i&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",d),t.on("finish",o),e.error!==!1&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",o),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",o),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",o),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}lH.exports=cH});var fH=_((vLe,dH)=>{"use strict";var uw;function Hc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jge=ow(),Gc=Symbol("lastResolve"),lf=Symbol("lastReject"),Sb=Symbol("error"),cw=Symbol("ended"),df=Symbol("lastPromise"),ZP=Symbol("handlePromise"),ff=Symbol("stream");function Qc(t,e){return{value:t,done:e}}function qge(t){var e=t[Gc];if(e!==null){var r=t[ff].read();r!==null&&(t[df]=null,t[Gc]=null,t[lf]=null,e(Qc(r,!1)))}}function Lge(t){process.nextTick(qge,t)}function Mge(t,e){return function(r,n){t.then(function(){if(e[cw]){r(Qc(void 0,!0));return}e[ZP](r,n)},n)}}var Fge=Object.getPrototypeOf(function(){}),Bge=Object.setPrototypeOf((uw={get stream(){return this[ff]},next:function(){var e=this,r=this[Sb];if(r!==null)return Promise.reject(r);if(this[cw])return Promise.resolve(Qc(void 0,!0));if(this[ff].destroyed)return new Promise(function(s,o){process.nextTick(function(){e[Sb]?o(e[Sb]):s(Qc(void 0,!0))})});var n=this[df],i;if(n)i=new Promise(Mge(n,this));else{var a=this[ff].read();if(a!==null)return Promise.resolve(Qc(a,!1));i=new Promise(this[ZP])}return this[df]=i,i}},Hc(uw,Symbol.asyncIterator,function(){return this}),Hc(uw,"return",function(){var e=this;return new Promise(function(r,n){e[ff].destroy(null,function(i){if(i){n(i);return}r(Qc(void 0,!0))})})}),uw),Fge),Uge=function(e){var r,n=Object.create(Bge,(r={},Hc(r,ff,{value:e,writable:!0}),Hc(r,Gc,{value:null,writable:!0}),Hc(r,lf,{value:null,writable:!0}),Hc(r,Sb,{value:null,writable:!0}),Hc(r,cw,{value:e._readableState.endEmitted,writable:!0}),Hc(r,ZP,{value:function(a,s){var o=n[ff].read();o?(n[df]=null,n[Gc]=null,n[lf]=null,a(Qc(o,!1))):(n[Gc]=a,n[lf]=s)},writable:!0}),r));return n[df]=null,jge(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=n[lf];a!==null&&(n[df]=null,n[Gc]=null,n[lf]=null,a(i)),n[Sb]=i;return}var s=n[Gc];s!==null&&(n[df]=null,n[Gc]=null,n[lf]=null,s(Qc(void 0,!0))),n[cw]=!0}),e.on("readable",Lge.bind(null,n)),n};dH.exports=Uge});var pH=_((wLe,hH)=>{hH.exports=function(){throw new Error("Readable.from is not available in the browser")}});var YP=_((TLe,EH)=>{"use strict";EH.exports=Yt;var t_;Yt.ReadableState=gH;var SLe=vu().EventEmitter,bH=function(e,r){return e.listeners(r).length},Eb=kP(),lw=Io().Buffer,Vge=global.Uint8Array||function(){};function kge(t){return lw.from(t)}function Hge(t){return lw.isBuffer(t)||t instanceof Vge}var e4=cb(),Mt;e4&&e4.debuglog?Mt=e4.debuglog("stream"):Mt=function(){};var Gge=Wk(),o4=QP(),Qge=zP(),zge=Qge.getHighWaterMark,dw=uf().codes,Wge=dw.ERR_INVALID_ARG_TYPE,Kge=dw.ERR_STREAM_PUSH_AFTER_EOF,Xge=dw.ERR_METHOD_NOT_IMPLEMENTED,$ge=dw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,r_,t4,r4;ts()(Yt,Eb);var Tb=o4.errorOrDestroy,n4=["error","close","destroy","pause","resume"];function Jge(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function gH(t,e,r){t_=t_||cf(),t=t||{},typeof r!="boolean"&&(r=e instanceof t_),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=zge(this,t,"readableHighWaterMark",r),this.buffer=new Gge,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(r_||(r_=D0().StringDecoder),this.decoder=new r_(t.encoding),this.encoding=t.encoding)}function Yt(t){if(t_=t_||cf(),!(this instanceof Yt))return new Yt(t);var e=this instanceof t_;this._readableState=new gH(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Eb.call(this)}Object.defineProperty(Yt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Yt.prototype.destroy=o4.destroy;Yt.prototype._undestroy=o4.undestroy;Yt.prototype._destroy=function(t,e){e(t)};Yt.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=lw.from(t,e),e=""),n=!0),mH(this,t,e,!1,n)};Yt.prototype.unshift=function(t){return mH(this,t,null,!0,!1)};function mH(t,e,r,n,i){Mt("readableAddChunk",e);var a=t._readableState;if(e===null)a.reading=!1,e1e(t,a);else{var s;if(i||(s=Yge(a,e)),s)Tb(t,s);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==lw.prototype&&(e=kge(e)),n)a.endEmitted?Tb(t,new $ge):i4(t,a,e,!0);else if(a.ended)Tb(t,new Kge);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?i4(t,a,e,!1):s4(t,a)):i4(t,a,e,!1)}else n||(a.reading=!1,s4(t,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function i4(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&fw(t)),s4(t,e)}function Yge(t,e){var r;return!Hge(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Wge("chunk",["string","Buffer","Uint8Array"],e)),r}Yt.prototype.isPaused=function(){return this._readableState.flowing===!1};Yt.prototype.setEncoding=function(t){r_||(r_=D0().StringDecoder);var e=new r_(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var _H=1073741824;function Zge(t){return t>=_H?t=_H:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function yH(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Zge(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Yt.prototype.read=function(t){Mt("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Mt("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?a4(this):fw(this),null;if(t=yH(t,e),t===0&&e.ended)return e.length===0&&a4(this),null;var n=e.needReadable;Mt("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Mt("length less than watermark",n)),e.ended||e.reading?(n=!1,Mt("reading or ended",n)):n&&(Mt("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=yH(r,e)));var i;return t>0?i=SH(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&a4(this)),i!==null&&this.emit("data",i),i};function e1e(t,e){if(Mt("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?fw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,vH(t)))}}function fw(t){var e=t._readableState;Mt("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Mt("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(vH,t))}function vH(t){var e=t._readableState;Mt("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,u4(t)}function s4(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(t1e,t,e))}function t1e(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Mt("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Yt.prototype._read=function(t){Tb(this,new Xge("_read()"))};Yt.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Mt("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,a=i?o:E;n.endEmitted?process.nextTick(a):r.once("end",a),t.on("unpipe",s);function s(D,O){Mt("onunpipe"),D===r&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,f())}function o(){Mt("onend"),t.end()}var u=r1e(r);t.on("drain",u);var d=!1;function f(){Mt("cleanup"),t.removeListener("close",g),t.removeListener("finish",v),t.removeListener("drain",u),t.removeListener("error",y),t.removeListener("unpipe",s),r.removeListener("end",o),r.removeListener("end",E),r.removeListener("data",p),d=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",p);function p(D){Mt("ondata");var O=t.write(D);Mt("dest.write",O),O===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&TH(n.pipes,t)!==-1)&&!d&&(Mt("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(D){Mt("onerror",D),E(),t.removeListener("error",y),bH(t,"error")===0&&Tb(t,D)}Jge(t,"error",y);function g(){t.removeListener("finish",v),E()}t.once("close",g);function v(){Mt("onfinish"),t.removeListener("close",g),E()}t.once("finish",v);function E(){Mt("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Mt("pipe resume"),r.resume()),t};function r1e(t){return function(){var r=t._readableState;Mt("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&bH(t,"data")&&(r.flowing=!0,u4(t))}}Yt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=TH(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Yt.prototype.on=function(t,e){var r=Eb.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Mt("on readable",n.length,n.reading),n.length?fw(this):n.reading||process.nextTick(n1e,this)),r};Yt.prototype.addListener=Yt.prototype.on;Yt.prototype.removeListener=function(t,e){var r=Eb.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(wH,this),r};Yt.prototype.removeAllListeners=function(t){var e=Eb.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(wH,this),e};function wH(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function n1e(t){Mt("readable nexttick read 0"),t.read(0)}Yt.prototype.resume=function(){var t=this._readableState;return t.flowing||(Mt("resume"),t.flowing=!t.readableListening,i1e(this,t)),t.paused=!1,this};function i1e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(a1e,t,e))}function a1e(t,e){Mt("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),u4(t),e.flowing&&!e.reading&&t.read(0)}Yt.prototype.pause=function(){return Mt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Mt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function u4(t){var e=t._readableState;for(Mt("flow",e.flowing);e.flowing&&t.read()!==null;);}Yt.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Mt("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Mt("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var o=e.push(s);o||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));for(var a=0;a<n4.length;a++)t.on(n4[a],this.emit.bind(this,n4[a]));return this._read=function(s){Mt("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Yt.prototype[Symbol.asyncIterator]=function(){return t4===void 0&&(t4=fH()),t4(this)});Object.defineProperty(Yt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Yt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Yt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Yt._fromList=SH;Object.defineProperty(Yt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function SH(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function a4(t){var e=t._readableState;Mt("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(s1e,e,t))}function s1e(t,e){if(Mt("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Yt.from=function(t,e){return r4===void 0&&(r4=pH()),r4(Yt,t,e)});function TH(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var c4=_((ELe,RH)=>{"use strict";RH.exports=qu;var hw=uf().codes,o1e=hw.ERR_METHOD_NOT_IMPLEMENTED,u1e=hw.ERR_MULTIPLE_CALLBACK,c1e=hw.ERR_TRANSFORM_ALREADY_TRANSFORMING,l1e=hw.ERR_TRANSFORM_WITH_LENGTH_0,pw=cf();ts()(qu,pw);function d1e(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new u1e);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function qu(t){if(!(this instanceof qu))return new qu(t);pw.call(this,t),this._transformState={afterTransform:d1e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",f1e)}function f1e(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){OH(t,e,r)}):OH(this,null,null)}qu.prototype.push=function(t,e){return this._transformState.needTransform=!1,pw.prototype.push.call(this,t,e)};qu.prototype._transform=function(t,e,r){r(new o1e("_transform()"))};qu.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};qu.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};qu.prototype._destroy=function(t,e){pw.prototype._destroy.call(this,t,function(r){e(r)})};function OH(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new l1e;if(t._transformState.transforming)throw new c1e;return t.push(null)}});var IH=_((OLe,xH)=>{"use strict";xH.exports=Ob;var AH=c4();ts()(Ob,AH);function Ob(t){if(!(this instanceof Ob))return new Ob(t);AH.call(this,t)}Ob.prototype._transform=function(t,e,r){r(null,t)}});var jH=_((RLe,CH)=>{"use strict";var l4;function h1e(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var DH=uf().codes,p1e=DH.ERR_MISSING_ARGS,_1e=DH.ERR_STREAM_DESTROYED;function PH(t){if(t)throw t}function y1e(t){return t.setHeader&&typeof t.abort=="function"}function b1e(t,e,r,n){n=h1e(n);var i=!1;t.on("close",function(){i=!0}),l4===void 0&&(l4=ow()),l4(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var a=!1;return function(s){if(!i&&!a){if(a=!0,y1e(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new _1e("pipe"))}}}function NH(t){t()}function g1e(t,e){return t.pipe(e)}function m1e(t){return!t.length||typeof t[t.length-1]!="function"?PH:t.pop()}function v1e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=m1e(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new p1e("streams");var i,a=e.map(function(s,o){var u=o<e.length-1,d=o>0;return b1e(s,u,d,function(f){i||(i=f),f&&a.forEach(NH),!u&&(a.forEach(NH),n(i))})});return e.reduce(g1e)}CH.exports=v1e});var LH=_((ps,qH)=>{ps=qH.exports=YP();ps.Stream=ps;ps.Readable=ps;ps.Writable=XP();ps.Duplex=cf();ps.Transform=c4();ps.PassThrough=IH();ps.finished=ow();ps.pipeline=jH()});var f4=_(_w=>{"use strict";Object.defineProperty(_w,"__esModule",{value:!0});_w.ReadableWebToNodeStream=void 0;var w1e=LH(),d4=class extends w1e.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();let e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}};_w.ReadableWebToNodeStream=d4});var FH=_((MH,h4)=>{(function(t){if(typeof MH=="object"&&typeof h4<"u")h4.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.default=t()}})(function(){var t,e,r;return function n(i,a,s){function o(f,p){if(!a[f]){if(!i[f]){var y=typeof hc=="function"&&hc;if(!p&&y)return y(f,!0);if(u)return u(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var v=a[f]={exports:{}};i[f][0].call(v.exports,function(E){var D=i[f][1][E];return o(D||E)},v,v.exports,n,i,a,s)}return a[f].exports}for(var u=typeof hc=="function"&&hc,d=0;d<s.length;d++)o(s[d]);return o}({1:[function(n,i,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=n("./spec/reference-implementation/lib/readable-stream"),o=s.ReadableStream,u=n("./spec/reference-implementation/lib/writable-stream"),d=u.WritableStream,f=n("./spec/reference-implementation/lib/byte-length-queuing-strategy"),p=n("./spec/reference-implementation/lib/count-queuing-strategy"),y=n("./spec/reference-implementation/lib/transform-stream"),g=y.TransformStream;a.ByteLengthQueuingStrategy=f,a.CountQueuingStrategy=p,a.ReadableStream=o,a.WritableStream=d,a.TransformStream=g;var v={ReadableStream:o,WritableStream:d,ByteLengthQueuingStrategy:f,CountQueuingStrategy:p,TransformStream:g};a.default=v},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":8,"./spec/reference-implementation/lib/count-queuing-strategy":9,"./spec/reference-implementation/lib/readable-stream":12,"./spec/reference-implementation/lib/transform-stream":13,"./spec/reference-implementation/lib/writable-stream":15}],2:[function(n,i,a){(function(s){"use strict";function o(J,re){if(J===re)return 0;for(var de=J.length,_e=re.length,Ce=0,nt=Math.min(de,_e);Ce<nt;++Ce)if(J[Ce]!==re[Ce]){de=J[Ce],_e=re[Ce];break}return de<_e?-1:_e<de?1:0}function u(J){return s.Buffer&&typeof s.Buffer.isBuffer=="function"?s.Buffer.isBuffer(J):!(J==null||!J._isBuffer)}function d(J){return Object.prototype.toString.call(J)}function f(J){return!u(J)&&typeof s.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(J):!!J&&(J instanceof DataView||!!(J.buffer&&J.buffer instanceof ArrayBuffer)))}function p(J){if(ee.isFunction(J)){if(H)return J.name;var re=J.toString().match(Ne);return re&&re[1]}}function y(J,re){return typeof J=="string"?J.length<re?J:J.slice(0,re):J}function g(J){if(H||!ee.isFunction(J))return ee.inspect(J);var re=p(J);return"[Function"+(re?": "+re:"")+"]"}function v(J){return y(g(J.actual),128)+" "+J.operator+" "+y(g(J.expected),128)}function E(J,re,de,_e,Ce){throw new se.AssertionError({message:de,actual:J,expected:re,operator:_e,stackStartFunction:Ce})}function D(J,re){J||E(J,!0,re,"==",se.ok)}function O(J,re,de,_e){if(J===re)return!0;if(u(J)&&u(re))return o(J,re)===0;if(ee.isDate(J)&&ee.isDate(re))return J.getTime()===re.getTime();if(ee.isRegExp(J)&&ee.isRegExp(re))return J.source===re.source&&J.global===re.global&&J.multiline===re.multiline&&J.lastIndex===re.lastIndex&&J.ignoreCase===re.ignoreCase;if(J!==null&&typeof J=="object"||re!==null&&typeof re=="object"){if(f(J)&&f(re)&&d(J)===d(re)&&!(J instanceof Float32Array||J instanceof Float64Array))return o(new Uint8Array(J.buffer),new Uint8Array(re.buffer))===0;if(u(J)!==u(re))return!1;var Ce=(_e=_e||{actual:[],expected:[]}).actual.indexOf(J);return Ce!==-1&&Ce===_e.expected.indexOf(re)||(_e.actual.push(J),_e.expected.push(re),R(J,re,de,_e))}return de?J===re:J==re}function C(J){return Object.prototype.toString.call(J)=="[object Arguments]"}function R(J,re,de,_e){if(J==null||re===null||re===void 0)return!1;if(ee.isPrimitive(J)||ee.isPrimitive(re))return J===re;if(de&&Object.getPrototypeOf(J)!==Object.getPrototypeOf(re))return!1;var Ce=C(J),nt=C(re);if(Ce&&!nt||!Ce&&nt)return!1;if(Ce)return J=x.call(J),re=x.call(re),O(J,re,de);var ze,Ye,fe=Me(J),ae=Me(re);if(fe.length!==ae.length)return!1;for(fe.sort(),ae.sort(),Ye=fe.length-1;Ye>=0;Ye--)if(fe[Ye]!==ae[Ye])return!1;for(Ye=fe.length-1;Ye>=0;Ye--)if(ze=fe[Ye],!O(J[ze],re[ze],de,_e))return!1;return!0}function w(J,re,de){O(J,re,!0)&&E(J,re,de,"notDeepStrictEqual",w)}function P(J,re){if(!J||!re)return!1;if(Object.prototype.toString.call(re)=="[object RegExp]")return re.test(J);try{if(J instanceof re)return!0}catch{}return!Error.isPrototypeOf(re)&&re.call({},J)===!0}function T(J){var re;try{J()}catch(de){re=de}return re}function te(J,re,de,_e){var Ce;if(typeof re!="function")throw new TypeError('"block" argument must be a function');typeof de=="string"&&(_e=de,de=null),Ce=T(re),_e=(de&&de.name?" ("+de.name+").":".")+(_e?" "+_e:"."),J&&!Ce&&E(Ce,de,"Missing expected exception"+_e);var nt=typeof _e=="string",ze=!J&&ee.isError(Ce),Ye=!J&&Ce&&!de;if((ze&&nt&&P(Ce,de)||Ye)&&E(Ce,de,"Got unwanted exception"+_e),J&&Ce&&de&&!P(Ce,de)||!J&&Ce)throw Ce}var ee=n("util/"),Y=Object.prototype.hasOwnProperty,x=Array.prototype.slice,H=function(){}.name==="foo",se=i.exports=D,Ne=/\s*function\s+([^\(\s]*)\s*/;se.AssertionError=function(re){this.name="AssertionError",this.actual=re.actual,this.expected=re.expected,this.operator=re.operator,re.message?(this.message=re.message,this.generatedMessage=!1):(this.message=v(this),this.generatedMessage=!0);var de=re.stackStartFunction||E;if(Error.captureStackTrace)Error.captureStackTrace(this,de);else{var _e=new Error;if(_e.stack){var Ce=_e.stack,nt=p(de),ze=Ce.indexOf(`
`+nt);if(ze>=0){var Ye=Ce.indexOf(`
`,ze+1);Ce=Ce.substring(Ye+1)}this.stack=Ce}}},ee.inherits(se.AssertionError,Error),se.fail=E,se.ok=D,se.equal=function(re,de,_e){re!=de&&E(re,de,_e,"==",se.equal)},se.notEqual=function(re,de,_e){re==de&&E(re,de,_e,"!=",se.notEqual)},se.deepEqual=function(re,de,_e){O(re,de,!1)||E(re,de,_e,"deepEqual",se.deepEqual)},se.deepStrictEqual=function(re,de,_e){O(re,de,!0)||E(re,de,_e,"deepStrictEqual",se.deepStrictEqual)},se.notDeepEqual=function(re,de,_e){O(re,de,!1)&&E(re,de,_e,"notDeepEqual",se.notDeepEqual)},se.notDeepStrictEqual=w,se.strictEqual=function(re,de,_e){re!==de&&E(re,de,_e,"===",se.strictEqual)},se.notStrictEqual=function(re,de,_e){re===de&&E(re,de,_e,"!==",se.notStrictEqual)},se.throws=function(J,re,de){te(!0,J,re,de)},se.doesNotThrow=function(J,re,de){te(!1,J,re,de)},se.ifError=function(J){if(J)throw J};var Me=Object.keys||function(J){var re=[];for(var de in J)Y.call(J,de)&&re.push(de);return re}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"util/":7}],3:[function(n,i,a){},{}],4:[function(n,i,a){function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(P){if(v===setTimeout)return setTimeout(P,0);if((v===s||!v)&&setTimeout)return v=setTimeout,setTimeout(P,0);try{return v(P,0)}catch{try{return v.call(null,P,0)}catch{return v.call(this,P,0)}}}function d(P){if(E===clearTimeout)return clearTimeout(P);if((E===o||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(P);try{return E(P)}catch{try{return E.call(null,P)}catch{return E.call(this,P)}}}function f(){R&&O&&(R=!1,O.length?C=O.concat(C):w=-1,C.length&&p())}function p(){if(!R){var P=u(f);R=!0;for(var T=C.length;T;){for(O=C,C=[];++w<T;)O&&O[w].run();w=-1,T=C.length}O=null,R=!1,d(P)}}function y(P,T){this.fun=P,this.array=T}function g(){}var v,E,D=i.exports={};(function(){try{v=typeof setTimeout=="function"?setTimeout:s}catch{v=s}try{E=typeof clearTimeout=="function"?clearTimeout:o}catch{E=o}})();var O,C=[],R=!1,w=-1;D.nextTick=function(P){var T=new Array(arguments.length-1);if(arguments.length>1)for(var te=1;te<arguments.length;te++)T[te-1]=arguments[te];C.push(new y(P,T)),C.length!==1||R||u(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},D.title="browser",D.browser=!0,D.env={},D.argv=[],D.version="",D.versions={},D.on=g,D.addListener=g,D.once=g,D.off=g,D.removeListener=g,D.removeAllListeners=g,D.emit=g,D.prependListener=g,D.prependOnceListener=g,D.listeners=function(P){return[]},D.binding=function(P){throw new Error("process.binding is not supported")},D.cwd=function(){return"/"},D.chdir=function(P){throw new Error("process.chdir is not supported")},D.umask=function(){return 0}},{}],5:[function(n,i,a){typeof Object.create=="function"?i.exports=function(o,u){o.super_=u,o.prototype=Object.create(u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(o,u){o.super_=u;var d=function(){};d.prototype=u.prototype,o.prototype=new d,o.prototype.constructor=o}},{}],6:[function(n,i,a){i.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],7:[function(n,i,a){(function(s,o){function u(ae,oe){var pe={seen:[],stylize:f};return arguments.length>=3&&(pe.depth=arguments[2]),arguments.length>=4&&(pe.colors=arguments[3]),R(oe)?pe.showHidden=oe:oe&&a._extend(pe,oe),Y(pe.showHidden)&&(pe.showHidden=!1),Y(pe.depth)&&(pe.depth=2),Y(pe.colors)&&(pe.colors=!1),Y(pe.customInspect)&&(pe.customInspect=!0),pe.colors&&(pe.stylize=d),y(pe,ae,pe.depth)}function d(ae,oe){var pe=u.styles[oe];return pe?"\x1B["+u.colors[pe][0]+"m"+ae+"\x1B["+u.colors[pe][1]+"m":ae}function f(ae,oe){return ae}function p(ae){var oe={};return ae.forEach(function(pe,Oe){oe[pe]=!0}),oe}function y(ae,oe,pe){if(ae.customInspect&&oe&&Me(oe.inspect)&&oe.inspect!==a.inspect&&(!oe.constructor||oe.constructor.prototype!==oe)){var Oe=oe.inspect(pe,ae);return te(Oe)||(Oe=y(ae,Oe,pe)),Oe}var Ue=g(ae,oe);if(Ue)return Ue;var N=Object.keys(oe),L=p(N);if(ae.showHidden&&(N=Object.getOwnPropertyNames(oe)),Ne(oe)&&(N.indexOf("message")>=0||N.indexOf("description")>=0))return v(oe);if(N.length===0){if(Me(oe)){var V=oe.name?": "+oe.name:"";return ae.stylize("[Function"+V+"]","special")}if(x(oe))return ae.stylize(RegExp.prototype.toString.call(oe),"regexp");if(se(oe))return ae.stylize(Date.prototype.toString.call(oe),"date");if(Ne(oe))return v(oe)}var $="",M=!1,k=["{","}"];if(C(oe)&&(M=!0,k=["[","]"]),Me(oe)&&($=" [Function"+(oe.name?": "+oe.name:"")+"]"),x(oe)&&($=" "+RegExp.prototype.toString.call(oe)),se(oe)&&($=" "+Date.prototype.toUTCString.call(oe)),Ne(oe)&&($=" "+v(oe)),N.length===0&&(!M||oe.length==0))return k[0]+$+k[1];if(pe<0)return x(oe)?ae.stylize(RegExp.prototype.toString.call(oe),"regexp"):ae.stylize("[Object]","special");ae.seen.push(oe);var z;return z=M?E(ae,oe,pe,L,N):N.map(function(B){return D(ae,oe,pe,L,B,M)}),ae.seen.pop(),O(z,$,k)}function g(ae,oe){if(Y(oe))return ae.stylize("undefined","undefined");if(te(oe)){var pe="'"+JSON.stringify(oe).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ae.stylize(pe,"string")}return T(oe)?ae.stylize(""+oe,"number"):R(oe)?ae.stylize(""+oe,"boolean"):w(oe)?ae.stylize("null","null"):void 0}function v(ae){return"["+Error.prototype.toString.call(ae)+"]"}function E(ae,oe,pe,Oe,Ue){for(var N=[],L=0,V=oe.length;L<V;++L)Ce(oe,String(L))?N.push(D(ae,oe,pe,Oe,String(L),!0)):N.push("");return Ue.forEach(function($){$.match(/^\d+$/)||N.push(D(ae,oe,pe,Oe,$,!0))}),N}function D(ae,oe,pe,Oe,Ue,N){var L,V,$;if(($=Object.getOwnPropertyDescriptor(oe,Ue)||{value:oe[Ue]}).get?V=$.set?ae.stylize("[Getter/Setter]","special"):ae.stylize("[Getter]","special"):$.set&&(V=ae.stylize("[Setter]","special")),Ce(Oe,Ue)||(L="["+Ue+"]"),V||(ae.seen.indexOf($.value)<0?(V=w(pe)?y(ae,$.value,null):y(ae,$.value,pe-1)).indexOf(`
`)>-1&&(V=N?V.split(`
`).map(function(M){return"  "+M}).join(`
`).substr(2):`
`+V.split(`
`).map(function(M){return"   "+M}).join(`
`)):V=ae.stylize("[Circular]","special")),Y(L)){if(N&&Ue.match(/^\d+$/))return V;(L=JSON.stringify(""+Ue)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.substr(1,L.length-2),L=ae.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=ae.stylize(L,"string"))}return L+": "+V}function O(ae,oe,pe){var Oe=0;return ae.reduce(function(Ue,N){return Oe++,N.indexOf(`
`)>=0&&Oe++,Ue+N.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?pe[0]+(oe===""?"":oe+`
 `)+" "+ae.join(`,
  `)+" "+pe[1]:pe[0]+oe+" "+ae.join(", ")+" "+pe[1]}function C(ae){return Array.isArray(ae)}function R(ae){return typeof ae=="boolean"}function w(ae){return ae===null}function P(ae){return ae==null}function T(ae){return typeof ae=="number"}function te(ae){return typeof ae=="string"}function ee(ae){return typeof ae=="symbol"}function Y(ae){return ae===void 0}function x(ae){return H(ae)&&re(ae)==="[object RegExp]"}function H(ae){return typeof ae=="object"&&ae!==null}function se(ae){return H(ae)&&re(ae)==="[object Date]"}function Ne(ae){return H(ae)&&(re(ae)==="[object Error]"||ae instanceof Error)}function Me(ae){return typeof ae=="function"}function J(ae){return ae===null||typeof ae=="boolean"||typeof ae=="number"||typeof ae=="string"||typeof ae=="symbol"||ae===void 0}function re(ae){return Object.prototype.toString.call(ae)}function de(ae){return ae<10?"0"+ae.toString(10):ae.toString(10)}function _e(){var ae=new Date,oe=[de(ae.getHours()),de(ae.getMinutes()),de(ae.getSeconds())].join(":");return[ae.getDate(),fe[ae.getMonth()],oe].join(" ")}function Ce(ae,oe){return Object.prototype.hasOwnProperty.call(ae,oe)}var nt=/%[sdj%]/g;a.format=function(ae){if(!te(ae)){for(var oe=[],pe=0;pe<arguments.length;pe++)oe.push(u(arguments[pe]));return oe.join(" ")}for(var pe=1,Oe=arguments,Ue=Oe.length,N=String(ae).replace(nt,function($){if($==="%%")return"%";if(pe>=Ue)return $;switch($){case"%s":return String(Oe[pe++]);case"%d":return Number(Oe[pe++]);case"%j":try{return JSON.stringify(Oe[pe++])}catch{return"[Circular]"}default:return $}}),L=Oe[pe];pe<Ue;L=Oe[++pe])w(L)||!H(L)?N+=" "+L:N+=" "+u(L);return N},a.deprecate=function(ae,oe){if(Y(o.process))return function(){return a.deprecate(ae,oe).apply(this,arguments)};if(s.noDeprecation===!0)return ae;var pe=!1;return function(){if(!pe){if(s.throwDeprecation)throw new Error(oe);s.traceDeprecation?console.trace(oe):console.error(oe),pe=!0}return ae.apply(this,arguments)}};var ze,Ye={};a.debuglog=function(ae){if(Y(ze)&&(ze=s.env.NODE_DEBUG||""),ae=ae.toUpperCase(),!Ye[ae])if(new RegExp("\\b"+ae+"\\b","i").test(ze)){var oe=s.pid;Ye[ae]=function(){var pe=a.format.apply(a,arguments);console.error("%s %d: %s",ae,oe,pe)}}else Ye[ae]=function(){};return Ye[ae]},a.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=C,a.isBoolean=R,a.isNull=w,a.isNullOrUndefined=P,a.isNumber=T,a.isString=te,a.isSymbol=ee,a.isUndefined=Y,a.isRegExp=x,a.isObject=H,a.isDate=se,a.isError=Ne,a.isFunction=Me,a.isPrimitive=J,a.isBuffer=n("./support/isBuffer");var fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];a.log=function(){console.log("%s - %s",_e(),a.format.apply(a,arguments))},a.inherits=n("inherits"),a._extend=function(ae,oe){if(!oe||!H(oe))return ae;for(var pe=Object.keys(oe),Oe=pe.length;Oe--;)ae[pe[Oe]]=oe[pe[Oe]];return ae}}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":6,_process:4,inherits:5}],8:[function(n,i,a){"use strict";function s(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}var o=function(){function f(p,y){for(var g=0;g<y.length;g++){var v=y[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,y,g){return y&&f(p.prototype,y),g&&f(p,g),p}}(),u=n("./helpers.js"),d=u.createDataProperty;i.exports=function(){function f(p){var y=p.highWaterMark;s(this,f),d(this,"highWaterMark",y)}return o(f,[{key:"size",value:function(y){return y.byteLength}}]),f}()},{"./helpers.js":10}],9:[function(n,i,a){"use strict";function s(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}var o=function(){function f(p,y){for(var g=0;g<y.length;g++){var v=y[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,y,g){return y&&f(p.prototype,y),g&&f(p,g),p}}(),u=n("./helpers.js"),d=u.createDataProperty;i.exports=function(){function f(p){var y=p.highWaterMark;s(this,f),d(this,"highWaterMark",y)}return o(f,[{key:"size",value:function(){return 1}}]),f}()},{"./helpers.js":10}],10:[function(n,i,a){"use strict";function s(y){return typeof y=="string"||(y===void 0?"undefined":d(y))==="symbol"}function o(y,g,v){if(typeof y!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(y,g,v)}function u(y,g,v){try{return Promise.resolve(o(y,g,v))}catch(E){return Promise.reject(E)}}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},f=n("better-assert"),p=Symbol('is "detached" for our purposes');a.typeIsObject=function(y){return(y===void 0?"undefined":d(y))==="object"&&y!==null||typeof y=="function"},a.createDataProperty=function(y,g,v){Object.defineProperty(y,g,{value:v,writable:!0,enumerable:!0,configurable:!0})},a.createArrayFromList=function(y){return y.slice()},a.ArrayBufferCopy=function(y,g,v,E,D){new Uint8Array(y).set(new Uint8Array(v,E,D),g)},a.CreateIterResultObject=function(y,g){var v={};return Object.defineProperty(v,"value",{value:y,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(v,"done",{value:g,enumerable:!0,writable:!0,configurable:!0}),v},a.IsFiniteNonNegativeNumber=function(y){return a.IsNonNegativeNumber(y)!==!1&&y!==1/0},a.IsNonNegativeNumber=function(y){return typeof y=="number"&&!Number.isNaN(y)&&!(y<0)},a.Call=o,a.CreateAlgorithmFromUnderlyingMethod=function(y,g,v,E){var D=y[g];if(D!==void 0){if(typeof D!="function")throw new TypeError(D+" is not a method");switch(v){case 0:return function(){return u(D,y,E)};case 1:return function(O){var C=[O].concat(E);return u(D,y,C)}}}return function(){return Promise.resolve()}},a.InvokeOrNoop=function(y,g,v){var E=y[g];if(E!==void 0)return o(E,y,v)},a.PromiseCall=u,a.TransferArrayBuffer=function(y){var g=y.slice();return Object.defineProperty(y,"byteLength",{get:function(){return 0}}),y[p]=!0,g},a.IsDetachedBuffer=function(y){return p in y},a.ValidateAndNormalizeHighWaterMark=function(y){if(y=Number(y),Number.isNaN(y)||y<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return y},a.MakeSizeAlgorithmFromSizeFunction=function(y){if(y===void 0)return function(){return 1};if(typeof y!="function")throw new TypeError("size property of a queuing strategy must be a function");return function(g){return y(g)}}},{"better-assert":16}],11:[function(n,i,a){"use strict";var s=n("better-assert"),o=n("./helpers.js"),u=o.IsFiniteNonNegativeNumber;a.DequeueValue=function(d){var f=d._queue.shift();return d._queueTotalSize-=f.size,d._queueTotalSize<0&&(d._queueTotalSize=0),f.value},a.EnqueueValueWithSize=function(d,f,p){if(p=Number(p),!u(p))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");d._queue.push({value:f,size:p}),d._queueTotalSize+=p},a.PeekQueueValue=function(d){return d._queue[0].value},a.ResetQueue=function(d){d._queue=[],d._queueTotalSize=0}},{"./helpers.js":10,"better-assert":16}],12:[function(n,i,a){"use strict";function s(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}function o(j){return new Ni(j)}function u(j){return new Qa(j)}function d(j,G,Z){var De=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,je=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},Ve=Object.create(Es.prototype);return p(Ve),Ue(Ve,Object.create(Di.prototype),j,G,Z,De,je),Ve}function f(j,G,Z){var De=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,je=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,Ve=Object.create(Es.prototype);return p(Ve),Nr(Ve,Object.create(Zo.prototype),j,G,Z,De,je),Ve}function p(j){j._state="readable",j._reader=void 0,j._storedError=void 0,j._disturbed=!1}function y(j){return!!Ji(j)&&!!Object.prototype.hasOwnProperty.call(j,"_readableStreamController")}function g(j){return j._disturbed}function v(j){return j._reader!==void 0}function E(j,G){function Z(){return de(je).then(function(wn){var Zr=wn.value;if(wn.done===!0&&Ve===!1&&(ot===!1&&ze(Ar._readableStreamController),It===!1&&ze(pr._readableStreamController),Ve=!0),Ve!==!0){var lr=Zr,Dn=Zr;ot===!1&&Ye(Ar._readableStreamController,lr),It===!1&&Ye(pr._readableStreamController,Dn)}})}function De(){}var je=u(j),Ve=!1,ot=!1,It=!1,$t=void 0,Kt=void 0,Ar=void 0,pr=void 0,Nn=void 0,Ci=new Promise(function(wn){Nn=wn});return Ar=d(De,Z,function(Zr){if(ot=!0,$t=Zr,It===!0){var lr=wa([$t,Kt]),Dn=C(j,lr);Nn(Dn)}return Ci}),pr=d(De,Z,function(Zr){if(It=!0,Kt=Zr,ot===!0){var lr=wa([$t,Kt]),Dn=C(j,lr);Nn(Dn)}return Ci}),je._closedPromise.catch(function(wn){Ve!==!0&&(ae(Ar._readableStreamController,wn),ae(pr._readableStreamController,wn),Ve=!0)}),[Ar,pr]}function D(j){return new Promise(function(G,Z){var De={_resolve:G,_reject:Z};j._reader._readIntoRequests.push(De)})}function O(j){return new Promise(function(G,Z){var De={_resolve:G,_reject:Z};j._reader._readRequests.push(De)})}function C(j,G){return j._disturbed=!0,j._state==="closed"?Promise.resolve(void 0):j._state==="errored"?Promise.reject(j._storedError):(R(j),j._readableStreamController[ro](G).then(function(){}))}function R(j){j._state="closed";var G=j._reader;if(G!==void 0){if(se(G)===!0){var Z=!0,De=!1,je=void 0;try{for(var Ve,ot=G._readRequests[Symbol.iterator]();!(Z=(Ve=ot.next()).done);Z=!0)(0,Ve.value._resolve)(St(void 0,!0))}catch(It){De=!0,je=It}finally{try{!Z&&ot.return&&ot.return()}finally{if(De)throw je}}G._readRequests=[]}Xi(G)}}function w(j,G){j._state="errored",j._storedError=G;var Z=j._reader;if(Z!==void 0){if(se(Z)===!0){var De=!0,je=!1,Ve=void 0;try{for(var ot,It=Z._readRequests[Symbol.iterator]();!(De=(ot=It.next()).done);De=!0)ot.value._reject(G)}catch(Ci){je=!0,Ve=Ci}finally{try{!De&&It.return&&It.return()}finally{if(je)throw Ve}}Z._readRequests=[]}else{var $t=!0,Kt=!1,Ar=void 0;try{for(var pr,Nn=Z._readIntoRequests[Symbol.iterator]();!($t=(pr=Nn.next()).done);$t=!0)pr.value._reject(G)}catch(Ci){Kt=!0,Ar=Ci}finally{try{!$t&&Nn.return&&Nn.return()}finally{if(Kt)throw Ar}}Z._readIntoRequests=[]}Fn(Z,G),Z._closedPromise.catch(function(){})}}function P(j,G,Z){j._reader._readIntoRequests.shift()._resolve(St(G,Z))}function T(j,G,Z){j._reader._readRequests.shift()._resolve(St(G,Z))}function te(j){return j._reader._readIntoRequests.length}function ee(j){return j._reader._readRequests.length}function Y(j){var G=j._reader;return G!==void 0&&H(G)!==!1}function x(j){var G=j._reader;return G!==void 0&&se(G)!==!1}function H(j){return!!Ji(j)&&!!Object.prototype.hasOwnProperty.call(j,"_readIntoRequests")}function se(j){return!!Ji(j)&&!!Object.prototype.hasOwnProperty.call(j,"_readRequests")}function Ne(j,G){j._ownerReadableStream=G,G._reader=j,G._state==="readable"?va(j):G._state==="closed"?Zs(j):(Ki(j,G._storedError),j._closedPromise.catch(function(){}))}function Me(j,G){return C(j._ownerReadableStream,G)}function J(j){j._ownerReadableStream._state==="readable"?Fn(j,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):xi(j,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),j._closedPromise.catch(function(){}),j._ownerReadableStream._reader=void 0,j._ownerReadableStream=void 0}function re(j,G){var Z=j._ownerReadableStream;return Z._disturbed=!0,Z._state==="errored"?Promise.reject(Z._storedError):Se(Z._readableStreamController,G)}function de(j){var G=j._ownerReadableStream;return G._disturbed=!0,G._state==="closed"?Promise.resolve(St(void 0,!0)):G._state==="errored"?Promise.reject(G._storedError):G._readableStreamController[Vn]()}function _e(j){return!!Ji(j)&&!!Object.prototype.hasOwnProperty.call(j,"_controlledReadableStream")}function Ce(j){nt(j)!==!1&&(j._pulling!==!0?(j._pulling=!0,j._pullAlgorithm().then(function(){if(j._pulling=!1,j._pullAgain===!0)return j._pullAgain=!1,Ce(j)},function(G){ae(j,G)}).catch(Yi)):j._pullAgain=!0)}function nt(j){var G=j._controlledReadableStream;return Oe(j)!==!1&&j._started!==!1&&(v(G)===!0&&ee(G)>0||oe(j)>0)}function ze(j){var G=j._controlledReadableStream;j._closeRequested=!0,j._queue.length===0&&R(G)}function Ye(j,G){var Z=j._controlledReadableStream;if(v(Z)===!0&&ee(Z)>0)T(Z,G,!1);else{var De=void 0;try{De=j._strategySizeAlgorithm(G)}catch(je){throw ae(j,je),je}try{Va(j,G,De)}catch(je){throw ae(j,je),je}}Ce(j)}function fe(j,G){var Z=j._controlledReadableStream;ka(j),w(Z,G)}function ae(j,G){j._controlledReadableStream._state==="readable"&&fe(j,G)}function oe(j){var G=j._controlledReadableStream._state;return G==="errored"?null:G==="closed"?0:j._strategyHWM-j._queueTotalSize}function pe(j){return nt(j)!==!0}function Oe(j){var G=j._controlledReadableStream._state;return j._closeRequested===!1&&G==="readable"}function Ue(j,G,Z,De,je,Ve,ot){G._controlledReadableStream=j,G._queue=void 0,G._queueTotalSize=void 0,ka(G),G._started=!1,G._closeRequested=!1,G._pullAgain=!1,G._pulling=!1,G._strategySizeAlgorithm=ot,G._strategyHWM=Ve,G._pullAlgorithm=De,G._cancelAlgorithm=je,j._readableStreamController=G;var It=Z();Promise.resolve(It).then(function(){G._started=!0,Ce(G)},function($t){ae(G,$t)}).catch(Yi)}function N(j,G,Z,De){var je=Object.create(Di.prototype),Ve=ct(G,"pull",0,[je]),ot=ct(G,"cancel",1,[]);Ue(j,je,function(){return Yr(G,"start",[je])},Ve,ot,Z,De)}function L(j){return!!Ji(j)&&!!Object.prototype.hasOwnProperty.call(j,"_controlledReadableByteStream")}function V(j){return!!Ji(j)&&!!Object.prototype.hasOwnProperty.call(j,"_associatedReadableByteStreamController")}function $(j){Ge(j)!==!1&&(j._pulling!==!0?(j._pulling=!0,j._pullAlgorithm().then(function(){j._pulling=!1,j._pullAgain===!0&&(j._pullAgain=!1,$(j))},function(G){j._controlledReadableByteStream._state==="readable"&&ft(j,G)}).catch(Yi)):j._pullAgain=!0)}function M(j){ne(j),j._pendingPullIntos=[]}function k(j,G){var Z=!1;j._state==="closed"&&(Z=!0);var De=z(G);G.readerType==="default"?T(j,De,Z):P(j,De,Z)}function z(j){var G=j.bytesFilled,Z=j.elementSize;return new j.ctor(j.buffer,j.byteOffset,G/Z)}function B(j,G,Z,De){j._queue.push({buffer:G,byteOffset:Z,byteLength:De}),j._queueTotalSize+=De}function Q(j,G){var Z=G.elementSize,De=G.bytesFilled-G.bytesFilled%Z,je=Math.min(j._queueTotalSize,G.byteLength-G.bytesFilled),Ve=G.bytesFilled+je,ot=Ve-Ve%Z,It=je,$t=!1;ot>De&&(It=ot-G.bytesFilled,$t=!0);for(var Kt=j._queue;It>0;){var Ar=Kt[0],pr=Math.min(It,Ar.byteLength),Nn=G.byteOffset+G.bytesFilled;at(G.buffer,Nn,Ar.buffer,Ar.byteOffset,pr),Ar.byteLength===pr?Kt.shift():(Ar.byteOffset+=pr,Ar.byteLength-=pr),j._queueTotalSize-=pr,K(j,pr,G),It-=pr}return $t}function K(j,G,Z){ne(j),Z.bytesFilled+=G}function W(j){j._queueTotalSize===0&&j._closeRequested===!0?R(j._controlledReadableByteStream):$(j)}function ne(j){j._byobRequest!==void 0&&(j._byobRequest._associatedReadableByteStreamController=void 0,j._byobRequest._view=void 0,j._byobRequest=void 0)}function ge(j){for(;j._pendingPullIntos.length>0;){if(j._queueTotalSize===0)return;var G=j._pendingPullIntos[0];Q(j,G)===!0&&(Be(j),k(j._controlledReadableByteStream,G))}}function Se(j,G){var Z=j._controlledReadableByteStream,De=1;G.constructor!==DataView&&(De=G.constructor.BYTES_PER_ELEMENT);var je=G.constructor,Ve={buffer:Rr(G.buffer),byteOffset:G.byteOffset,byteLength:G.byteLength,bytesFilled:0,elementSize:De,ctor:je,readerType:"byob"};if(j._pendingPullIntos.length>0)return j._pendingPullIntos.push(Ve),D(Z);if(Z._state==="closed"){var ot=new G.constructor(Ve.buffer,Ve.byteOffset,0);return Promise.resolve(St(ot,!0))}if(j._queueTotalSize>0){if(Q(j,Ve)===!0){var It=z(Ve);return W(j),Promise.resolve(St(It,!1))}if(j._closeRequested===!0){var $t=new TypeError("Insufficient bytes to fill elements in the given buffer");return ft(j,$t),Promise.reject($t)}}j._pendingPullIntos.push(Ve);var Kt=D(Z);return $(j),Kt}function Pe(j,G){G.buffer=Rr(G.buffer);var Z=j._controlledReadableByteStream;if(Y(Z)===!0)for(;te(Z)>0;)k(Z,Be(j))}function qe(j,G,Z){if(Z.bytesFilled+G>Z.byteLength)throw new RangeError("bytesWritten out of range");if(K(j,G,Z),!(Z.bytesFilled<Z.elementSize)){Be(j);var De=Z.bytesFilled%Z.elementSize;if(De>0){var je=Z.byteOffset+Z.bytesFilled,Ve=Z.buffer.slice(je-De,je);B(j,Ve,0,Ve.byteLength)}Z.buffer=Rr(Z.buffer),Z.bytesFilled-=De,k(j._controlledReadableByteStream,Z),ge(j)}}function Fe(j,G){var Z=j._pendingPullIntos[0];if(j._controlledReadableByteStream._state==="closed"){if(G!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");Pe(j,Z)}else qe(j,G,Z)}function Be(j){var G=j._pendingPullIntos.shift();return ne(j),G}function Ge(j){var G=j._controlledReadableByteStream;return G._state==="readable"&&j._closeRequested!==!0&&j._started!==!1&&(x(G)===!0&&ee(G)>0||Y(G)===!0&&te(G)>0||$e(j)>0)}function Ze(j){var G=j._controlledReadableByteStream;if(j._queueTotalSize>0)j._closeRequested=!0;else{if(j._pendingPullIntos.length>0&&j._pendingPullIntos[0].bytesFilled>0){var Z=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ft(j,Z),Z}R(G)}}function mt(j,G){var Z=j._controlledReadableByteStream,De=G.buffer,je=G.byteOffset,Ve=G.byteLength,ot=Rr(De);x(Z)===!0?ee(Z)===0?B(j,ot,je,Ve):T(Z,new Uint8Array(ot,je,Ve),!1):Y(Z)===!0?(B(j,ot,je,Ve),ge(j)):B(j,ot,je,Ve)}function ft(j,G){var Z=j._controlledReadableByteStream;M(j),ka(j),w(Z,G)}function $e(j){var G=j._controlledReadableByteStream._state;return G==="errored"?null:G==="closed"?0:j._strategyHWM-j._queueTotalSize}function hr(j,G){if(G=Number(G),wt(G)===!1)throw new RangeError("bytesWritten must be a finite");Fe(j,G)}function Wt(j,G){var Z=j._pendingPullIntos[0];if(Z.byteOffset+Z.bytesFilled!==G.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Z.byteLength!==G.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");Z.buffer=G.buffer,Fe(j,G.byteLength)}function Nr(j,G,Z,De,je,Ve,ot){G._controlledReadableByteStream=j,G._pullAgain=!1,G._pulling=!1,M(G),G._queue=G._queueTotalSize=void 0,ka(G),G._closeRequested=!1,G._started=!1,G._strategyHWM=Ts(Ve),G._pullAlgorithm=De,G._cancelAlgorithm=je,G._autoAllocateChunkSize=ot,G._pendingPullIntos=[],j._readableStreamController=G;var It=Z();Promise.resolve(It).then(function(){G._started=!0,$(G)},function($t){j._state==="readable"&&ft(G,$t)}).catch(Yi)}function Or(j,G,Z){var De=Object.create(Zo.prototype),je=ct(G,"pull",0,[De]),Ve=ct(G,"cancel",1,[]),ot=G.autoAllocateChunkSize;if(ot!==void 0&&(Number.isInteger(ot)===!1||ot<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");Nr(j,De,function(){return Yr(G,"start",[De])},je,Ve,Z,ot)}function vt(j,G,Z){j._associatedReadableByteStreamController=G,j._view=Z}function gr(j){return new TypeError("ReadableStream.prototype."+j+" can only be used on a ReadableStream")}function Wi(j){return new TypeError("Cannot "+j+" a stream using a released reader")}function Pn(j){return new TypeError("ReadableStreamDefaultReader.prototype."+j+" can only be used on a ReadableStreamDefaultReader")}function va(j){j._closedPromise=new Promise(function(G,Z){j._closedPromise_resolve=G,j._closedPromise_reject=Z})}function Ki(j,G){j._closedPromise=Promise.reject(G),j._closedPromise_resolve=void 0,j._closedPromise_reject=void 0}function Zs(j){j._closedPromise=Promise.resolve(void 0),j._closedPromise_resolve=void 0,j._closedPromise_reject=void 0}function Fn(j,G){j._closedPromise_reject(G),j._closedPromise_resolve=void 0,j._closedPromise_reject=void 0}function xi(j,G){j._closedPromise=Promise.reject(G)}function Xi(j){j._closedPromise_resolve(void 0),j._closedPromise_resolve=void 0,j._closedPromise_reject=void 0}function ii(j){return new TypeError("ReadableStreamBYOBReader.prototype."+j+" can only be used on a ReadableStreamBYOBReader")}function Ur(j){return new TypeError("ReadableStreamDefaultController.prototype."+j+" can only be used on a ReadableStreamDefaultController")}function Ii(j){return new TypeError("ReadableStreamBYOBRequest.prototype."+j+" can only be used on a ReadableStreamBYOBRequest")}function cr(j){return new TypeError("ReadableByteStreamController.prototype."+j+" can only be used on a ReadableByteStreamController")}function $i(j){try{Promise.prototype.then.call(j,void 0,function(){})}catch{}}var F=function(){function j(G,Z){for(var De=0;De<Z.length;De++){var je=Z[De];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(G,je.key,je)}}return function(G,Z,De){return Z&&j(G.prototype,Z),De&&j(G,De),G}}(),ie=n("better-assert"),me=n("./helpers.js"),at=me.ArrayBufferCopy,ct=me.CreateAlgorithmFromUnderlyingMethod,St=me.CreateIterResultObject,wt=me.IsFiniteNonNegativeNumber,Yr=me.InvokeOrNoop,Bn=me.IsDetachedBuffer,Rr=me.TransferArrayBuffer,Ts=me.ValidateAndNormalizeHighWaterMark,Lp=me.IsNonNegativeNumber,pn=me.MakeSizeAlgorithmFromSizeFunction,wa=me.createArrayFromList,Ji=me.typeIsObject,Mp=n("./utils.js"),Yi=Mp.rethrowAssertionErrorRejection,eo=n("./queue-with-sizes.js"),Fp=eo.DequeueValue,Va=eo.EnqueueValueWithSize,ka=eo.ResetQueue,Zi=n("./writable-stream.js"),Sa=Zi.AcquireWritableStreamDefaultWriter,Ha=Zi.IsWritableStream,Un=Zi.IsWritableStreamLocked,Ga=Zi.WritableStreamAbort,Pi=Zi.WritableStreamDefaultWriterCloseWithErrorPropagation,ea=Zi.WritableStreamDefaultWriterRelease,lt=Zi.WritableStreamDefaultWriterWrite,to=Zi.WritableStreamCloseQueuedOrInFlight,ro=Symbol("[[CancelSteps]]"),Vn=Symbol("[[PullSteps]]"),Es=function(){function j(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},De=Z.size,je=Z.highWaterMark;s(this,j),p(this);var Ve=G.type;if(String(Ve)==="bytes"){if(je===void 0&&(je=0),je=Ts(je),De!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");Or(this,G,je)}else{if(Ve!==void 0)throw new RangeError("Invalid type is specified");je===void 0&&(je=1),N(this,G,je=Ts(je),pn(De))}}return F(j,[{key:"cancel",value:function(Z){return y(this)===!1?Promise.reject(gr("cancel")):v(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):C(this,Z)}},{key:"getReader",value:function(){var Z=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).mode;if(y(this)===!1)throw gr("getReader");if(Z===void 0)return u(this);if((Z=String(Z))==="byob")return o(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(Z,De){var je=Z.writable,Ve=Z.readable;if(je===void 0||Ve===void 0)throw new TypeError("readable and writable arguments must be defined");return $i(this.pipeTo(je,De)),Ve}},{key:"pipeTo",value:function(Z){var De=this,je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ve=je.preventClose,ot=je.preventAbort,It=je.preventCancel;if(y(this)===!1)return Promise.reject(gr("pipeTo"));if(Ha(Z)===!1)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(Ve=Boolean(Ve),ot=Boolean(ot),It=Boolean(It),v(this)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(Un(Z)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var $t=u(this),Kt=Sa(Z),Ar=!1,pr=Promise.resolve();return new Promise(function(Nn,Ci){function wn(){return Ar===!0?Promise.resolve():Kt._readyPromise.then(function(){return de($t).then(function(ar){var en=ar.value;ar.done!==!0&&(pr=lt(Kt,en).catch(function(){}))})}).then(wn)}function Zr(){var ar=pr;return pr.then(function(){return ar!==pr?Zr():void 0})}function lr(ar,en,Wa){ar._state==="errored"?Wa(ar._storedError):en.catch(Wa).catch(Yi)}function Dn(ar,en,Wa){function Os(){ar().then(function(){return no(en,Wa)},function(Hn){return no(!0,Hn)}).catch(Yi)}Ar!==!0&&(Ar=!0,Z._state==="writable"&&to(Z)===!1?Zr().then(Os):Os())}function za(ar,en){Ar!==!0&&(Ar=!0,Z._state==="writable"&&to(Z)===!1?Zr().then(function(){return no(ar,en)}).catch(Yi):no(ar,en))}function no(ar,en){ea(Kt),J($t),ar?Ci(en):Nn(void 0)}if(lr(De,$t._closedPromise,function(ar){ot===!1?Dn(function(){return Ga(Z,ar)},!0,ar):za(!0,ar)}),lr(Z,Kt._closedPromise,function(ar){It===!1?Dn(function(){return C(De,ar)},!0,ar):za(!0,ar)}),function(en,Wa,Os){en._state==="closed"?Os():Wa.then(Os).catch(Yi)}(De,$t._closedPromise,function(){Ve===!1?Dn(function(){return Pi(Kt)}):za()}),to(Z)===!0||Z._state==="closed"){var ta=new TypeError("the destination writable stream closed before all data could be piped to it");It===!1?Dn(function(){return C(De,ta)},!0,ta):za(!0,ta)}wn().catch(function(ar){pr=Promise.resolve(),Yi(ar)})})}},{key:"tee",value:function(){if(y(this)===!1)throw gr("tee");var Z=E(this,!1);return wa(Z)}},{key:"locked",get:function(){if(y(this)===!1)throw gr("locked");return v(this)}}]),j}();i.exports={CreateReadableByteStream:f,CreateReadableStream:d,ReadableStream:Es,IsReadableStreamDisturbed:g,ReadableStreamDefaultControllerClose:ze,ReadableStreamDefaultControllerEnqueue:Ye,ReadableStreamDefaultControllerError:fe,ReadableStreamDefaultControllerGetDesiredSize:oe,ReadableStreamDefaultControllerHasBackpressure:pe,ReadableStreamDefaultControllerCanCloseOrEnqueue:Oe};var Qa=function(){function j(G){if(s(this,j),y(G)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(v(G)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ne(this,G),this._readRequests=[]}return F(j,[{key:"cancel",value:function(Z){return se(this)===!1?Promise.reject(Pn("cancel")):this._ownerReadableStream===void 0?Promise.reject(Wi("cancel")):Me(this,Z)}},{key:"read",value:function(){return se(this)===!1?Promise.reject(Pn("read")):this._ownerReadableStream===void 0?Promise.reject(Wi("read from")):de(this)}},{key:"releaseLock",value:function(){if(se(this)===!1)throw Pn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");J(this)}}},{key:"closed",get:function(){return se(this)===!1?Promise.reject(Pn("closed")):this._closedPromise}}]),j}(),Ni=function(){function j(G){if(s(this,j),!y(G))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(L(G._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(v(G))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ne(this,G),this._readIntoRequests=[]}return F(j,[{key:"cancel",value:function(Z){return H(this)?this._ownerReadableStream===void 0?Promise.reject(Wi("cancel")):Me(this,Z):Promise.reject(ii("cancel"))}},{key:"read",value:function(Z){return H(this)?this._ownerReadableStream===void 0?Promise.reject(Wi("read from")):ArrayBuffer.isView(Z)?Bn(Z.buffer)===!0?Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")):Z.byteLength===0?Promise.reject(new TypeError("view must have non-zero byteLength")):re(this,Z):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(ii("read"))}},{key:"releaseLock",value:function(){if(!H(this))throw ii("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");J(this)}}},{key:"closed",get:function(){return H(this)?this._closedPromise:Promise.reject(ii("closed"))}}]),j}(),Di=function(){function j(){throw s(this,j),new TypeError}return F(j,[{key:"close",value:function(){if(_e(this)===!1)throw Ur("close");if(Oe(this)===!1)throw new TypeError("The stream is not in a state that permits close");ze(this)}},{key:"enqueue",value:function(Z){if(_e(this)===!1)throw Ur("enqueue");if(Oe(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return Ye(this,Z)}},{key:"error",value:function(Z){if(_e(this)===!1)throw Ur("error");var De=this._controlledReadableStream;if(De._state!=="readable")throw new TypeError("The stream is "+De._state+" and so cannot be errored");fe(this,Z)}},{key:ro,value:function(Z){return ka(this),this._cancelAlgorithm(Z)}},{key:Vn,value:function(){var Z=this._controlledReadableStream;if(this._queue.length>0){var De=Fp(this);return this._closeRequested===!0&&this._queue.length===0?R(Z):Ce(this),Promise.resolve(St(De,!1))}var je=O(Z);return Ce(this),je}},{key:"desiredSize",get:function(){if(_e(this)===!1)throw Ur("desiredSize");return oe(this)}}]),j}(),kn=function(){function j(){throw s(this,j),new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return F(j,[{key:"respond",value:function(Z){if(V(this)===!1)throw Ii("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Bn(this._view.buffer)===!0)throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");hr(this._associatedReadableByteStreamController,Z)}},{key:"respondWithNewView",value:function(Z){if(V(this)===!1)throw Ii("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(Z))throw new TypeError("You can only respond with array buffer views");if(Bn(Z.buffer)===!0)throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");Wt(this._associatedReadableByteStreamController,Z)}},{key:"view",get:function(){if(V(this)===!1)throw Ii("view");return this._view}}]),j}(),Zo=function(){function j(){throw s(this,j),new TypeError("ReadableByteStreamController constructor cannot be used directly")}return F(j,[{key:"close",value:function(){if(L(this)===!1)throw cr("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var Z=this._controlledReadableByteStream._state;if(Z!=="readable")throw new TypeError("The stream (in "+Z+" state) is not in the readable state and cannot be closed");Ze(this)}},{key:"enqueue",value:function(Z){if(L(this)===!1)throw cr("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var De=this._controlledReadableByteStream._state;if(De!=="readable")throw new TypeError("The stream (in "+De+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(Z))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(Bn(Z.buffer)===!0)throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");mt(this,Z)}},{key:"error",value:function(Z){if(L(this)===!1)throw cr("error");var De=this._controlledReadableByteStream;if(De._state!=="readable")throw new TypeError("The stream is "+De._state+" and so cannot be errored");ft(this,Z)}},{key:ro,value:function(Z){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),ka(this),this._cancelAlgorithm(Z)}},{key:Vn,value:function(){var Z=this._controlledReadableByteStream;if(this._queueTotalSize>0){var De=this._queue.shift();this._queueTotalSize-=De.byteLength,W(this);var je=void 0;try{je=new Uint8Array(De.buffer,De.byteOffset,De.byteLength)}catch(Kt){return Promise.reject(Kt)}return Promise.resolve(St(je,!1))}var Ve=this._autoAllocateChunkSize;if(Ve!==void 0){var ot=void 0;try{ot=new ArrayBuffer(Ve)}catch(Kt){return Promise.reject(Kt)}var It={buffer:ot,byteOffset:0,byteLength:Ve,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(It)}var $t=O(Z);return $(this),$t}},{key:"byobRequest",get:function(){if(L(this)===!1)throw cr("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){var Z=this._pendingPullIntos[0],De=new Uint8Array(Z.buffer,Z.byteOffset+Z.bytesFilled,Z.byteLength-Z.bytesFilled),je=Object.create(kn.prototype);vt(je,this,De),this._byobRequest=je}return this._byobRequest}},{key:"desiredSize",get:function(){if(L(this)===!1)throw cr("desiredSize");return $e(this)}}]),j}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"./writable-stream.js":15,"better-assert":16}],13:[function(n,i,a){"use strict";function s(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")}function o(M,k,z){var B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,Q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,W=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){return 1},ne=Object.create(V.prototype),ge=void 0;u(ne,new Promise(function(Pe){ge=Pe}),B,Q,K,W),v(ne,Object.create($.prototype),k,z);var Se=M();return ge(Se),ne}function u(M,k,z,B,Q,K){function W(){return k}M._writable=N(W,function(ge){return R(M,ge)},function(){return P(M)},function(){return w(M)},z,B),M._readable=ze(W,function(){return T(M)},function(ge){return p(M,ge),Promise.resolve()},Q,K),M._backpressure=void 0,M._backpressureChangePromise=void 0,M._backpressureChangePromise_resolve=void 0,y(M,!0),M._transformStreamController=void 0}function d(M){return!!re(M)&&!!Object.prototype.hasOwnProperty.call(M,"_transformStreamController")}function f(M,k){H("TransformStreamError()"),M._readable._state==="readable"&&ae(M._readable._readableStreamController,k),p(M,k)}function p(M,k){L(M._writable._writableStreamController,k),M._backpressure===!0&&y(M,!1)}function y(M,k){H("TransformStreamSetBackpressure() [backpressure = "+k+"]"),M._backpressureChangePromise!==void 0&&M._backpressureChangePromise_resolve(),M._backpressureChangePromise=new Promise(function(z){M._backpressureChangePromise_resolve=z}),M._backpressure=k}function g(M){return!!re(M)&&!!Object.prototype.hasOwnProperty.call(M,"_controlledTransformStream")}function v(M,k,z,B){k._controlledTransformStream=M,M._transformStreamController=k,k._transformAlgorithm=z,k._flushAlgorithm=B}function E(M,k){var z=Object.create($.prototype),B=function(ne){try{return D(z,ne),Promise.resolve()}catch(ge){return Promise.reject(ge)}},Q=k.transform;if(Q!==void 0){if(typeof Q!="function")throw new TypeError("transform is not a method");B=function(ne){return J(Q,k,[ne,z]).catch(function(ge){throw f(M,ge),ge})}}var K=Me(k,"flush",0,[z]);v(M,z,B,K)}function D(M,k){H("TransformStreamDefaultControllerEnqueue()");var z=M._controlledTransformStream,B=z._readable._readableStreamController;if(Oe(B)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{fe(B,k)}catch(Q){throw p(z,Q),z._readable._storedError}pe(B)!==z._backpressure&&y(z,!0)}function O(M,k){f(M._controlledTransformStream,k)}function C(M){H("TransformStreamDefaultControllerTerminate()");var k=M._controlledTransformStream,z=k._readable._readableStreamController;Oe(z)===!0&&Ye(z),p(k,new TypeError("TransformStream terminated"))}function R(M,k){H("TransformStreamDefaultSinkWriteAlgorithm()");var z=M._transformStreamController;return M._backpressure===!0?M._backpressureChangePromise.then(function(){var B=M._writable;if(B._state==="erroring")throw B._storedError;return z._transformAlgorithm(k)}):z._transformAlgorithm(k)}function w(M){return f(M,new TypeError("Writable side aborted")),Promise.resolve()}function P(M){H("TransformStreamDefaultSinkCloseAlgorithm()");var k=M._readable;return M._transformStreamController._flushAlgorithm().then(function(){if(k._state==="errored")throw k._storedError;var z=k._readableStreamController;Oe(z)===!0&&Ye(z)}).catch(function(z){throw f(M,z),k._storedError})}function T(M){return H("TransformStreamDefaultSourcePullAlgorithm()"),y(M,!1),M._backpressureChangePromise}function te(M){return new TypeError("TransformStreamDefaultController.prototype."+M+" can only be used on a TransformStreamDefaultController")}function ee(M){return new TypeError("TransformStream.prototype."+M+" can only be used on a TransformStream")}var Y=function(){function M(k,z){for(var B=0;B<z.length;B++){var Q=z[B];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(k,Q.key,Q)}}return function(k,z,B){return z&&M(k.prototype,z),B&&M(k,B),k}}(),x=n("better-assert"),H=n("debug")("streams:transform-stream:verbose"),se=n("./helpers.js"),Ne=se.InvokeOrNoop,Me=se.CreateAlgorithmFromUnderlyingMethod,J=se.PromiseCall,re=se.typeIsObject,de=se.ValidateAndNormalizeHighWaterMark,_e=se.IsNonNegativeNumber,Ce=se.MakeSizeAlgorithmFromSizeFunction,nt=n("./readable-stream.js"),ze=nt.CreateReadableStream,Ye=nt.ReadableStreamDefaultControllerClose,fe=nt.ReadableStreamDefaultControllerEnqueue,ae=nt.ReadableStreamDefaultControllerError,oe=nt.ReadableStreamDefaultControllerGetDesiredSize,pe=nt.ReadableStreamDefaultControllerHasBackpressure,Oe=nt.ReadableStreamDefaultControllerCanCloseOrEnqueue,Ue=n("./writable-stream.js"),N=Ue.CreateWritableStream,L=Ue.WritableStreamDefaultControllerErrorIfNeeded,V=function(){function M(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,M),k.readableType!==void 0)throw new RangeError("Invalid readable type specified");if(k.writableType!==void 0)throw new RangeError("Invalid writable type specified");var Q=z.size,K=Ce(Q),W=z.highWaterMark;W===void 0&&(W=1),W=de(W);var ne=B.size,ge=Ce(ne),Se=B.highWaterMark;Se===void 0&&(Se=0),Se=de(Se);var Pe=void 0;u(this,new Promise(function(Fe){Pe=Fe}),W,K,Se,ge),E(this,k);var qe=Ne(k,"start",[this._transformStreamController]);Pe(qe)}return Y(M,[{key:"readable",get:function(){if(d(this)===!1)throw ee("readable");return this._readable}},{key:"writable",get:function(){if(d(this)===!1)throw ee("writable");return this._writable}}]),M}(),$=function(){function M(){throw s(this,M),new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Y(M,[{key:"enqueue",value:function(z){if(g(this)===!1)throw te("enqueue");D(this,z)}},{key:"error",value:function(z){if(g(this)===!1)throw te("error");O(this,z)}},{key:"terminate",value:function(){if(g(this)===!1)throw te("terminate");C(this)}},{key:"desiredSize",get:function(){if(g(this)===!1)throw te("desiredSize");var z=this._controlledTransformStream._readable._readableStreamController;return oe(z)}}]),M}();i.exports={CreateTransformStream:o,TransformStream:V}},{"./helpers.js":10,"./readable-stream.js":12,"./writable-stream.js":15,"better-assert":16,debug:18}],14:[function(n,i,a){"use strict";var s=n("better-assert");a.rethrowAssertionErrorRejection=function(o){o&&o.constructor===s.AssertionError&&setTimeout(function(){throw o},0)}},{"better-assert":16}],15:[function(n,i,a){"use strict";function s(F,ie){if(!(F instanceof ie))throw new TypeError("Cannot call a class as a function")}function o(F){return new cr(F)}function u(F,ie,me,at){var ct=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,St=arguments.length>5&&arguments[5]!==void 0?arguments[5]:function(){return 1},wt=Object.create(Ii.prototype);return d(wt),ze(wt,Object.create($i.prototype),F,ie,me,at,ct,St),wt}function d(F){F._state="writable",F._storedError=void 0,F._writer=void 0,F._writableStreamController=void 0,F._writeRequests=[],F._inFlightWriteRequest=void 0,F._closeRequest=void 0,F._inFlightCloseRequest=void 0,F._pendingAbortRequest=void 0,F._backpressure=!1}function f(F){return!!Wi(F)&&!!Object.prototype.hasOwnProperty.call(F,"_writableStreamController")}function p(F){return F._writer!==void 0}function y(F,ie){var me=F._state;if(me==="closed")return Promise.resolve(void 0);if(me==="errored")return Promise.reject(F._storedError);var at=new TypeError("Requested to abort");if(F._pendingAbortRequest!==void 0)return Promise.reject(at);var ct=!1;me==="erroring"&&(ct=!0,ie=void 0);var St=new Promise(function(wt,Yr){F._pendingAbortRequest={_resolve:wt,_reject:Yr,_reason:ie,_wasAlreadyErroring:ct}});return ct===!1&&E(F,at),St}function g(F){return new Promise(function(ie,me){var at={_resolve:ie,_reject:me};F._writeRequests.push(at)})}function v(F,ie){$e("WritableStreamDealWithRejection(stream, %o)",ie),F._state!=="writable"?D(F):E(F,ie)}function E(F,ie){$e("WritableStreamStartErroring(stream, %o)",ie);var me=F._writableStreamController;F._state="erroring",F._storedError=ie;var at=F._writer;at!==void 0&&re(at,ie),T(F)===!1&&me._started===!0&&D(F)}function D(F){$e("WritableStreamFinishErroring()"),F._state="errored",F._writableStreamController[Ur]();var ie=F._storedError,me=!0,at=!1,ct=void 0;try{for(var St,wt=F._writeRequests[Symbol.iterator]();!(me=(St=wt.next()).done);me=!0)St.value._reject(ie)}catch(Bn){at=!0,ct=Bn}finally{try{!me&&wt.return&&wt.return()}finally{if(at)throw ct}}if(F._writeRequests=[],F._pendingAbortRequest!==void 0){var Yr=F._pendingAbortRequest;if(F._pendingAbortRequest=void 0,Yr._wasAlreadyErroring===!0)return Yr._reject(ie),void Y(F);F._writableStreamController[ii](Yr._reason).then(function(){Yr._resolve(),Y(F)},function(Bn){Yr._reject(Bn),Y(F)})}else Y(F)}function O(F){F._inFlightWriteRequest._resolve(void 0),F._inFlightWriteRequest=void 0}function C(F,ie){F._inFlightWriteRequest._reject(ie),F._inFlightWriteRequest=void 0,v(F,ie)}function R(F){F._inFlightCloseRequest._resolve(void 0),F._inFlightCloseRequest=void 0,F._state==="erroring"&&(F._storedError=void 0,F._pendingAbortRequest!==void 0&&(F._pendingAbortRequest._resolve(),F._pendingAbortRequest=void 0)),F._state="closed";var ie=F._writer;ie!==void 0&&ge(ie)}function w(F,ie){F._inFlightCloseRequest._reject(ie),F._inFlightCloseRequest=void 0,F._pendingAbortRequest!==void 0&&(F._pendingAbortRequest._reject(ie),F._pendingAbortRequest=void 0),v(F,ie)}function P(F){return F._closeRequest!==void 0||F._inFlightCloseRequest!==void 0}function T(F){return F._inFlightWriteRequest===void 0&&F._inFlightCloseRequest===void 0?($e("WritableStreamHasOperationMarkedInFlight() is false"),!1):($e("WritableStreamHasOperationMarkedInFlight() is true"),!0)}function te(F){F._inFlightCloseRequest=F._closeRequest,F._closeRequest=void 0}function ee(F){F._inFlightWriteRequest=F._writeRequests.shift()}function Y(F){$e("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"),F._closeRequest!==void 0&&(F._closeRequest._reject(F._storedError),F._closeRequest=void 0);var ie=F._writer;ie!==void 0&&(W(ie,F._storedError),ie._closedPromise.catch(function(){}))}function x(F,ie){var me=F._writer;me!==void 0&&ie!==F._backpressure&&(ie===!0?Be(me):Ze(me)),F._backpressure=ie}function H(F){return!!Wi(F)&&!!Object.prototype.hasOwnProperty.call(F,"_ownerWritableStream")}function se(F,ie){return y(F._ownerWritableStream,ie)}function Ne(F){var ie=F._ownerWritableStream,me=ie._state;if(me==="closed"||me==="errored")return Promise.reject(new TypeError("The stream (in "+me+" state) is not in the writable state and cannot be closed"));var at=new Promise(function(ct,St){var wt={_resolve:ct,_reject:St};ie._closeRequest=wt});return ie._backpressure===!0&&me==="writable"&&Ze(F),fe(ie._writableStreamController),at}function Me(F){var ie=F._ownerWritableStream,me=ie._state;return P(ie)===!0||me==="closed"?Promise.resolve():me==="errored"?Promise.reject(ie._storedError):Ne(F)}function J(F,ie){F._closedPromiseState==="pending"?W(F,ie):ne(F,ie),F._closedPromise.catch(function(){})}function re(F,ie){$e("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)",ie),F._readyPromiseState==="pending"?Fe(F,ie):Ge(F,ie),F._readyPromise.catch(function(){})}function de(F){var ie=F._ownerWritableStream,me=ie._state;return me==="errored"||me==="erroring"?null:me==="closed"?0:oe(ie._writableStreamController)}function _e(F){var ie=F._ownerWritableStream,me=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");re(F,me),J(F,me),ie._writer=void 0,F._ownerWritableStream=void 0}function Ce(F,ie){var me=F._ownerWritableStream,at=me._writableStreamController,ct=ae(at,ie);if(me!==F._ownerWritableStream)return Promise.reject(z("write to"));var St=me._state;if(St==="errored")return Promise.reject(me._storedError);if(P(me)===!0||St==="closed")return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if(St==="erroring")return Promise.reject(me._storedError);var wt=g(me);return pe(at,ie,ct),wt}function nt(F){return!!Wi(F)&&!!Object.prototype.hasOwnProperty.call(F,"_controlledWritableStream")}function ze(F,ie,me,at,ct,St,wt,Yr){ie._controlledWritableStream=F,F._writableStreamController=ie,ie._queue=void 0,ie._queueTotalSize=void 0,Xi(ie),ie._started=!1,ie._strategySizeAlgorithm=Yr,ie._strategyHWM=wt,ie._writeAlgorithm=at,ie._closeAlgorithm=ct,ie._abortAlgorithm=St;var Bn=V(ie);x(F,Bn);var Rr=me();Promise.resolve(Rr).then(function(){ie._started=!0,Oe(ie)},function(Ts){ie._started=!0,v(F,Ts)}).catch(va)}function Ye(F,ie,me,at){var ct=Object.create($i.prototype),St=Wt(ie,"write",1,[ct]),wt=Wt(ie,"close",0,[]),Yr=Wt(ie,"abort",1,[]);ze(F,ct,function(){return Nr(ie,"start",[ct])},St,wt,Yr,me,at)}function fe(F){Fn(F,"close",0),Oe(F)}function ae(F,ie){try{return F._strategySizeAlgorithm(ie)}catch(me){return Ue(F,me),1}}function oe(F){return F._strategyHWM-F._queueTotalSize}function pe(F,ie,me){var at={chunk:ie};try{Fn(F,at,me)}catch(St){return void Ue(F,St)}var ct=F._controlledWritableStream;P(ct)===!1&&ct._state==="writable"&&x(ct,V(F)),Oe(F)}function Oe(F){$e("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");var ie=F._controlledWritableStream;if(F._started!==!1&&ie._inFlightWriteRequest===void 0){var me=ie._state;if(me!=="closed"&&me!=="errored")if(me!=="erroring"){if(F._queue.length!==0){var at=xi(F);at==="close"?N(F):L(F,at.chunk)}}else D(ie)}}function Ue(F,ie){F._controlledWritableStream._state==="writable"&&$(F,ie)}function N(F){var ie=F._controlledWritableStream;te(ie),Zs(F),F._closeAlgorithm().then(function(){R(ie)},function(me){w(ie,me)}).catch(va)}function L(F,ie){var me=F._controlledWritableStream;ee(me),F._writeAlgorithm(ie).then(function(){O(me);var at=me._state;if(Zs(F),P(me)===!1&&at==="writable"){var ct=V(F);x(me,ct)}Oe(F)},function(at){C(me,at)}).catch(va)}function V(F){return oe(F)<=0}function $(F,ie){E(F._controlledWritableStream,ie)}function M(F){return new TypeError("WritableStream.prototype."+F+" can only be used on a WritableStream")}function k(F){return new TypeError("WritableStreamDefaultWriter.prototype."+F+" can only be used on a WritableStreamDefaultWriter")}function z(F){return new TypeError("Cannot "+F+" a stream using a released writer")}function B(F){F._closedPromise=new Promise(function(ie,me){F._closedPromise_resolve=ie,F._closedPromise_reject=me,F._closedPromiseState="pending"})}function Q(F,ie){F._closedPromise=Promise.reject(ie),F._closedPromise_resolve=void 0,F._closedPromise_reject=void 0,F._closedPromiseState="rejected"}function K(F){F._closedPromise=Promise.resolve(void 0),F._closedPromise_resolve=void 0,F._closedPromise_reject=void 0,F._closedPromiseState="resolved"}function W(F,ie){F._closedPromise_reject(ie),F._closedPromise_resolve=void 0,F._closedPromise_reject=void 0,F._closedPromiseState="rejected"}function ne(F,ie){F._closedPromise=Promise.reject(ie),F._closedPromiseState="rejected"}function ge(F){F._closedPromise_resolve(void 0),F._closedPromise_resolve=void 0,F._closedPromise_reject=void 0,F._closedPromiseState="resolved"}function Se(F){$e("defaultWriterReadyPromiseInitialize()"),F._readyPromise=new Promise(function(ie,me){F._readyPromise_resolve=ie,F._readyPromise_reject=me}),F._readyPromiseState="pending"}function Pe(F,ie){$e("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)",ie),F._readyPromise=Promise.reject(ie),F._readyPromise_resolve=void 0,F._readyPromise_reject=void 0,F._readyPromiseState="rejected"}function qe(F){$e("defaultWriterReadyPromiseInitializeAsResolved()"),F._readyPromise=Promise.resolve(void 0),F._readyPromise_resolve=void 0,F._readyPromise_reject=void 0,F._readyPromiseState="fulfilled"}function Fe(F,ie){$e("defaultWriterReadyPromiseReject(writer, %o)",ie),F._readyPromise_reject(ie),F._readyPromise_resolve=void 0,F._readyPromise_reject=void 0,F._readyPromiseState="rejected"}function Be(F){$e("defaultWriterReadyPromiseReset()"),F._readyPromise=new Promise(function(ie,me){F._readyPromise_resolve=ie,F._readyPromise_reject=me}),F._readyPromiseState="pending"}function Ge(F,ie){$e("defaultWriterReadyPromiseResetToRejected(writer, %o)",ie),F._readyPromise=Promise.reject(ie),F._readyPromiseState="rejected"}function Ze(F){$e("defaultWriterReadyPromiseResolve()"),F._readyPromise_resolve(void 0),F._readyPromise_resolve=void 0,F._readyPromise_reject=void 0,F._readyPromiseState="fulfilled"}var mt=function(){function F(ie,me){for(var at=0;at<me.length;at++){var ct=me[at];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(ie,ct.key,ct)}}return function(ie,me,at){return me&&F(ie.prototype,me),at&&F(ie,at),ie}}(),ft=n("better-assert"),$e=n("debug")("streams:writable-stream:verbose"),hr=n("./helpers.js"),Wt=hr.CreateAlgorithmFromUnderlyingMethod,Nr=hr.InvokeOrNoop,Or=hr.ValidateAndNormalizeHighWaterMark,vt=hr.IsNonNegativeNumber,gr=hr.MakeSizeAlgorithmFromSizeFunction,Wi=hr.typeIsObject,Pn=n("./utils.js"),va=Pn.rethrowAssertionErrorRejection,Ki=n("./queue-with-sizes.js"),Zs=Ki.DequeueValue,Fn=Ki.EnqueueValueWithSize,xi=Ki.PeekQueueValue,Xi=Ki.ResetQueue,ii=Symbol("[[AbortSteps]]"),Ur=Symbol("[[ErrorSteps]]"),Ii=function(){function F(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},at=me.size,ct=me.highWaterMark,St=ct===void 0?1:ct;if(s(this,F),d(this),ie.type!==void 0)throw new RangeError("Invalid type is specified");var wt=gr(at);Ye(this,ie,St=Or(St),wt)}return mt(F,[{key:"abort",value:function(me){return f(this)===!1?Promise.reject(M("abort")):p(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):y(this,me)}},{key:"getWriter",value:function(){if(f(this)===!1)throw M("getWriter");return o(this)}},{key:"locked",get:function(){if(f(this)===!1)throw M("locked");return p(this)}}]),F}();i.exports={AcquireWritableStreamDefaultWriter:o,CreateWritableStream:u,IsWritableStream:f,IsWritableStreamLocked:p,WritableStream:Ii,WritableStreamAbort:y,WritableStreamDefaultControllerErrorIfNeeded:Ue,WritableStreamDefaultWriterCloseWithErrorPropagation:Me,WritableStreamDefaultWriterRelease:_e,WritableStreamDefaultWriterWrite:Ce,WritableStreamCloseQueuedOrInFlight:P};var cr=function(){function F(ie){if(s(this,F),f(ie)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(p(ie)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=ie,ie._writer=this;var me=ie._state;if(me==="writable")P(ie)===!1&&ie._backpressure===!0?Se(this):qe(this),B(this);else if(me==="erroring")Pe(this,ie._storedError),this._readyPromise.catch(function(){}),B(this);else if(me==="closed")qe(this),K(this);else{var at=ie._storedError;Pe(this,at),this._readyPromise.catch(function(){}),Q(this,at),this._closedPromise.catch(function(){})}}return mt(F,[{key:"abort",value:function(me){return H(this)===!1?Promise.reject(k("abort")):this._ownerWritableStream===void 0?Promise.reject(z("abort")):se(this,me)}},{key:"close",value:function(){if(H(this)===!1)return Promise.reject(k("close"));var me=this._ownerWritableStream;return me===void 0?Promise.reject(z("close")):P(me)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):Ne(this)}},{key:"releaseLock",value:function(){if(H(this)===!1)throw k("releaseLock");this._ownerWritableStream!==void 0&&_e(this)}},{key:"write",value:function(me){return H(this)===!1?Promise.reject(k("write")):this._ownerWritableStream===void 0?Promise.reject(z("write to")):Ce(this,me)}},{key:"closed",get:function(){return H(this)===!1?Promise.reject(k("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(H(this)===!1)throw k("desiredSize");if(this._ownerWritableStream===void 0)throw z("desiredSize");return de(this)}},{key:"ready",get:function(){return H(this)===!1?Promise.reject(k("ready")):this._readyPromise}}]),F}(),$i=function(){function F(){throw s(this,F),new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return mt(F,[{key:"error",value:function(me){if(nt(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&$(this,me)}},{key:ii,value:function(me){return this._abortAlgorithm(me)}},{key:Ur,value:function(){Xi(this)}}]),F}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"better-assert":16,debug:18}],16:[function(n,i,a){(function(s){function o(p){if(!p){var y=d(),g=y[1],v=g.getFileName(),E=g.getLineNumber(),D=(D=f.readFileSync(v,"utf8")).split(`
`)[E-1].match(/assert\((.*)\)/)[1];throw new u({message:D,stackStartFunction:y[0].getFunction()})}}var u=n("assert").AssertionError,d=n("callsite"),f=n("fs");i.exports=s.env.NO_ASSERT?function(){}:o}).call(this,n("_process"))},{_process:4,assert:2,callsite:17,fs:3}],17:[function(n,i,a){i.exports=function(){var s=Error.prepareStackTrace;Error.prepareStackTrace=function(d,f){return f};var o=new Error;Error.captureStackTrace(o,arguments.callee);var u=o.stack;return Error.prepareStackTrace=s,u}},{}],18:[function(n,i,a){(function(s){function o(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function u(g){var v=this.useColors;if(g[0]=(v?"%c":"")+this.namespace+(v?" %c":" ")+g[0]+(v?"%c ":" ")+"+"+a.humanize(this.diff),v){var E="color: "+this.color;g.splice(1,0,E,"color: inherit");var D=0,O=0;g[0].replace(/%[a-zA-Z%]/g,function(C){C!=="%%"&&(D++,C==="%c"&&(O=D))}),g.splice(O,0,E)}}function d(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function f(g){try{g==null?a.storage.removeItem("debug"):a.storage.debug=g}catch{}}function p(){var g;try{g=a.storage.debug}catch{}return!g&&typeof s<"u"&&"env"in s&&(g=s.env.DEBUG),g}function y(){try{return window.localStorage}catch{}}a=i.exports=n("./debug"),a.log=d,a.formatArgs=u,a.save=f,a.load=p,a.useColors=o,a.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:y(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],a.formatters.j=function(g){try{return JSON.stringify(g)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}},a.enable(p())}).call(this,n("_process"))},{"./debug":19,_process:4}],19:[function(n,i,a){function s(g){var v,E=0;for(v in g)E=(E<<5)-E+g.charCodeAt(v),E|=0;return a.colors[Math.abs(E)%a.colors.length]}function o(g){function v(){if(v.enabled){var D=v,O=+new Date,C=O-(E||O);D.diff=C,D.prev=E,D.curr=O,E=O;for(var R=new Array(arguments.length),w=0;w<R.length;w++)R[w]=arguments[w];R[0]=a.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");var P=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,function(T,te){if(T==="%%")return T;P++;var ee=a.formatters[te];if(typeof ee=="function"){var Y=R[P];T=ee.call(D,Y),R.splice(P,1),P--}return T}),a.formatArgs.call(D,R),(v.log||a.log||console.log.bind(console)).apply(D,R)}}var E;return v.namespace=g,v.enabled=a.enabled(g),v.useColors=a.useColors(),v.color=s(g),v.destroy=u,typeof a.init=="function"&&a.init(v),a.instances.push(v),v}function u(){var g=a.instances.indexOf(this);return g!==-1&&(a.instances.splice(g,1),!0)}function d(g){a.save(g),a.names=[],a.skips=[];var v,E=(typeof g=="string"?g:"").split(/[\s,]+/),D=E.length;for(v=0;v<D;v++)E[v]&&((g=E[v].replace(/\*/g,".*?"))[0]==="-"?a.skips.push(new RegExp("^"+g.substr(1)+"$")):a.names.push(new RegExp("^"+g+"$")));for(v=0;v<a.instances.length;v++){var O=a.instances[v];O.enabled=a.enabled(O.namespace)}}function f(){a.enable("")}function p(g){if(g[g.length-1]==="*")return!0;var v,E;for(v=0,E=a.skips.length;v<E;v++)if(a.skips[v].test(g))return!1;for(v=0,E=a.names.length;v<E;v++)if(a.names[v].test(g))return!0;return!1}function y(g){return g instanceof Error?g.stack||g.message:g}a=i.exports=o.debug=o.default=o,a.coerce=y,a.disable=f,a.enable=d,a.enabled=p,a.humanize=n("ms"),a.instances=[],a.names=[],a.skips=[],a.formatters={}},{ms:20}],20:[function(n,i,a){function s(E){if(!((E=String(E)).length>100)){var D=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(E);if(D){var O=parseFloat(D[1]);switch((D[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return O*v;case"days":case"day":case"d":return O*g;case"hours":case"hour":case"hrs":case"hr":case"h":return O*y;case"minutes":case"minute":case"mins":case"min":case"m":return O*p;case"seconds":case"second":case"secs":case"sec":case"s":return O*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}}}function o(E){return E>=g?Math.round(E/g)+"d":E>=y?Math.round(E/y)+"h":E>=p?Math.round(E/p)+"m":E>=f?Math.round(E/f)+"s":E+"ms"}function u(E){return d(E,g,"day")||d(E,y,"hour")||d(E,p,"minute")||d(E,f,"second")||E+" ms"}function d(E,D,O){if(!(E<D))return E<1.5*D?Math.floor(E/D)+" "+O:Math.ceil(E/D)+" "+O+"s"}var f=1e3,p=60*f,y=60*p,g=24*y,v=365.25*g;i.exports=function(E,D){D=D||{};var O=typeof E;if(O==="string"&&E.length>0)return s(E);if(O==="number"&&isNaN(E)===!1)return D.long?u(E):o(E);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(E))}},{}]},{},[1])(1)})});var p4=_((xLe,BH)=>{"use strict";var Fo=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Fo.writable=t=>Fo(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Fo.readable=t=>Fo(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Fo.duplex=t=>Fo.writable(t)&&Fo.readable(t);Fo.transform=t=>Fo.duplex(t)&&typeof t._transform=="function";BH.exports=Fo});var UH=_((ILe,yw)=>{yw.exports=S1e;yw.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function S1e(t){if(!yw.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var e=!1,r={};function n(s){r.data=u,r.end=u,r.end=d,r.close=d,r.error=d;for(var o in r)t.on(o,r[o]);t.pause();function u(f){e||(s.enqueue(f),t.pause())}function d(f){if(!e){e=!0;for(var p in r)t.removeListener(p,r[p]);f?s.error(f):s.close()}}}function i(){e||t.resume()}function a(){e=!0;for(var s in r)t.removeListener(s,r[s]);t.push(null),t.pause(),t.destroy?t.destroy():t.close&&t.close()}return new ReadableStream({start:n,pull:i,cancel:a})}});var VH=_(bw=>{"use strict";Object.defineProperty(bw,"__esModule",{value:!0});bw.ActorHttp=void 0;var T1e=Je(),E1e=f4();global.ReadableStream=global.ReadableStream||FH().ReadableStream;var O1e=p4(),R1e=UH(),_4=class extends T1e.Actor{constructor(e){super(e)}static toNodeReadable(e){return O1e(e)||e===null?e:new E1e.ReadableWebToNodeStream(e)}static toWebReadableStream(e){return R1e(e)}static headersToHash(e){let r={};return e.forEach((n,i)=>{r[i]=n}),r}};bw.ActorHttp=_4});var zc=_(hf=>{"use strict";var A1e=hf&&hf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),x1e=hf&&hf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&A1e(e,t,r)};Object.defineProperty(hf,"__esModule",{value:!0});x1e(VH(),hf)});var kH=_(gw=>{"use strict";Object.defineProperty(gw,"__esModule",{value:!0});gw.FetchInitPreprocessor=void 0;var y4=class{async handle(e){if(e.headers){let r=new Headers(e.headers);r.has("user-agent")&&r.delete("user-agent"),e.headers=r}if(e.body&&typeof e.body!="string"&&"getReader"in e.body){let r=e.body.getReader(),n=[];for(;;){let{done:i,value:a}=await r.read();if(i)break;n.push(a)}e.body=n.join("")}return{keepalive:!e.body,...e}}async createAbortController(){return new AbortController}};gw.FetchInitPreprocessor=y4});var HH=_(mw=>{"use strict";Object.defineProperty(mw,"__esModule",{value:!0});mw.ActorHttpFetch=void 0;var b4=zc(),n_=Cr();qy();var I1e=kH(),Rb=class extends b4.ActorHttp{constructor(e){super(e),this.userAgent=Rb.createUserAgent(),this.fetchInitPreprocessor=new I1e.FetchInitPreprocessor(e.agentOptions)}static createUserAgent(){return`Comunica/actor-http-fetch (${typeof global.navigator>"u"?`Node.js ${process.version}; ${process.platform}`:`Browser-${global.navigator.userAgent}`})`}async test(e){return{time:Number.POSITIVE_INFINITY}}async run(e){let r=e.init?e.init.headers||{}:{};e.init=e.init?e.init:{},e.init.headers=new Headers(r),e.init.headers.has("user-agent")||e.init.headers.append("user-agent",this.userAgent);let n=e.context.get(n_.KeysHttp.auth);n&&e.init.headers.append("Authorization",`Basic ${Buffer.from(n).toString("base64")}`),this.logInfo(e.context,`Requesting ${typeof e.input=="string"?e.input:e.input.url}`,()=>({headers:b4.ActorHttp.headersToHash(new Headers(e.init.headers)),method:e.init.method||"GET"})),e.init?.headers&&"append"in e.init.headers&&e.context.has(n_.KeysHttp.fetch)&&(e.init.headers=b4.ActorHttp.headersToHash(e.init.headers));let i={...e.init};e.context.get(n_.KeysHttp.includeCredentials)&&(i.credentials="include");let a=e.context?.get(n_.KeysHttp.httpTimeout),s,o;if(a!==void 0){let u=await this.fetchInitPreprocessor.createAbortController();i.signal=u.signal,o=()=>u.abort(),s=setTimeout(()=>o(),a)}try{i=await this.fetchInitPreprocessor.handle(i);let d=await(e.context?.get(n_.KeysHttp.fetch)||fetch)(e.input,i);return s!==void 0&&((e.context?.get(n_.KeysHttp.httpBodyTimeout)||!1)&&d.body?(o=()=>d.body?.cancel(new Error(`HTTP timeout when reading the body of ${d.url}.
This error can be disabled by modifying the 'httpBodyTimeout' and/or 'httpTimeout' options.`)),d.body.on("close",()=>{clearTimeout(s)})):clearTimeout(s)),d.body&&!d.body.cancel&&(d.body.cancel=async f=>{d.body.destroy(f),s!==void 0&&clearTimeout(s)}),d}catch(u){throw s!==void 0&&clearTimeout(s),u}}};mw.ActorHttpFetch=Rb});var GH=_(pf=>{"use strict";var P1e=pf&&pf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N1e=pf&&pf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&P1e(e,t,r)};Object.defineProperty(pf,"__esModule",{value:!0});N1e(HH(),pf)});var vw=_(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.ActorDereferenceBase=Wc.isHardError=Wc.emptyReadable=void 0;var D1e=Cr(),C1e=Je(),j1e=qr();function QH(){let t=new j1e.Readable;return t.push(null),t}Wc.emptyReadable=QH;function zH(t){return!t.get(D1e.KeysInitQuery.lenient)}Wc.isHardError=zH;var g4=class extends C1e.Actor{constructor(e){super(e)}async dereferenceErrorHandler(e,r,n){if(zH(e.context))throw r;return this.logError(e.context,r.message),{...n,data:QH()}}};Wc.ActorDereferenceBase=g4});var WH=_(ww=>{"use strict";Object.defineProperty(ww,"__esModule",{value:!0});ww.ActorDereference=void 0;var q1e=vw(),m4=class extends q1e.ActorDereferenceBase{constructor(e){super(e)}async handleDereferenceErrors(e,r,n,i=0){return this.dereferenceErrorHandler(e,r,{url:e.url,exists:!1,headers:n,requestTime:i})}};ww.ActorDereference=m4});var $H=_(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.ActorDereferenceParse=i_.getMediaTypeFromExtension=void 0;var L1e=qr(),KH=vw();function XH(t,e){let r=t.lastIndexOf(".");return r>=0&&e?.[t.slice(r+1)]||""}i_.getMediaTypeFromExtension=XH;var v4=class extends KH.ActorDereferenceBase{constructor(e){super(e)}async test(e){return!0}handleDereferenceStreamErrors(e,r){return(0,KH.isHardError)(e.context)||(r.on("error",n=>{this.logError(e.context,n.message,()=>({url:e.url})),r.push(null)}),r=r.pipe(new L1e.PassThrough({objectMode:!0}))),r}async run(e){let{context:r}=e,n=await this.mediatorDereference.mediate({...e,mediaTypes:async()=>(await this.mediatorParseMediatypes?.mediate({context:r,mediaTypes:!0}))?.mediaTypes}),i;try{i=(await this.mediatorParse.mediate({context:r,handle:{context:r,...n,metadata:await this.getMetadata(n)},handleMediaType:n.mediaType||XH(n.url,this.mediaMappings)||e.mediaType})).handle,i.data=this.handleDereferenceStreamErrors(e,i.data)}catch(a){await n.data.close?.(),i=await this.dereferenceErrorHandler(e,a,{})}return{...n,...i}}};i_.ActorDereferenceParse=v4});var Sw=_(Lu=>{"use strict";var M1e=Lu&&Lu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),w4=Lu&&Lu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&M1e(e,t,r)};Object.defineProperty(Lu,"__esModule",{value:!0});w4(WH(),Lu);w4($H(),Lu);w4(vw(),Lu)});var JH=_(Tw=>{"use strict";Object.defineProperty(Tw,"__esModule",{value:!0});Tw.ActorDereferenceFallback=void 0;var F1e=Sw(),S4=class extends F1e.ActorDereference{constructor(e){super(e)}async test(e){return!0}async run(e){return this.handleDereferenceErrors(e,new Error(`Could not dereference '${e.url}'`))}};Tw.ActorDereferenceFallback=S4});var YH=_(_f=>{"use strict";var B1e=_f&&_f.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),U1e=_f&&_f.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&B1e(e,t,r)};Object.defineProperty(_f,"__esModule",{value:!0});U1e(JH(),_f)});var ZH=_(Ew=>{"use strict";Object.defineProperty(Ew,"__esModule",{value:!0});Ew.ActorRdfParse=void 0;var V1e=Nd(),T4=class extends V1e.ActorAbstractMediaTyped{constructor(e){super(e)}};Ew.ActorRdfParse=T4});var eG=_(Ow=>{"use strict";Object.defineProperty(Ow,"__esModule",{value:!0});Ow.ActorRdfParseFixedMediaTypes=void 0;var k1e=Nd(),E4=class extends k1e.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}};Ow.ActorRdfParseFixedMediaTypes=E4});var a_=_(Kc=>{"use strict";var H1e=Kc&&Kc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tG=Kc&&Kc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&H1e(e,t,r)};Object.defineProperty(Kc,"__esModule",{value:!0});tG(ZH(),Kc);tG(eG(),Kc)});var rG=_(Rw=>{"use strict";Object.defineProperty(Rw,"__esModule",{value:!0});Rw.ActorRdfParseN3=void 0;var G1e=a_(),Q1e=gb(),O4=class extends G1e.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){e.data.on("error",a=>i.emit("error",a));let i=e.data.pipe(new Q1e.StreamParser({baseIRI:e.metadata?.baseIRI,format:r}));return{data:i,metadata:{triples:r==="text/turtle"||r==="application/n-triples"||r==="text/n3"}}}};Rw.ActorRdfParseN3=O4});var nG=_(yf=>{"use strict";var z1e=yf&&yf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),W1e=yf&&yf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&z1e(e,t,r)};Object.defineProperty(yf,"__esModule",{value:!0});W1e(rG(),yf)});var aG=_(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.CHAR=`	
\r -\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}`;Lr.S=` 	\r
`;Lr.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}";Lr.NAME_CHAR="-"+Lr.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040";Lr.CHAR_RE=new RegExp("^["+Lr.CHAR+"]$","u");Lr.S_RE=new RegExp("^["+Lr.S+"]+$","u");Lr.NAME_START_CHAR_RE=new RegExp("^["+Lr.NAME_START_CHAR+"]$","u");Lr.NAME_CHAR_RE=new RegExp("^["+Lr.NAME_CHAR+"]$","u");Lr.NAME_RE=new RegExp("^["+Lr.NAME_START_CHAR+"]["+Lr.NAME_CHAR+"]*$","u");Lr.NMTOKEN_RE=new RegExp("^["+Lr.NAME_CHAR+"]+$","u");var R4=9,A4=10,x4=13,I4=32;Lr.S_LIST=[I4,A4,x4,R4];function K1e(t){return t>=I4&&t<=55295||t===A4||t===x4||t===R4||t>=57344&&t<=65533||t>=65536&&t<=1114111}Lr.isChar=K1e;function X1e(t){return t===I4||t===A4||t===x4||t===R4}Lr.isS=X1e;function iG(t){return t>=65&&t<=90||t>=97&&t<=122||t===58||t===95||t===8204||t===8205||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}Lr.isNameStartChar=iG;function $1e(t){return iG(t)||t>=48&&t<=57||t===45||t===46||t===183||t>=768&&t<=879||t>=8255&&t<=8256}Lr.isNameChar=$1e});var dG=_(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.CHAR="-\uD7FF\uE000-\uFFFD\u{10000}-\u{10FFFF}";dr.RESTRICTED_CHAR="-\b\v\f-\x7F-\x84\x86-\x9F";dr.S=` 	\r
`;dr.NAME_START_CHAR=":A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}";dr.NAME_CHAR="-"+dr.NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040";dr.CHAR_RE=new RegExp("^["+dr.CHAR+"]$","u");dr.RESTRICTED_CHAR_RE=new RegExp("^["+dr.RESTRICTED_CHAR+"]$","u");dr.S_RE=new RegExp("^["+dr.S+"]+$","u");dr.NAME_START_CHAR_RE=new RegExp("^["+dr.NAME_START_CHAR+"]$","u");dr.NAME_CHAR_RE=new RegExp("^["+dr.NAME_CHAR+"]$","u");dr.NAME_RE=new RegExp("^["+dr.NAME_START_CHAR+"]["+dr.NAME_CHAR+"]*$","u");dr.NMTOKEN_RE=new RegExp("^["+dr.NAME_CHAR+"]+$","u");var sG=9,oG=10,uG=13,cG=32;dr.S_LIST=[cG,oG,uG,sG];function J1e(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111}dr.isChar=J1e;function Y1e(t){return t>=1&&t<=8||t===11||t===12||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159}dr.isRestrictedChar=Y1e;function Z1e(t){return t===9||t===10||t===13||t>31&&t<127||t===133||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111}dr.isCharAndNotRestricted=Z1e;function eme(t){return t===cG||t===oG||t===uG||t===sG}dr.isS=eme;function lG(t){return t>=65&&t<=90||t>=97&&t<=122||t===58||t===95||t===8204||t===8205||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}dr.isNameStartChar=lG;function tme(t){return lG(t)||t>=48&&t<=57||t===45||t===46||t===183||t>=768&&t<=879||t>=8255&&t<=8256}dr.isNameChar=tme});var hG=_(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.NC_NAME_START_CHAR="A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u{10000}-\u{EFFFF}";da.NC_NAME_CHAR="-"+da.NC_NAME_START_CHAR+".0-9\xB7\u0300-\u036F\u203F-\u2040";da.NC_NAME_START_CHAR_RE=new RegExp("^["+da.NC_NAME_START_CHAR+"]$","u");da.NC_NAME_CHAR_RE=new RegExp("^["+da.NC_NAME_CHAR+"]$","u");da.NC_NAME_RE=new RegExp("^["+da.NC_NAME_START_CHAR+"]["+da.NC_NAME_CHAR+"]*$","u");function fG(t){return t>=65&&t<=90||t===95||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}da.isNCNameStartChar=fG;function rme(t){return fG(t)||t===45||t===46||t>=48&&t<=57||t===183||t>=768&&t<=879||t>=8255&&t<=8256}da.isNCNameChar=rme});var G4=_(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.SaxesParser=l_.EVENTS=void 0;var d_=aG(),nme=dG(),H4=hG(),fa=d_.isS,ime=d_.isChar,Ab=d_.isNameStartChar,pG=d_.isNameChar,xG=d_.S_LIST,ame=d_.NAME_RE,sme=nme.isChar,ome=H4.isNCNameStartChar,ume=H4.isNCNameChar,cme=H4.NC_NAME_RE,Dw="http://www.w3.org/XML/1998/namespace",c_="http://www.w3.org/2000/xmlns/",lme={__proto__:null,xml:Dw,xmlns:c_},dme={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},Qr=-1,Bo=-2,_G=0,fme=1,P4=2,hme=3,s_=4,pme=5,_me=6,yme=7,N4=8,bme=9,gme=10,mme=11,vme=12,Hi=13,Aw=14,D4=15,wme=16,C4=17,Sme=18,Tme=19,j4=20,Eme=21,Ome=22,Rme=23,yG=24,q4=25,xw=26,bG=27,Ame=28,xme=29,gG=30,Ime=31,Pme=32,bf=33,Nme=34,L4=35,xb=36,M4=37,Dme=38,mG=39,vG=40,Cme=41,wG=42,jme=43,qme=44,F4=9,zs=10,B4=13,SG=32,TG=33,IG=34,Ib=38,PG=39,Iw=45,Pw=47,Lme=59,Xc=60,o_=61,xn=62,ti=63,NG=91,u_=93,EG=133,OG=8232,Nw=t=>t===IG||t===PG,DG=[IG,PG],Mme=[...DG,NG,xn],Fme=[...DG,Xc,u_],Bme=[o_,ti,...xG],Ume=[...xG,xn,Ib,Xc];function V4(t,e,r){switch(e){case"xml":r!==Dw&&t.fail(`xml prefix must be bound to ${Dw}.`);break;case"xmlns":r!==c_&&t.fail(`xmlns prefix must be bound to ${c_}.`);break;default:}switch(r){case c_:t.fail(e===""?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${c_}.`);break;case Dw:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${r}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}break;default:}}function Vme(t,e){for(let r of Object.keys(e))V4(t,r,e[r])}var kme=t=>cme.test(t),Hme=t=>ame.test(t),gf=0,RG=1,U4=2;l_.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var AG={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},k4=class{constructor(e){this.opt=e??{},this.fragmentOpt=!!this.opt.fragment;let r=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,r){this.nameStartCheck=ome,this.nameCheck=ume,this.isName=kme,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},lme);let n=this.opt.additionalNamespaces;n!=null&&(Vme(this,n),Object.assign(this.ns,n))}else this.nameStartCheck=Ab,this.nameCheck=pG,this.isName=Hme,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var e;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=gf,this.attribList=[];let{fragmentOpt:r}=this;this.state=r?Hi:_G,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=r,this.xmlDeclPossible=!r,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:n}=this.opt;if(n===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");n="1.0"}this.setXMLVersion(n),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(dme),(e=this.readyHandler)===null||e===void 0||e.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(e,r){this[AG[e]]=r}off(e){this[AG[e]]=void 0}makeError(e){var r;let n=(r=this.fileName)!==null&&r!==void 0?r:"";return this.trackPosition&&(n.length>0&&(n+=":"),n+=`${this.line}:${this.column}`),n.length>0&&(n+=": "),new Error(n+e)}fail(e){let r=this.makeError(e),n=this.errorHandler;if(n===void 0)throw r;return n(r),this}write(e){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let r=!1;e===null?(r=!0,e=""):typeof e=="object"&&(e=e.toString()),this.carriedFromPrevious!==void 0&&(e=`${this.carriedFromPrevious}${e}`,this.carriedFromPrevious=void 0);let n=e.length,i=e.charCodeAt(n-1);!r&&(i===B4||i>=55296&&i<=56319)&&(this.carriedFromPrevious=e[n-1],n--,e=e.slice(0,n));let{stateTable:a}=this;for(this.chunk=e,this.i=0;this.i<n;)a[this.state].call(this);return this.chunkPosition+=n,r?this.end():this}close(){return this.write(null)}getCode10(){let{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return Qr;let n=e.charCodeAt(r);if(this.column++,n<55296){if(n>=SG||n===F4)return n;switch(n){case zs:return this.line++,this.column=0,this.positionAtNewLine=this.position,zs;case B4:return e.charCodeAt(r+1)===zs&&(this.i=r+2),this.line++,this.column=0,this.positionAtNewLine=this.position,Bo;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;let i=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,i>1114111&&this.fail("disallowed character."),i}getCode11(){let{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return Qr;let n=e.charCodeAt(r);if(this.column++,n<55296){if(n>31&&n<127||n>159&&n!==OG||n===F4)return n;switch(n){case zs:return this.line++,this.column=0,this.positionAtNewLine=this.position,zs;case B4:{let a=e.charCodeAt(r+1);(a===zs||a===EG)&&(this.i=r+2)}case EG:case OG:return this.line++,this.column=0,this.positionAtNewLine=this.position,Bo;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;let i=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,i>1114111&&this.fail("disallowed character."),i}getCodeNorm(){let e=this.getCode();return e===Bo?zs:e}unget(){this.i=this.prevI,this.column--}captureTo(e){let{i:r}=this,{chunk:n}=this;for(;;){let i=this.getCode(),a=i===Bo,s=a?zs:i;if(s===Qr||e.includes(s))return this.text+=n.slice(r,this.prevI),s;a&&(this.text+=`${n.slice(r,this.prevI)}
`,r=this.i)}}captureToChar(e){let{i:r}=this,{chunk:n}=this;for(;;){let i=this.getCode();switch(i){case Bo:this.text+=`${n.slice(r,this.prevI)}
`,r=this.i,i=zs;break;case Qr:return this.text+=n.slice(r),!1;default:}if(i===e)return this.text+=n.slice(r,this.prevI),!0}}captureNameChars(){let{chunk:e,i:r}=this;for(;;){let n=this.getCode();if(n===Qr)return this.name+=e.slice(r),Qr;if(!pG(n))return this.name+=e.slice(r,this.prevI),n===Bo?zs:n}}skipSpaces(){for(;;){let e=this.getCodeNorm();if(e===Qr||!fa(e))return e}}setXMLVersion(e){this.currentXMLVersion=e,e==="1.0"?(this.isChar=ime,this.getCode=this.getCode10):(this.isChar=sme,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=fme}sBeginWhitespace(){let e=this.i,r=this.skipSpaces();switch(this.prevI!==e&&(this.xmlDeclPossible=!1),r){case Xc:if(this.state=D4,this.text.length!==0)throw new Error("no-empty text at start");break;case Qr:break;default:this.unget(),this.state=Hi,this.xmlDeclPossible=!1}}sDoctype(){var e;let r=this.captureTo(Mme);switch(r){case xn:{(e=this.doctypeHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=Hi,this.doctype=!0;break}case Qr:break;default:this.text+=String.fromCodePoint(r),r===NG?this.state=s_:Nw(r)&&(this.state=hme,this.q=r)}}sDoctypeQuote(){let e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.q=null,this.state=P4)}sDTD(){let e=this.captureTo(Fme);e!==Qr&&(this.text+=String.fromCodePoint(e),e===u_?this.state=P4:e===Xc?this.state=_me:Nw(e)&&(this.state=pme,this.q=e))}sDTDQuoted(){let e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.state=s_,this.q=null)}sDTDOpenWaka(){let e=this.getCodeNorm();switch(this.text+=String.fromCodePoint(e),e){case TG:this.state=yme,this.openWakaBang="";break;case ti:this.state=mme;break;default:this.state=s_}}sDTDOpenWakaBang(){let e=String.fromCodePoint(this.getCodeNorm()),r=this.openWakaBang+=e;this.text+=e,r!=="-"&&(this.state=r==="--"?N4:s_,this.openWakaBang="")}sDTDComment(){this.captureToChar(Iw)&&(this.text+="-",this.state=bme)}sDTDCommentEnding(){let e=this.getCodeNorm();this.text+=String.fromCodePoint(e),this.state=e===Iw?gme:N4}sDTDCommentEnded(){let e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===xn?this.state=s_:(this.fail("malformed comment."),this.state=N4)}sDTDPI(){this.captureToChar(ti)&&(this.text+="?",this.state=vme)}sDTDPIEnding(){let e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===xn&&(this.state=s_)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:e}=this,{chunk:r}=this;e:for(;;)switch(this.getCode()){case Bo:this.entity+=`${r.slice(e,this.prevI)}
`,e=this.i;break;case Lme:{let{entityReturnState:n}=this,i=this.entity+r.slice(e,this.prevI);this.state=n;let a;i===""?(this.fail("empty entity name."),a="&;"):(a=this.parseEntity(i),this.entity=""),(n!==Hi||this.textHandler!==void 0)&&(this.text+=a);break e}case Qr:this.entity+=r.slice(e);break e;default:}}sOpenWaka(){let e=this.getCode();if(Ab(e))this.state=Nme,this.unget(),this.xmlDeclPossible=!1;else switch(e){case Pw:this.state=jme,this.xmlDeclPossible=!1;break;case TG:this.state=wme,this.openWakaBang="",this.xmlDeclPossible=!1;break;case ti:this.state=Rme;break;default:this.fail("disallowed character in tag name"),this.state=Hi,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=j4,this.openWakaBang="";break;case"--":this.state=C4,this.openWakaBang="";break;case"DOCTYPE":this.state=P4,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Iw)&&(this.state=Sme)}sCommentEnding(){var e;let r=this.getCodeNorm();r===Iw?(this.state=Tme,(e=this.commentHandler)===null||e===void 0||e.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(r)}`,this.state=C4)}sCommentEnded(){let e=this.getCodeNorm();e!==xn?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(e)}`,this.state=C4):this.state=Hi}sCData(){this.captureToChar(u_)&&(this.state=Eme)}sCDataEnding(){let e=this.getCodeNorm();e===u_?this.state=Ome:(this.text+=`]${String.fromCodePoint(e)}`,this.state=j4)}sCDataEnding2(){var e;let r=this.getCodeNorm();switch(r){case xn:{(e=this.cdataHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=Hi;break}case u_:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(r)}`,this.state=j4}}sPIFirstChar(){let e=this.getCodeNorm();this.nameStartCheck(e)?(this.piTarget+=String.fromCodePoint(e),this.state=yG):e===ti||fa(e)?(this.fail("processing instruction without a target."),this.state=e===ti?xw:q4):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e),this.state=yG)}sPIRest(){let{chunk:e,i:r}=this;for(;;){let n=this.getCodeNorm();if(n===Qr){this.piTarget+=e.slice(r);return}if(!this.nameCheck(n)){this.piTarget+=e.slice(r,this.prevI);let i=n===ti;i||fa(n)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=i?bf:bG):this.state=i?xw:q4:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(n));break}}}sPIBody(){if(this.text.length===0){let e=this.getCodeNorm();e===ti?this.state=xw:fa(e)||(this.text=String.fromCodePoint(e))}else this.captureToChar(ti)&&(this.state=xw)}sPIEnding(){var e;let r=this.getCodeNorm();if(r===xn){let{piTarget:n}=this;n.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(e=this.piHandler)===null||e===void 0||e.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=Hi}else r===ti?this.text+="?":(this.text+=`?${String.fromCodePoint(r)}`,this.state=q4);this.xmlDeclPossible=!1}sXMLDeclNameStart(){let e=this.skipSpaces();if(e===ti){this.state=bf;return}e!==Qr&&(this.state=Ame,this.name=String.fromCodePoint(e))}sXMLDeclName(){let e=this.captureTo(Bme);if(e===ti){this.state=bf,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(!!(fa(e)||e===o_)){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=e===o_?gG:xme}}sXMLDeclEq(){let e=this.getCodeNorm();if(e===ti){this.state=bf,this.fail("XML declaration is incomplete.");return}fa(e)||(e!==o_&&this.fail("value required."),this.state=gG)}sXMLDeclValueStart(){let e=this.getCodeNorm();if(e===ti){this.state=bf,this.fail("XML declaration is incomplete.");return}fa(e)||(Nw(e)?this.q=e:(this.fail("value must be quoted."),this.q=SG),this.state=Ime)}sXMLDeclValue(){let e=this.captureTo([this.q,ti]);if(e===ti){this.state=bf,this.text="",this.fail("XML declaration is incomplete.");return}if(e===Qr)return;let r=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];let n=r;this.xmlDecl.version=n,/^1\.[0-9]+$/.test(n)?this.opt.forceXMLVersion||this.setXMLVersion(n):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(r)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=r;break;case"standalone":r!=="yes"&&r!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=r;break;default:}this.name="",this.state=Pme}sXMLDeclSeparator(){let e=this.getCodeNorm();if(e===ti){this.state=bf;return}fa(e)||(this.fail("whitespace required."),this.unget()),this.state=bG}sXMLDeclEnding(){var e;this.getCodeNorm()===xn?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(e=this.xmldeclHandler)===null||e===void 0||e.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=Hi):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var e;let r=this.captureNameChars();if(r===Qr)return;let n=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=n.ns=Object.create(null)),(e=this.openTagStartHandler)===null||e===void 0||e.call(this,n),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),r){case xn:this.openTag();break;case Pw:this.state=L4;break;default:fa(r)||this.fail("disallowed character in tag name."),this.state=xb}}sOpenTagSlash(){this.getCode()===xn?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=xb)}sAttrib(){let e=this.skipSpaces();e!==Qr&&(Ab(e)?(this.unget(),this.state=M4):e===xn?this.openTag():e===Pw?this.state=L4:this.fail("disallowed character in attribute name."))}sAttribName(){let e=this.captureNameChars();e===o_?this.state=mG:fa(e)?this.state=Dme:e===xn?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):e!==Qr&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){let e=this.skipSpaces();switch(e){case Qr:return;case o_:this.state=mG;break;default:this.fail("attribute without value."),this.text="",this.name="",e===xn?this.openTag():Ab(e)?(this.unget(),this.state=M4):(this.fail("disallowed character in attribute name."),this.state=xb)}}sAttribValue(){let e=this.getCodeNorm();Nw(e)?(this.q=e,this.state=vG):fa(e)||(this.fail("unquoted attribute value."),this.state=wG,this.unget())}sAttribValueQuoted(){let{q:e,chunk:r}=this,{i:n}=this;for(;;)switch(this.getCode()){case e:this.pushAttrib(this.name,this.text+r.slice(n,this.prevI)),this.name=this.text="",this.q=null,this.state=Cme;return;case Ib:this.text+=r.slice(n,this.prevI),this.state=Aw,this.entityReturnState=vG;return;case zs:case Bo:case F4:this.text+=`${r.slice(n,this.prevI)} `,n=this.i;break;case Xc:this.text+=r.slice(n,this.prevI),this.fail("disallowed character.");return;case Qr:this.text+=r.slice(n);return;default:}}sAttribValueClosed(){let e=this.getCodeNorm();fa(e)?this.state=xb:e===xn?this.openTag():e===Pw?this.state=L4:Ab(e)?(this.fail("no whitespace between attributes."),this.unget(),this.state=M4):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){let e=this.captureTo(Ume);switch(e){case Ib:this.state=Aw,this.entityReturnState=wG;break;case Xc:this.fail("disallowed character.");break;case Qr:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",e===xn?this.openTag():this.state=xb}}sCloseTag(){let e=this.captureNameChars();e===xn?this.closeTag():fa(e)?this.state=qme:e!==Qr&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case xn:this.closeTag();break;case Qr:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:e,forbiddenState:r}=this,{chunk:n,textHandler:i}=this;e:for(;;)switch(this.getCode()){case Xc:{if(this.state=D4,i!==void 0){let{text:a}=this,s=n.slice(e,this.prevI);a.length!==0?(i(a+s),this.text=""):s.length!==0&&i(s)}r=gf;break e}case Ib:this.state=Aw,this.entityReturnState=Hi,i!==void 0&&(this.text+=n.slice(e,this.prevI)),r=gf;break e;case u_:switch(r){case gf:r=RG;break;case RG:r=U4;break;case U4:break;default:throw new Error("impossible state")}break;case xn:r===U4&&this.fail('the string "]]>" is disallowed in char data.'),r=gf;break;case Bo:i!==void 0&&(this.text+=`${n.slice(e,this.prevI)}
`),e=this.i,r=gf;break;case Qr:i!==void 0&&(this.text+=n.slice(e));break e;default:r=gf}this.forbiddenState=r}handleTextOutsideRoot(){let{i:e}=this,{chunk:r,textHandler:n}=this,i=!1;e:for(;;){let a=this.getCode();switch(a){case Xc:{if(this.state=D4,n!==void 0){let{text:s}=this,o=r.slice(e,this.prevI);s.length!==0?(n(s+o),this.text=""):o.length!==0&&n(o)}break e}case Ib:this.state=Aw,this.entityReturnState=Hi,n!==void 0&&(this.text+=r.slice(e,this.prevI)),i=!0;break e;case Bo:n!==void 0&&(this.text+=`${r.slice(e,this.prevI)}
`),e=this.i;break;case Qr:n!==void 0&&(this.text+=r.slice(e));break e;default:fa(a)||(i=!0)}}!i||(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(e,r){var n;let{prefix:i,local:a}=this.qname(e),s={name:e,prefix:i,local:a,value:r};if(this.attribList.push(s),(n=this.attributeHandler)===null||n===void 0||n.call(this,s),i==="xmlns"){let o=r.trim();this.currentXMLVersion==="1.0"&&o===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[a]=o,V4(this,a,o)}else if(e==="xmlns"){let o=r.trim();this.topNS[""]=o,V4(this,"",o)}}pushAttribPlain(e,r){var n;let i={name:e,value:r};this.attribList.push(i),(n=this.attributeHandler)===null||n===void 0||n.call(this,i)}end(){var e,r;this.sawRoot||this.fail("document must contain a root element.");let{tags:n}=this;for(;n.length>0;){let a=n.pop();this.fail(`unclosed tag: ${a.name}`)}this.state!==_G&&this.state!==Hi&&this.fail("unexpected end.");let{text:i}=this;return i.length!==0&&((e=this.textHandler)===null||e===void 0||e.call(this,i),this.text=""),this._closed=!0,(r=this.endHandler)===null||r===void 0||r.call(this),this._init(),this}resolve(e){var r,n;let i=this.topNS[e];if(i!==void 0)return i;let{tags:a}=this;for(let s=a.length-1;s>=0;s--)if(i=a[s].ns[e],i!==void 0)return i;return i=this.ns[e],i!==void 0?i:(n=(r=this.opt).resolvePrefix)===null||n===void 0?void 0:n.call(r,e)}qname(e){let r=e.indexOf(":");if(r===-1)return{prefix:"",local:e};let n=e.slice(r+1),i=e.slice(0,r);return(i===""||n===""||n.includes(":"))&&this.fail(`malformed name: ${e}.`),{prefix:i,local:n}}processAttribsNS(){var e;let{attribList:r}=this,n=this.tag;{let{prefix:s,local:o}=this.qname(n.name);n.prefix=s,n.local=o;let u=n.uri=(e=this.resolve(s))!==null&&e!==void 0?e:"";s!==""&&(s==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),u===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(s)}.`),n.uri=s))}if(r.length===0)return;let{attributes:i}=n,a=new Set;for(let s of r){let{name:o,prefix:u,local:d}=s,f,p;u===""?(f=o==="xmlns"?c_:"",p=o):(f=this.resolve(u),f===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(u)}.`),f=u),p=`{${f}}${d}`),a.has(p)&&this.fail(`duplicate attribute: ${p}.`),a.add(p),s.uri=f,i[o]=s}this.attribList=[]}processAttribsPlain(){let{attribList:e}=this,r=this.tag.attributes;for(let{name:n,value:i}of e)r[n]!==void 0&&this.fail(`duplicate attribute: ${n}.`),r[n]=i;this.attribList=[]}openTag(){var e;this.processAttribs();let{tags:r}=this,n=this.tag;n.isSelfClosing=!1,(e=this.openTagHandler)===null||e===void 0||e.call(this,n),r.push(n),this.state=Hi,this.name=""}openSelfClosingTag(){var e,r,n;this.processAttribs();let{tags:i}=this,a=this.tag;a.isSelfClosing=!0,(e=this.openTagHandler)===null||e===void 0||e.call(this,a),(r=this.closeTagHandler)===null||r===void 0||r.call(this,a),(this.tag=(n=i[i.length-1])!==null&&n!==void 0?n:null)===null&&(this.closedRoot=!0),this.state=Hi,this.name=""}closeTag(){let{tags:e,name:r}=this;if(this.state=Hi,this.name="",r===""){this.fail("weird empty close tag."),this.text+="</>";return}let n=this.closeTagHandler,i=e.length;for(;i-- >0;){let a=this.tag=e.pop();if(this.topNS=a.ns,n?.(a),a.name===r)break;this.fail("unexpected close tag.")}i===0?this.closedRoot=!0:i<0&&(this.fail(`unmatched closing tag: ${r}.`),this.text+=`</${r}>`)}parseEntity(e){if(e[0]!=="#"){let n=this.ENTITIES[e];return n!==void 0?n:(this.fail(this.isName(e)?"undefined entity.":"disallowed character in entity name."),`&${e};`)}let r=NaN;return e[1]==="x"&&/^#x[0-9a-f]+$/i.test(e)?r=parseInt(e.slice(2),16):/^#[0-9]+$/.test(e)&&(r=parseInt(e.slice(1),10)),this.isChar(r)?String.fromCodePoint(r):(this.fail("malformed character entity."),`&${e};`)}};l_.SaxesParser=k4});var CG=_(Cw=>{"use strict";Object.defineProperty(Cw,"__esModule",{value:!0});Cw.ParseError=void 0;var Q4=class extends Error{constructor(e,r){let n=e.saxParser;super(e.trackPosition?`Line ${n.line} column ${n.column+1}: ${r}`:r)}};Cw.ParseError=Q4});var jG=_(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.validateIri=mf.IriValidationStrategy=void 0;function Gme(){let e="[!$&'()*+,;=]",r="%[a-fA-F0-9]{2}",n="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i=`${n}\\.${n}\\.${n}\\.${n}`,a="[a-fA-F0-9]{1,4}",s=`(${a}:${a}|${i})`,o=`((${a}:){6}${s}|::(${a}:){5}${s}|(${a})?::(${a}:){4}${s}|((${a}:){0,1}${a})?::(${a}:){3}${s}|((${a}:){0,2}${a})?::(${a}:){2}${s}|((${a}:){0,3}${a})?::${a}:${s}|((${a}:){0,4}${a})?::${s}|((${a}:){0,5}${a})?::${a}|((${a}:){0,6}${a})?::)`,u=`v[a-fA-F0-9]+\\.(${e}|${e}|":)+`,d=`\\[(${o}|${u})\\]`,f="[0-9]*",p="[a-zA-Z][a-zA-Z0-9+\\-.]*",g="[\uE000-\uF8FF\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]",D="[a-zA-Z0-9\\-._~\xA0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\u{10000}-\u{1FFFD}\u{20000}-\u{2FFFD}\u{30000}-\u{3FFFD}\u{40000}-\u{4FFFD}\u{50000}-\u{5FFFD}\u{60000}-\u{6FFFD}\u{70000}-\u{7FFFD}\u{80000}-\u{8FFFD}\u{90000}-\u{9FFFD}\u{A0000}-\u{AFFFD}\u{B0000}-\u{BFFFD}\u{C0000}-\u{CFFFD}\u{D0000}-\u{DFFFD}\u{E1000}-\u{EFFFD}]",O=`(${D}|${r}|${e}|[:@])*`,C=`(${O}|[\\/?])*`,R=`(${O}|${g}|[\\/?])*`,w=`(${O})+`,P=`(${O})*`,T="",te=`${w}(\\/${P})*`,ee=`\\/(${w}(\\/${P})*)?`,Y=`(\\/${P})*`,x=`(${D}|${r}|${e})*`,H=`(${d}|${i}|${x})`,Me=`(\\/\\/${`(${`(${D}|${r}|${e}|:)*`}@)?${H}(:${f})?`}${Y}|${ee}|${te}|${T})`,J=`^${p}:${Me}(\\?${R})?(#${C})?$`;return new RegExp(J,"u")}var Qme=Gme(),zme=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u,Pb;(function(t){t.Strict="strict",t.Pragmatic="pragmatic",t.None="none"})(Pb=mf.IriValidationStrategy||(mf.IriValidationStrategy={}));function Wme(t,e=Pb.Strict){switch(e){case Pb.Strict:return Qme.test(t)?void 0:new Error(`Invalid IRI according to RFC 3987: '${t}'`);case Pb.Pragmatic:return zme.test(t)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${t}'`);case Pb.None:return;default:return new Error(`Not supported validation strategy "${e}"`)}}mf.validateIri=Wme});var qG=_(vf=>{"use strict";var Kme=vf&&vf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xme=vf&&vf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Kme(e,t,r)};Object.defineProperty(vf,"__esModule",{value:!0});Xme(jG(),vf)});var FG=_(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.ParseType=wf.RdfXmlParser=void 0;var LG=is(),$me=G4(),MG=qr(),Jme=CG(),Yme=Bt(),z4=qG(),rr=class extends MG.Transform{constructor(e){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},e&&(Object.assign(this,e),this.options=e),this.dataFactory||(this.dataFactory=new Yme.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?z4.IriValidationStrategy.Pragmatic:z4.IriValidationStrategy.None),this.saxParser=new $me.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(e){let r=new MG.PassThrough({readableObjectMode:!0});e.on("error",i=>n.emit("error",i)),e.on("data",i=>r.push(i)),e.on("end",()=>r.push(null));let n=r.pipe(new rr(this.options));return n}_transform(e,r,n){try{this.saxParser.write(e)}catch(i){return n(i)}n()}newParseError(e){return new Jme.ParseError(this,e)}valueToUri(e,r){return this.uriToNamedNode((0,LG.resolve)(e,r.baseIRI))}uriToNamedNode(e){let r=(0,z4.validateIri)(e,this.iriValidationStrategy);if(r instanceof Error)throw this.newParseError(r.message);return this.dataFactory.namedNode(e)}validateNcname(e){if(!rr.NCNAME_MATCHER.test(e))throw this.newParseError(`Not a valid NCName: ${e}`)}attachSaxListeners(){this.saxParser.on("error",e=>this.emit("error",e)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(e){let r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null,n=$c.RESOURCE;if(r&&(r.hadChildren=!0,n=r.childrenParseType),r&&r.childrenStringTags){let a=e.name,s="";for(let f in e.attributes)s+=` ${f}="${e.attributes[f].value}"`;let u=`<${`${a}${s}`}>`;r.childrenStringTags.push(u);let d={childrenStringTags:r.childrenStringTags};d.childrenStringEmitClosingTag=`</${a}>`,this.activeTagStack.push(d);return}let i={};r?(i.language=r.language,i.baseIRI=r.baseIRI):i.baseIRI=this.baseIRI,this.activeTagStack.push(i),n===$c.RESOURCE?this.onTagResource(e,i,r,!r):this.onTagProperty(e,i,r)}onTagResource(e,r,n,i){r.childrenParseType=$c.PROPERTY;let a=!0;if(e.uri===rr.RDF){if(!i&&rr.FORBIDDEN_NODE_ELEMENTS.indexOf(e.local)>=0)throw this.newParseError(`Illegal node element name: ${e.local}`);switch(e.local){case"RDF":r.childrenParseType=$c.RESOURCE;case"Description":a=!1}}let s=[],o=[],u=null,d=!1,f=!1,p=null;for(let y in e.attributes){let g=e.attributes[y];if(n&&g.uri===rr.RDF)switch(g.local){case"about":if(u)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${g.value} and ${u} where found.`);u=g.value;continue;case"ID":if(u)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${g.value} and ${u} where found.`);this.validateNcname(g.value),u="#"+g.value,d=!0;continue;case"nodeID":if(u)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${g.value} and ${u} where found.`);this.validateNcname(g.value),u=g.value,f=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":p=g.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(g.uri===rr.XML){if(g.local==="lang"){r.language=g.value===""?null:g.value.toLowerCase();continue}else if(g.local==="base"){r.baseIRI=(0,LG.resolve)(g.value,r.baseIRI);continue}}g.prefix!=="xml"&&g.uri&&(s.push(this.uriToNamedNode(g.uri+g.local)),o.push(g.value))}if(u!==null&&(r.subject=f?this.dataFactory.blankNode(u):this.valueToUri(u,r),d&&this.claimNodeId(r.subject)),r.subject||(r.subject=this.dataFactory.blankNode()),a){let y=this.uriToNamedNode(e.uri+e.local);this.emitTriple(r.subject,this.dataFactory.namedNode(rr.RDF+"type"),y,n?n.reifiedStatementId:null)}if(n){if(n.predicate)if(n.childrenCollectionSubject){let y=this.dataFactory.blankNode();this.emitTriple(n.childrenCollectionSubject,n.childrenCollectionPredicate,y,n.reifiedStatementId),this.emitTriple(y,this.dataFactory.namedNode(rr.RDF+"first"),r.subject,r.reifiedStatementId),n.childrenCollectionSubject=y,n.childrenCollectionPredicate=this.dataFactory.namedNode(rr.RDF+"rest")}else{this.emitTriple(n.subject,n.predicate,r.subject,n.reifiedStatementId);for(let y=0;y<n.predicateSubPredicates.length;y++)this.emitTriple(r.subject,n.predicateSubPredicates[y],n.predicateSubObjects[y],null);n.predicateSubPredicates=[],n.predicateSubObjects=[],n.predicateEmitted=!0}for(let y=0;y<s.length;y++){let g=this.dataFactory.literal(o[y],r.datatype||r.language);this.emitTriple(r.subject,s[y],g,n.reifiedStatementId)}p&&this.emitTriple(r.subject,this.dataFactory.namedNode(rr.RDF+"type"),this.uriToNamedNode(p),null)}}onTagProperty(e,r,n){if(r.childrenParseType=$c.RESOURCE,r.subject=n.subject,e.uri===rr.RDF&&e.local==="li"?(n.listItemCounter||(n.listItemCounter=1),r.predicate=this.uriToNamedNode(e.uri+"_"+n.listItemCounter++)):r.predicate=this.uriToNamedNode(e.uri+e.local),e.uri===rr.RDF&&rr.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(e.local)>=0)throw this.newParseError(`Illegal property element name: ${e.local}`);r.predicateSubPredicates=[],r.predicateSubObjects=[];let i=!1,a=!1,s=null,o=!0,u=[],d=[];for(let f in e.attributes){let p=e.attributes[f];if(p.uri===rr.RDF)switch(p.local){case"resource":if(s)throw this.newParseError(`Found both rdf:resource (${p.value}) and rdf:nodeID (${s}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${p.value})`);r.hadChildren=!0,s=p.value,o=!1;continue;case"datatype":if(a)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${p.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${p.value})`);r.datatype=this.valueToUri(p.value,r);continue;case"nodeID":if(a)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${p.value}).`);if(r.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${p.value}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${p.value})`);this.validateNcname(p.value),r.hadChildren=!0,s=p.value,o=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(a)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(r.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${r.datatype.value})`);if(s)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${s})`);if(p.value==="Resource"){i=!0,r.childrenParseType=$c.PROPERTY;let y=this.dataFactory.blankNode();this.emitTriple(r.subject,r.predicate,y,r.reifiedStatementId),r.subject=y,r.predicate=null}else p.value==="Collection"?(i=!0,r.hadChildren=!0,r.childrenCollectionSubject=r.subject,r.childrenCollectionPredicate=r.predicate,o=!1):p.value==="Literal"&&(i=!0,r.childrenTagsToString=!0,r.childrenStringTags=[]);continue;case"ID":this.validateNcname(p.value),r.reifiedStatementId=this.valueToUri("#"+p.value,r),this.claimNodeId(r.reifiedStatementId);continue}else if(p.uri===rr.XML&&p.local==="lang"){r.language=p.value===""?null:p.value.toLowerCase();continue}if(p.prefix!=="xml"&&p.prefix!=="xmlns"&&p.uri){if(i||r.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${p.value}`);r.hadChildren=!0,a=!0,u.push(this.uriToNamedNode(p.uri+p.local)),d.push(this.dataFactory.literal(p.value,r.datatype||r.language))}}if(s!==null){let f=r.subject;r.subject=o?this.dataFactory.blankNode(s):this.valueToUri(s,r),this.emitTriple(f,r.predicate,r.subject,r.reifiedStatementId);for(let p=0;p<u.length;p++)this.emitTriple(r.subject,u[p],d[p],null);r.predicateEmitted=!0}else o&&(r.predicateSubPredicates=u,r.predicateSubObjects=d,r.predicateEmitted=!1)}emitTriple(e,r,n,i){this.push(this.dataFactory.quad(e,r,n,this.defaultGraph)),i&&(this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(rr.RDF+"type"),this.dataFactory.namedNode(rr.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(rr.RDF+"subject"),e,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(rr.RDF+"predicate"),r,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(rr.RDF+"object"),n,this.defaultGraph)))}claimNodeId(e){if(!this.allowDuplicateRdfIds){if(this.nodeIds[e.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${e.value}'.`);this.nodeIds[e.value]=!0}}onText(e){let r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;r&&(r.childrenStringTags?r.childrenStringTags.push(e):r.predicate&&(r.text=e))}onCloseTag(){let e=this.activeTagStack.pop();if(e.childrenStringEmitClosingTag&&e.childrenStringTags.push(e.childrenStringEmitClosingTag),e.childrenTagsToString&&(e.datatype=this.dataFactory.namedNode(rr.RDF+"XMLLiteral"),e.text=e.childrenStringTags.join(""),e.hadChildren=!1),e.childrenCollectionSubject)this.emitTriple(e.childrenCollectionSubject,e.childrenCollectionPredicate,this.dataFactory.namedNode(rr.RDF+"nil"),e.reifiedStatementId);else if(e.predicate){if(!e.hadChildren&&e.childrenParseType!==$c.PROPERTY)this.emitTriple(e.subject,e.predicate,this.dataFactory.literal(e.text||"",e.datatype||e.language),e.reifiedStatementId);else if(!e.predicateEmitted){let r=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,r,e.reifiedStatementId);for(let n=0;n<e.predicateSubPredicates.length;n++)this.emitTriple(r,e.predicateSubPredicates[n],e.predicateSubObjects[n],null)}}}onDoctype(e){e.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(r,n,i)=>(this.saxParser.ENTITIES[n]=i,""))}};wf.RdfXmlParser=rr;rr.MIME_TYPE="application/rdf+xml";rr.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";rr.XML="http://www.w3.org/XML/1998/namespace";rr.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"];rr.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"];rr.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var $c;(function(t){t[t.RESOURCE=0]="RESOURCE",t[t.PROPERTY=1]="PROPERTY"})($c=wf.ParseType||(wf.ParseType={}))});var BG=_(Sf=>{"use strict";var Zme=Sf&&Sf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eve=Sf&&Sf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zme(e,t,r)};Object.defineProperty(Sf,"__esModule",{value:!0});eve(FG(),Sf)});var UG=_(jw=>{"use strict";Object.defineProperty(jw,"__esModule",{value:!0});jw.ActorRdfParseRdfXml=void 0;var tve=a_(),rve=BG(),W4=class extends tve.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){e.data.on("error",a=>i.emit("error",a));let i=e.data.pipe(new rve.RdfXmlParser({baseIRI:e.metadata?.baseIRI}));return{data:i,metadata:{triples:!0}}}};jw.ActorRdfParseRdfXml=W4});var VG=_(Tf=>{"use strict";var nve=Tf&&Tf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ive=Tf&&Tf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nve(e,t,r)};Object.defineProperty(Tf,"__esModule",{value:!0});ive(UG(),Tf)});var HG=_(kG=>{"use strict";Object.defineProperty(kG,"__esModule",{value:!0})});var QG=_(GG=>{"use strict";Object.defineProperty(GG,"__esModule",{value:!0})});var WG=_(zG=>{"use strict";Object.defineProperty(zG,"__esModule",{value:!0})});var KG=_(K4=>{"use strict";Object.defineProperty(K4,"__esModule",{value:!0});K4.default=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(function(t){return t.charCodeAt(0)}))});var XG=_(X4=>{"use strict";Object.defineProperty(X4,"__esModule",{value:!0});X4.default=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(function(t){return t.charCodeAt(0)}))});var J4=_(Jc=>{"use strict";var $4;Object.defineProperty(Jc,"__esModule",{value:!0});Jc.replaceCodePoint=Jc.fromCodePoint=void 0;var ave=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);Jc.fromCodePoint=($4=String.fromCodePoint)!==null&&$4!==void 0?$4:function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function $G(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=ave.get(t))!==null&&e!==void 0?e:t}Jc.replaceCodePoint=$G;function sve(t){return(0,Jc.fromCodePoint)($G(t))}Jc.default=sve});var Nb=_(Mr=>{"use strict";var Y4=Mr&&Mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.decodeXML=Mr.decodeHTMLStrict=Mr.decodeHTML=Mr.determineBranch=Mr.BinTrieFlags=Mr.fromCodePoint=Mr.replaceCodePoint=Mr.decodeCodePoint=Mr.xmlDecodeTree=Mr.htmlDecodeTree=void 0;var JG=Y4(KG());Mr.htmlDecodeTree=JG.default;var YG=Y4(XG());Mr.xmlDecodeTree=YG.default;var ZG=Y4(J4());Mr.decodeCodePoint=ZG.default;var eQ=J4();Object.defineProperty(Mr,"replaceCodePoint",{enumerable:!0,get:function(){return eQ.replaceCodePoint}});Object.defineProperty(Mr,"fromCodePoint",{enumerable:!0,get:function(){return eQ.fromCodePoint}});var ja;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.To_LOWER_BIT=32]="To_LOWER_BIT"})(ja||(ja={}));var f_;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(f_=Mr.BinTrieFlags||(Mr.BinTrieFlags={}));function tQ(t){return function(r,n){for(var i="",a=0,s=0;(s=r.indexOf("&",s))>=0;){if(i+=r.slice(a,s),a=s,s+=1,r.charCodeAt(s)===ja.NUM){var o=s+1,u=10,d=r.charCodeAt(o);(d|ja.To_LOWER_BIT)===ja.LOWER_X&&(u=16,s+=1,o+=1);do d=r.charCodeAt(++s);while(d>=ja.ZERO&&d<=ja.NINE||u===16&&(d|ja.To_LOWER_BIT)>=ja.LOWER_A&&(d|ja.To_LOWER_BIT)<=ja.LOWER_F);if(o!==s){var f=r.substring(o,s),p=parseInt(f,u);if(r.charCodeAt(s)===ja.SEMI)s+=1;else if(n)continue;i+=(0,ZG.default)(p),a=s}continue}for(var y=0,g=1,v=0,E=t[v];s<r.length&&(v=rQ(t,E,v+1,r.charCodeAt(s)),!(v<0));s++,g++){E=t[v];var D=E&f_.VALUE_LENGTH;if(D){(!n||r.charCodeAt(s)===ja.SEMI)&&(y=v,g=0);var O=(D>>14)-1;if(O===0)break;v+=O}}if(y!==0){var O=(t[y]&f_.VALUE_LENGTH)>>14;i+=O===1?String.fromCharCode(t[y]&~f_.VALUE_LENGTH):O===2?String.fromCharCode(t[y+1]):String.fromCharCode(t[y+1],t[y+2]),a=s-g+1}}return i+r.slice(a)}}function rQ(t,e,r,n){var i=(e&f_.BRANCH_LENGTH)>>7,a=e&f_.JUMP_TABLE;if(i===0)return a!==0&&n===a?r:-1;if(a){var s=n-a;return s<0||s>=i?-1:t[r+s]-1}for(var o=r,u=o+i-1;o<=u;){var d=o+u>>>1,f=t[d];if(f<n)o=d+1;else if(f>n)u=d-1;else return t[d+i]}return-1}Mr.determineBranch=rQ;var nQ=tQ(JG.default),ove=tQ(YG.default);function uve(t){return nQ(t,!1)}Mr.decodeHTML=uve;function cve(t){return nQ(t,!0)}Mr.decodeHTMLStrict=cve;function lve(t){return ove(t,!0)}Mr.decodeXML=lve});var Z4=_(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});p_.QuoteType=void 0;var Ef=Nb(),Qe;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Num=35]="Num",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(Qe||(Qe={}));var Ee;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.SpecialStartSequence=23]="SpecialStartSequence",t[t.InSpecialTag=24]="InSpecialTag",t[t.BeforeEntity=25]="BeforeEntity",t[t.BeforeNumericEntity=26]="BeforeNumericEntity",t[t.InNamedEntity=27]="InNamedEntity",t[t.InNumericEntity=28]="InNumericEntity",t[t.InHexEntity=29]="InHexEntity"})(Ee||(Ee={}));function Mu(t){return t===Qe.Space||t===Qe.NewLine||t===Qe.Tab||t===Qe.FormFeed||t===Qe.CarriageReturn}function qw(t){return t===Qe.Slash||t===Qe.Gt||Mu(t)}function iQ(t){return t>=Qe.Zero&&t<=Qe.Nine}function dve(t){return t>=Qe.LowerA&&t<=Qe.LowerZ||t>=Qe.UpperA&&t<=Qe.UpperZ}function fve(t){return t>=Qe.UpperA&&t<=Qe.UpperF||t>=Qe.LowerA&&t<=Qe.LowerF}var h_;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(h_=p_.QuoteType||(p_.QuoteType={}));var ha={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},hve=function(){function t(e,r){var n=e.xmlMode,i=n===void 0?!1:n,a=e.decodeEntities,s=a===void 0?!0:a;this.cbs=r,this.state=Ee.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Ee.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=i,this.decodeEntities=s,this.entityTrie=i?Ef.xmlDecodeTree:Ef.htmlDecodeTree}return t.prototype.reset=function(){this.state=Ee.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Ee.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},t.prototype.write=function(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()},t.prototype.end=function(){this.running&&this.finish()},t.prototype.pause=function(){this.running=!1},t.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},t.prototype.getIndex=function(){return this.index},t.prototype.getSectionStart=function(){return this.sectionStart},t.prototype.stateText=function(e){e===Qe.Lt||!this.decodeEntities&&this.fastForwardTo(Qe.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Ee.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===Qe.Amp&&(this.state=Ee.BeforeEntity)},t.prototype.stateSpecialStartSequence=function(e){var r=this.sequenceIndex===this.currentSequence.length,n=r?qw(e):(e|32)===this.currentSequence[this.sequenceIndex];if(!n)this.isSpecial=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Ee.InTagName,this.stateInTagName(e)},t.prototype.stateInSpecialTag=function(e){if(this.sequenceIndex===this.currentSequence.length){if(e===Qe.Gt||Mu(e)){var r=this.index-this.currentSequence.length;if(this.sectionStart<r){var n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.isSpecial=!1,this.sectionStart=r+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ha.TitleEnd?this.decodeEntities&&e===Qe.Amp&&(this.state=Ee.BeforeEntity):this.fastForwardTo(Qe.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===Qe.Lt)},t.prototype.stateCDATASequence=function(e){e===ha.Cdata[this.sequenceIndex]?++this.sequenceIndex===ha.Cdata.length&&(this.state=Ee.InCommentLike,this.currentSequence=ha.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Ee.InDeclaration,this.stateInDeclaration(e))},t.prototype.fastForwardTo=function(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1},t.prototype.stateInCommentLike=function(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ha.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Ee.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},t.prototype.isTagStartChar=function(e){return this.xmlMode?!qw(e):dve(e)},t.prototype.startSpecial=function(e,r){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=r,this.state=Ee.SpecialStartSequence},t.prototype.stateBeforeTagName=function(e){if(e===Qe.ExclamationMark)this.state=Ee.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===Qe.Questionmark)this.state=Ee.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){var r=e|32;this.sectionStart=this.index,!this.xmlMode&&r===ha.TitleEnd[2]?this.startSpecial(ha.TitleEnd,3):this.state=!this.xmlMode&&r===ha.ScriptEnd[2]?Ee.BeforeSpecialS:Ee.InTagName}else e===Qe.Slash?this.state=Ee.BeforeClosingTagName:(this.state=Ee.Text,this.stateText(e))},t.prototype.stateInTagName=function(e){qw(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ee.BeforeAttributeName,this.stateBeforeAttributeName(e))},t.prototype.stateBeforeClosingTagName=function(e){Mu(e)||(e===Qe.Gt?this.state=Ee.Text:(this.state=this.isTagStartChar(e)?Ee.InClosingTagName:Ee.InSpecialComment,this.sectionStart=this.index))},t.prototype.stateInClosingTagName=function(e){(e===Qe.Gt||Mu(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ee.AfterClosingTagName,this.stateAfterClosingTagName(e))},t.prototype.stateAfterClosingTagName=function(e){(e===Qe.Gt||this.fastForwardTo(Qe.Gt))&&(this.state=Ee.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeAttributeName=function(e){e===Qe.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Ee.InSpecialTag,this.sequenceIndex=0):this.state=Ee.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===Qe.Slash?this.state=Ee.InSelfClosingTag:Mu(e)||(this.state=Ee.InAttributeName,this.sectionStart=this.index)},t.prototype.stateInSelfClosingTag=function(e){e===Qe.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Ee.Text,this.baseState=Ee.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Mu(e)||(this.state=Ee.BeforeAttributeName,this.stateBeforeAttributeName(e))},t.prototype.stateInAttributeName=function(e){(e===Qe.Eq||qw(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Ee.AfterAttributeName,this.stateAfterAttributeName(e))},t.prototype.stateAfterAttributeName=function(e){e===Qe.Eq?this.state=Ee.BeforeAttributeValue:e===Qe.Slash||e===Qe.Gt?(this.cbs.onattribend(h_.NoValue,this.index),this.state=Ee.BeforeAttributeName,this.stateBeforeAttributeName(e)):Mu(e)||(this.cbs.onattribend(h_.NoValue,this.index),this.state=Ee.InAttributeName,this.sectionStart=this.index)},t.prototype.stateBeforeAttributeValue=function(e){e===Qe.DoubleQuote?(this.state=Ee.InAttributeValueDq,this.sectionStart=this.index+1):e===Qe.SingleQuote?(this.state=Ee.InAttributeValueSq,this.sectionStart=this.index+1):Mu(e)||(this.sectionStart=this.index,this.state=Ee.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))},t.prototype.handleInAttributeValue=function(e,r){e===r||!this.decodeEntities&&this.fastForwardTo(r)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===Qe.DoubleQuote?h_.Double:h_.Single,this.index),this.state=Ee.BeforeAttributeName):this.decodeEntities&&e===Qe.Amp&&(this.baseState=this.state,this.state=Ee.BeforeEntity)},t.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,Qe.DoubleQuote)},t.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,Qe.SingleQuote)},t.prototype.stateInAttributeValueNoQuotes=function(e){Mu(e)||e===Qe.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(h_.Unquoted,this.index),this.state=Ee.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===Qe.Amp&&(this.baseState=this.state,this.state=Ee.BeforeEntity)},t.prototype.stateBeforeDeclaration=function(e){e===Qe.OpeningSquareBracket?(this.state=Ee.CDATASequence,this.sequenceIndex=0):this.state=e===Qe.Dash?Ee.BeforeComment:Ee.InDeclaration},t.prototype.stateInDeclaration=function(e){(e===Qe.Gt||this.fastForwardTo(Qe.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Ee.Text,this.sectionStart=this.index+1)},t.prototype.stateInProcessingInstruction=function(e){(e===Qe.Gt||this.fastForwardTo(Qe.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Ee.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeComment=function(e){e===Qe.Dash?(this.state=Ee.InCommentLike,this.currentSequence=ha.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Ee.InDeclaration},t.prototype.stateInSpecialComment=function(e){(e===Qe.Gt||this.fastForwardTo(Qe.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Ee.Text,this.sectionStart=this.index+1)},t.prototype.stateBeforeSpecialS=function(e){var r=e|32;r===ha.ScriptEnd[3]?this.startSpecial(ha.ScriptEnd,4):r===ha.StyleEnd[3]?this.startSpecial(ha.StyleEnd,4):(this.state=Ee.InTagName,this.stateInTagName(e))},t.prototype.stateBeforeEntity=function(e){this.entityExcess=1,this.entityResult=0,e===Qe.Num?this.state=Ee.BeforeNumericEntity:e===Qe.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=Ee.InNamedEntity,this.stateInNamedEntity(e))},t.prototype.stateInNamedEntity=function(e){if(this.entityExcess+=1,this.trieIndex=(0,Ef.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var r=this.trieCurrent&Ef.BinTrieFlags.VALUE_LENGTH;if(r){var n=(r>>14)-1;if(!this.allowLegacyEntity()&&e!==Qe.Semi)this.trieIndex+=n;else{var i=this.index-this.entityExcess+1;i>this.sectionStart&&this.emitPartial(this.sectionStart,i),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,n===0&&this.emitNamedEntity()}}},t.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var e=(this.entityTrie[this.entityResult]&Ef.BinTrieFlags.VALUE_LENGTH)>>14;switch(e){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~Ef.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},t.prototype.stateBeforeNumericEntity=function(e){(e|32)===Qe.LowerX?(this.entityExcess++,this.state=Ee.InHexEntity):(this.state=Ee.InNumericEntity,this.stateInNumericEntity(e))},t.prototype.emitNumericEntity=function(e){var r=this.index-this.entityExcess-1,n=r+2+Number(this.state===Ee.InHexEntity);n!==this.index&&(r>this.sectionStart&&this.emitPartial(this.sectionStart,r),this.sectionStart=this.index+Number(e),this.emitCodePoint((0,Ef.replaceCodePoint)(this.entityResult))),this.state=this.baseState},t.prototype.stateInNumericEntity=function(e){e===Qe.Semi?this.emitNumericEntity(!0):iQ(e)?(this.entityResult=this.entityResult*10+(e-Qe.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},t.prototype.stateInHexEntity=function(e){e===Qe.Semi?this.emitNumericEntity(!0):iQ(e)?(this.entityResult=this.entityResult*16+(e-Qe.Zero),this.entityExcess++):fve(e)?(this.entityResult=this.entityResult*16+((e|32)-Qe.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},t.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===Ee.Text||this.baseState===Ee.InSpecialTag)},t.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===Ee.Text||this.state===Ee.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Ee.InAttributeValueDq||this.state===Ee.InAttributeValueSq||this.state===Ee.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},t.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},t.prototype.parse=function(){for(;this.shouldContinue();){var e=this.buffer.charCodeAt(this.index-this.offset);this.state===Ee.Text?this.stateText(e):this.state===Ee.SpecialStartSequence?this.stateSpecialStartSequence(e):this.state===Ee.InSpecialTag?this.stateInSpecialTag(e):this.state===Ee.CDATASequence?this.stateCDATASequence(e):this.state===Ee.InAttributeValueDq?this.stateInAttributeValueDoubleQuotes(e):this.state===Ee.InAttributeName?this.stateInAttributeName(e):this.state===Ee.InCommentLike?this.stateInCommentLike(e):this.state===Ee.InSpecialComment?this.stateInSpecialComment(e):this.state===Ee.BeforeAttributeName?this.stateBeforeAttributeName(e):this.state===Ee.InTagName?this.stateInTagName(e):this.state===Ee.InClosingTagName?this.stateInClosingTagName(e):this.state===Ee.BeforeTagName?this.stateBeforeTagName(e):this.state===Ee.AfterAttributeName?this.stateAfterAttributeName(e):this.state===Ee.InAttributeValueSq?this.stateInAttributeValueSingleQuotes(e):this.state===Ee.BeforeAttributeValue?this.stateBeforeAttributeValue(e):this.state===Ee.BeforeClosingTagName?this.stateBeforeClosingTagName(e):this.state===Ee.AfterClosingTagName?this.stateAfterClosingTagName(e):this.state===Ee.BeforeSpecialS?this.stateBeforeSpecialS(e):this.state===Ee.InAttributeValueNq?this.stateInAttributeValueNoQuotes(e):this.state===Ee.InSelfClosingTag?this.stateInSelfClosingTag(e):this.state===Ee.InDeclaration?this.stateInDeclaration(e):this.state===Ee.BeforeDeclaration?this.stateBeforeDeclaration(e):this.state===Ee.BeforeComment?this.stateBeforeComment(e):this.state===Ee.InProcessingInstruction?this.stateInProcessingInstruction(e):this.state===Ee.InNamedEntity?this.stateInNamedEntity(e):this.state===Ee.BeforeEntity?this.stateBeforeEntity(e):this.state===Ee.InHexEntity?this.stateInHexEntity(e):this.state===Ee.InNumericEntity?this.stateInNumericEntity(e):this.stateBeforeNumericEntity(e),this.index++}this.cleanup()},t.prototype.finish=function(){this.state===Ee.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},t.prototype.handleTrailingData=function(){var e=this.buffer.length+this.offset;this.state===Ee.InCommentLike?this.currentSequence===ha.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===Ee.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===Ee.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===Ee.InTagName||this.state===Ee.BeforeAttributeName||this.state===Ee.BeforeAttributeValue||this.state===Ee.AfterAttributeName||this.state===Ee.InAttributeName||this.state===Ee.InAttributeValueSq||this.state===Ee.InAttributeValueDq||this.state===Ee.InAttributeValueNq||this.state===Ee.InClosingTagName||this.cbs.ontext(this.sectionStart,e)},t.prototype.emitPartial=function(e,r){this.baseState!==Ee.Text&&this.baseState!==Ee.InSpecialTag?this.cbs.onattribdata(e,r):this.cbs.ontext(e,r)},t.prototype.emitCodePoint=function(e){this.baseState!==Ee.Text&&this.baseState!==Ee.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)},t}();p_.default=hve});var dQ=_(Uo=>{"use strict";var pve=Uo&&Uo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_ve=Uo&&Uo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yve=Uo&&Uo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pve(e,t,r);return _ve(e,t),e};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.Parser=void 0;var Lw=yve(Z4()),aQ=Nb(),__=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Tr=new Set(["p"]),sQ=new Set(["thead","tbody"]),oQ=new Set(["dd","dt"]),uQ=new Set(["rt","rp"]),bve=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Tr],["h1",Tr],["h2",Tr],["h3",Tr],["h4",Tr],["h5",Tr],["h6",Tr],["select",__],["input",__],["output",__],["button",__],["datalist",__],["textarea",__],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",oQ],["dt",oQ],["address",Tr],["article",Tr],["aside",Tr],["blockquote",Tr],["details",Tr],["div",Tr],["dl",Tr],["fieldset",Tr],["figcaption",Tr],["figure",Tr],["footer",Tr],["form",Tr],["header",Tr],["hr",Tr],["main",Tr],["nav",Tr],["ol",Tr],["pre",Tr],["section",Tr],["table",Tr],["ul",Tr],["rt",uQ],["rp",uQ],["tbody",sQ],["tfoot",sQ]]),gve=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),cQ=new Set(["math","svg"]),lQ=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),mve=/\s|\//,vve=function(){function t(e,r){r===void 0&&(r={});var n,i,a,s,o;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(i=r.lowerCaseAttributeNames)!==null&&i!==void 0?i:!r.xmlMode,this.tokenizer=new((a=r.Tokenizer)!==null&&a!==void 0?a:Lw.default)(this.options,this),(o=(s=this.cbs).onparserinit)===null||o===void 0||o.call(s,this)}return t.prototype.ontext=function(e,r){var n,i,a=this.getSlice(e,r);this.endIndex=r-1,(i=(n=this.cbs).ontext)===null||i===void 0||i.call(n,a),this.startIndex=r},t.prototype.ontextentity=function(e){var r,n,i=this.tokenizer.getSectionStart();this.endIndex=i-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,(0,aQ.fromCodePoint)(e)),this.startIndex=i},t.prototype.isVoidElement=function(e){return!this.options.xmlMode&&gve.has(e)},t.prototype.onopentagname=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},t.prototype.emitOpenTag=function(e){var r,n,i,a;this.openTagStart=this.startIndex,this.tagname=e;var s=!this.options.xmlMode&&bve.get(e);if(s)for(;this.stack.length>0&&s.has(this.stack[this.stack.length-1]);){var o=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,o,!0)}this.isVoidElement(e)||(this.stack.push(e),cQ.has(e)?this.foreignContext.push(!0):lQ.has(e)&&this.foreignContext.push(!1)),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,r){var n,i,a,s,o,u;this.endIndex=r;var d=this.getSlice(e,r);if(this.lowerCaseTagNames&&(d=d.toLowerCase()),(cQ.has(d)||lQ.has(d))&&this.foreignContext.pop(),this.isVoidElement(d))!this.options.xmlMode&&d==="br"&&((i=(n=this.cbs).onopentagname)===null||i===void 0||i.call(n,"br"),(s=(a=this.cbs).onopentag)===null||s===void 0||s.call(a,"br",{},!0),(u=(o=this.cbs).onclosetag)===null||u===void 0||u.call(o,"br",!1));else{var f=this.stack.lastIndexOf(d);if(f!==-1)if(this.cbs.onclosetag)for(var p=this.stack.length-f;p--;)this.cbs.onclosetag(this.stack.pop(),p!==0);else this.stack.length=f;else!this.options.xmlMode&&d==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var r,n,i=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===i&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,i,!e),this.stack.pop())},t.prototype.onattribname=function(e,r){this.startIndex=e;var n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},t.prototype.onattribdata=function(e,r){this.attribvalue+=this.getSlice(e,r)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,aQ.fromCodePoint)(e)},t.prototype.onattribend=function(e,r){var n,i;this.endIndex=r,(i=(n=this.cbs).onattribute)===null||i===void 0||i.call(n,this.attribname,this.attribvalue,e===Lw.QuoteType.Double?'"':e===Lw.QuoteType.Single?"'":e===Lw.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var r=e.search(mve),n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(i),"!".concat(n))}this.startIndex=r+1},t.prototype.onprocessinginstruction=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var i=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(i),"?".concat(n))}this.startIndex=r+1},t.prototype.oncomment=function(e,r,n){var i,a,s,o;this.endIndex=r,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(e,r-n)),(o=(s=this.cbs).oncommentend)===null||o===void 0||o.call(s),this.startIndex=r+1},t.prototype.oncdata=function(e,r,n){var i,a,s,o,u,d,f,p,y,g;this.endIndex=r;var v=this.getSlice(e,r-n);this.options.xmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(o=(s=this.cbs).ontext)===null||o===void 0||o.call(s,v),(d=(u=this.cbs).oncdataend)===null||d===void 0||d.call(u)):((p=(f=this.cbs).oncomment)===null||p===void 0||p.call(f,"[CDATA[".concat(v,"]]")),(g=(y=this.cbs).oncommentend)===null||g===void 0||g.call(y)),this.startIndex=r+1},t.prototype.onend=function(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)},t.prototype.reset=function(){var e,r,n,i;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(n=this.cbs).onparserinit)===null||i===void 0||i.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();Uo.Parser=vve});var y_=_(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.Doctype=Fr.CDATA=Fr.Tag=Fr.Style=Fr.Script=Fr.Comment=Fr.Directive=Fr.Text=Fr.Root=Fr.isTag=Fr.ElementType=void 0;var qa;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(qa=Fr.ElementType||(Fr.ElementType={}));function wve(t){return t.type===qa.Tag||t.type===qa.Script||t.type===qa.Style}Fr.isTag=wve;Fr.Root=qa.Root;Fr.Text=qa.Text;Fr.Directive=qa.Directive;Fr.Comment=qa.Comment;Fr.Script=qa.Script;Fr.Style=qa.Style;Fr.Tag=qa.Tag;Fr.CDATA=qa.CDATA;Fr.Doctype=qa.Doctype});var nN=_(Rt=>{"use strict";var Yc=Rt&&Rt.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Db=Rt&&Rt.__assign||function(){return Db=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Db.apply(this,arguments)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.cloneNode=Rt.hasChildren=Rt.isDocument=Rt.isDirective=Rt.isComment=Rt.isText=Rt.isCDATA=Rt.isTag=Rt.Element=Rt.Document=Rt.CDATA=Rt.NodeWithChildren=Rt.ProcessingInstruction=Rt.Comment=Rt.Text=Rt.DataNode=Rt.Node=void 0;var pa=y_(),tN=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),rN(this,e)},t}();Rt.Node=tN;var Mw=function(t){Yc(e,t);function e(r){var n=t.call(this)||this;return n.data=r,n}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),e}(tN);Rt.DataNode=Mw;var fQ=function(t){Yc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=pa.ElementType.Text,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(Mw);Rt.Text=fQ;var hQ=function(t){Yc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=pa.ElementType.Comment,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(Mw);Rt.Comment=hQ;var pQ=function(t){Yc(e,t);function e(r,n){var i=t.call(this,n)||this;return i.name=r,i.type=pa.ElementType.Directive,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(Mw);Rt.ProcessingInstruction=pQ;var Fw=function(t){Yc(e,t);function e(r){var n=t.call(this)||this;return n.children=r,n}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),e}(tN);Rt.NodeWithChildren=Fw;var _Q=function(t){Yc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=pa.ElementType.CDATA,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(Fw);Rt.CDATA=_Q;var yQ=function(t){Yc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=pa.ElementType.Root,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(Fw);Rt.Document=yQ;var bQ=function(t){Yc(e,t);function e(r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=r==="script"?pa.ElementType.Script:r==="style"?pa.ElementType.Style:pa.ElementType.Tag);var s=t.call(this,i)||this;return s.name=r,s.attribs=n,s.type=a,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var i,a;return{name:n,value:r.attribs[n],namespace:(i=r["x-attribsNamespace"])===null||i===void 0?void 0:i[n],prefix:(a=r["x-attribsPrefix"])===null||a===void 0?void 0:a[n]}})},enumerable:!1,configurable:!0}),e}(Fw);Rt.Element=bQ;function gQ(t){return(0,pa.isTag)(t)}Rt.isTag=gQ;function mQ(t){return t.type===pa.ElementType.CDATA}Rt.isCDATA=mQ;function vQ(t){return t.type===pa.ElementType.Text}Rt.isText=vQ;function wQ(t){return t.type===pa.ElementType.Comment}Rt.isComment=wQ;function SQ(t){return t.type===pa.ElementType.Directive}Rt.isDirective=SQ;function TQ(t){return t.type===pa.ElementType.Root}Rt.isDocument=TQ;function Sve(t){return Object.prototype.hasOwnProperty.call(t,"children")}Rt.hasChildren=Sve;function rN(t,e){e===void 0&&(e=!1);var r;if(vQ(t))r=new fQ(t.data);else if(wQ(t))r=new hQ(t.data);else if(gQ(t)){var n=e?eN(t.children):[],i=new bQ(t.name,Db({},t.attribs),n);n.forEach(function(u){return u.parent=i}),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Db({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Db({},t["x-attribsPrefix"])),r=i}else if(mQ(t)){var n=e?eN(t.children):[],a=new _Q(n);n.forEach(function(d){return d.parent=a}),r=a}else if(TQ(t)){var n=e?eN(t.children):[],s=new yQ(n);n.forEach(function(d){return d.parent=s}),t["x-mode"]&&(s["x-mode"]=t["x-mode"]),r=s}else if(SQ(t)){var o=new pQ(t.name,t.data);t["x-name"]!=null&&(o["x-name"]=t["x-name"],o["x-publicId"]=t["x-publicId"],o["x-systemId"]=t["x-systemId"]),r=o}else throw new Error("Not implemented yet: ".concat(t.type));return r.startIndex=t.startIndex,r.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(r.sourceCodeLocation=t.sourceCodeLocation),r}Rt.cloneNode=rN;function eN(t){for(var e=t.map(function(n){return rN(n,!0)}),r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}});var el=_(Vo=>{"use strict";var Tve=Vo&&Vo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Eve=Vo&&Vo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Tve(e,t,r)};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.DomHandler=void 0;var iN=y_(),Zc=nN();Eve(nN(),Vo);var EQ={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},OQ=function(){function t(e,r,n){this.dom=[],this.root=new Zc.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof r=="function"&&(n=r,r=EQ),typeof e=="object"&&(r=e,e=void 0),this.callback=e??null,this.options=r??EQ,this.elementCB=n??null}return t.prototype.onparserinit=function(e){this.parser=e},t.prototype.onreset=function(){this.dom=[],this.root=new Zc.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},t.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},t.prototype.onerror=function(e){this.handleCallback(e)},t.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},t.prototype.onopentag=function(e,r){var n=this.options.xmlMode?iN.ElementType.Tag:void 0,i=new Zc.Element(e,r,void 0,n);this.addNode(i),this.tagStack.push(i)},t.prototype.ontext=function(e){var r=this.lastNode;if(r&&r.type===iN.ElementType.Text)r.data+=e,this.options.withEndIndices&&(r.endIndex=this.parser.endIndex);else{var n=new Zc.Text(e);this.addNode(n),this.lastNode=n}},t.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===iN.ElementType.Comment){this.lastNode.data+=e;return}var r=new Zc.Comment(e);this.addNode(r),this.lastNode=r},t.prototype.oncommentend=function(){this.lastNode=null},t.prototype.oncdatastart=function(){var e=new Zc.Text(""),r=new Zc.CDATA([e]);this.addNode(r),e.parent=r,this.lastNode=e},t.prototype.oncdataend=function(){this.lastNode=null},t.prototype.onprocessinginstruction=function(e,r){var n=new Zc.ProcessingInstruction(e,r);this.addNode(n)},t.prototype.handleCallback=function(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e},t.prototype.addNode=function(e){var r=this.tagStack[this.tagStack.length-1],n=r.children[r.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),r.children.push(e),n&&(e.prev=n,n.next=e),e.parent=r,this.lastNode=null},t}();Vo.DomHandler=OQ;Vo.default=OQ});var RQ=_(aN=>{"use strict";Object.defineProperty(aN,"__esModule",{value:!0});function Bw(t){for(var e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}aN.default=new Map(Bw([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(Bw([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(Bw([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(Bw([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]))});var Uw=_(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.escapeText=In.escapeAttribute=In.escapeUTF8=In.escape=In.encodeXML=In.getCodePoint=In.xmlReplacer=void 0;In.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var AQ=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);In.getCodePoint=String.prototype.codePointAt!=null?function(t,e){return t.codePointAt(e)}:function(t,e){return(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e)};function xQ(t){for(var e="",r=0,n;(n=In.xmlReplacer.exec(t))!==null;){var i=n.index,a=t.charCodeAt(i),s=AQ.get(a);s!==void 0?(e+=t.substring(r,i)+s,r=i+1):(e+="".concat(t.substring(r,i),"&#x").concat((0,In.getCodePoint)(t,i).toString(16),";"),r=In.xmlReplacer.lastIndex+=Number((a&64512)===55296))}return e+t.substr(r)}In.encodeXML=xQ;In.escape=xQ;function sN(t,e){return function(n){for(var i,a=0,s="";i=t.exec(n);)a!==i.index&&(s+=n.substring(a,i.index)),s+=e.get(i[0].charCodeAt(0)),a=i.index+1;return s+n.substring(a)}}In.escapeUTF8=sN(/[&<>'"]/g,AQ);In.escapeAttribute=sN(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]]));In.escapeText=sN(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))});var oN=_(tl=>{"use strict";var Ove=tl&&tl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tl,"__esModule",{value:!0});tl.encodeNonAsciiHTML=tl.encodeHTML=void 0;var Rve=Ove(RQ()),IQ=Uw(),Ave=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function xve(t){return PQ(Ave,t)}tl.encodeHTML=xve;function Ive(t){return PQ(IQ.xmlReplacer,t)}tl.encodeNonAsciiHTML=Ive;function PQ(t,e){for(var r="",n=0,i;(i=t.exec(e))!==null;){var a=i.index;r+=e.substring(n,a);var s=e.charCodeAt(a),o=Rve.default.get(s);if(typeof o=="object"){if(a+1<e.length){var u=e.charCodeAt(a+1),d=typeof o.n=="number"?o.n===u?o.o:void 0:o.n.get(u);if(d!==void 0){r+=d,n=t.lastIndex+=1;continue}}o=o.v}if(o!==void 0)r+=o,n=a+1;else{var f=(0,IQ.getCodePoint)(e,a);r+="&#x".concat(f.toString(16),";"),n=t.lastIndex+=Number(f!==s)}}return r+e.substr(n)}});var DQ=_(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.decodeXMLStrict=st.decodeHTML5Strict=st.decodeHTML4Strict=st.decodeHTML5=st.decodeHTML4=st.decodeHTMLStrict=st.decodeHTML=st.decodeXML=st.encodeHTML5=st.encodeHTML4=st.encodeNonAsciiHTML=st.encodeHTML=st.escapeText=st.escapeAttribute=st.escapeUTF8=st.escape=st.encodeXML=st.encode=st.decodeStrict=st.decode=st.EncodingMode=st.DecodingMode=st.EntityLevel=void 0;var b_=Nb(),NQ=oN(),Vw=Uw(),Of;(function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"})(Of=st.EntityLevel||(st.EntityLevel={}));var uN;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict"})(uN=st.DecodingMode||(st.DecodingMode={}));var Cb;(function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"})(Cb=st.EncodingMode||(st.EncodingMode={}));function Pve(t,e){e===void 0&&(e=Of.XML);var r=typeof e=="number"?{level:e}:e;return r.level===Of.HTML?r.mode===uN.Strict?(0,b_.decodeHTMLStrict)(t):(0,b_.decodeHTML)(t):(0,b_.decodeXML)(t)}st.decode=Pve;function Nve(t,e){e===void 0&&(e=Of.XML);var r=typeof e=="number"?{level:e}:e;return r.level===Of.HTML?r.mode===uN.Legacy?(0,b_.decodeHTML)(t):(0,b_.decodeHTMLStrict)(t):(0,b_.decodeXML)(t)}st.decodeStrict=Nve;function Dve(t,e){e===void 0&&(e=Of.XML);var r=typeof e=="number"?{level:e}:e;return r.mode===Cb.UTF8?(0,Vw.escapeUTF8)(t):r.mode===Cb.Attribute?(0,Vw.escapeAttribute)(t):r.mode===Cb.Text?(0,Vw.escapeText)(t):r.level===Of.HTML?r.mode===Cb.ASCII?(0,NQ.encodeNonAsciiHTML)(t):(0,NQ.encodeHTML)(t):(0,Vw.encodeXML)(t)}st.encode=Dve;var jb=Uw();Object.defineProperty(st,"encodeXML",{enumerable:!0,get:function(){return jb.encodeXML}});Object.defineProperty(st,"escape",{enumerable:!0,get:function(){return jb.escape}});Object.defineProperty(st,"escapeUTF8",{enumerable:!0,get:function(){return jb.escapeUTF8}});Object.defineProperty(st,"escapeAttribute",{enumerable:!0,get:function(){return jb.escapeAttribute}});Object.defineProperty(st,"escapeText",{enumerable:!0,get:function(){return jb.escapeText}});var kw=oN();Object.defineProperty(st,"encodeHTML",{enumerable:!0,get:function(){return kw.encodeHTML}});Object.defineProperty(st,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return kw.encodeNonAsciiHTML}});Object.defineProperty(st,"encodeHTML4",{enumerable:!0,get:function(){return kw.encodeHTML}});Object.defineProperty(st,"encodeHTML5",{enumerable:!0,get:function(){return kw.encodeHTML}});var rl=Nb();Object.defineProperty(st,"decodeXML",{enumerable:!0,get:function(){return rl.decodeXML}});Object.defineProperty(st,"decodeHTML",{enumerable:!0,get:function(){return rl.decodeHTML}});Object.defineProperty(st,"decodeHTMLStrict",{enumerable:!0,get:function(){return rl.decodeHTMLStrict}});Object.defineProperty(st,"decodeHTML4",{enumerable:!0,get:function(){return rl.decodeHTML}});Object.defineProperty(st,"decodeHTML5",{enumerable:!0,get:function(){return rl.decodeHTML}});Object.defineProperty(st,"decodeHTML4Strict",{enumerable:!0,get:function(){return rl.decodeHTMLStrict}});Object.defineProperty(st,"decodeHTML5Strict",{enumerable:!0,get:function(){return rl.decodeHTMLStrict}});Object.defineProperty(st,"decodeXMLStrict",{enumerable:!0,get:function(){return rl.decodeXML}})});var CQ=_(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.attributeNames=g_.elementNames=void 0;g_.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]}));g_.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}))});var LQ=_(La=>{"use strict";var m_=La&&La.__assign||function(){return m_=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},m_.apply(this,arguments)},Cve=La&&La.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jve=La&&La.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qve=La&&La.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cve(e,t,r);return jve(e,t),e};Object.defineProperty(La,"__esModule",{value:!0});La.render=void 0;var Fu=qve(y_()),Hw=DQ(),qQ=CQ(),Lve=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Mve(t){return t.replace(/"/g,"&quot;")}function Fve(t,e){var r;if(!!t){var n=((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)===!1?Mve:e.xmlMode||e.encodeEntities!=="utf8"?Hw.encodeXML:Hw.escapeAttribute;return Object.keys(t).map(function(i){var a,s,o=(a=t[i])!==null&&a!==void 0?a:"";return e.xmlMode==="foreign"&&(i=(s=qQ.attributeNames.get(i))!==null&&s!==void 0?s:i),!e.emptyAttrs&&!e.xmlMode&&o===""?i:"".concat(i,'="').concat(n(o),'"')}).join(" ")}}var jQ=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function Gw(t,e){e===void 0&&(e={});for(var r=("length"in t)?t:[t],n="",i=0;i<r.length;i++)n+=Bve(r[i],e);return n}La.render=Gw;La.default=Gw;function Bve(t,e){switch(t.type){case Fu.Root:return Gw(t.children,e);case Fu.Doctype:case Fu.Directive:return Hve(t);case Fu.Comment:return zve(t);case Fu.CDATA:return Qve(t);case Fu.Script:case Fu.Style:case Fu.Tag:return kve(t,e);case Fu.Text:return Gve(t,e)}}var Uve=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Vve=new Set(["svg","math"]);function kve(t,e){var r;e.xmlMode==="foreign"&&(t.name=(r=qQ.elementNames.get(t.name))!==null&&r!==void 0?r:t.name,t.parent&&Uve.has(t.parent.name)&&(e=m_(m_({},e),{xmlMode:!1}))),!e.xmlMode&&Vve.has(t.name)&&(e=m_(m_({},e),{xmlMode:"foreign"}));var n="<".concat(t.name),i=Fve(t.attribs,e);return i&&(n+=" ".concat(i)),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&jQ.has(t.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",t.children.length>0&&(n+=Gw(t.children,e)),(e.xmlMode||!jQ.has(t.name))&&(n+="</".concat(t.name,">"))),n}function Hve(t){return"<".concat(t.data,">")}function Gve(t,e){var r,n=t.data||"";return((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&Lve.has(t.parent.name))&&(n=e.xmlMode||e.encodeEntities!=="utf8"?(0,Hw.encodeXML)(n):(0,Hw.escapeText)(n)),n}function Qve(t){return"<![CDATA[".concat(t.children[0].data,"]]>")}function zve(t){return"<!--".concat(t.data,"-->")}});var dN=_(_a=>{"use strict";var Wve=_a&&_a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_a,"__esModule",{value:!0});_a.innerText=_a.textContent=_a.getText=_a.getInnerHTML=_a.getOuterHTML=void 0;var ko=el(),Kve=Wve(LQ()),Xve=y_();function MQ(t,e){return(0,Kve.default)(t,e)}_a.getOuterHTML=MQ;function $ve(t,e){return(0,ko.hasChildren)(t)?t.children.map(function(r){return MQ(r,e)}).join(""):""}_a.getInnerHTML=$ve;function Qw(t){return Array.isArray(t)?t.map(Qw).join(""):(0,ko.isTag)(t)?t.name==="br"?`
`:Qw(t.children):(0,ko.isCDATA)(t)?Qw(t.children):(0,ko.isText)(t)?t.data:""}_a.getText=Qw;function cN(t){return Array.isArray(t)?t.map(cN).join(""):(0,ko.hasChildren)(t)&&!(0,ko.isComment)(t)?cN(t.children):(0,ko.isText)(t)?t.data:""}_a.textContent=cN;function lN(t){return Array.isArray(t)?t.map(lN).join(""):(0,ko.hasChildren)(t)&&(t.type===Xve.ElementType.Tag||(0,ko.isCDATA)(t))?lN(t.children):(0,ko.isText)(t)?t.data:""}_a.innerText=lN});var UQ=_(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.prevElementSibling=qn.nextElementSibling=qn.getName=qn.hasAttrib=qn.getAttributeValue=qn.getSiblings=qn.getParent=qn.getChildren=void 0;var fN=el();function FQ(t){return(0,fN.hasChildren)(t)?t.children:[]}qn.getChildren=FQ;function BQ(t){return t.parent||null}qn.getParent=BQ;function Jve(t){var e,r,n=BQ(t);if(n!=null)return FQ(n);for(var i=[t],a=t.prev,s=t.next;a!=null;)i.unshift(a),e=a,a=e.prev;for(;s!=null;)i.push(s),r=s,s=r.next;return i}qn.getSiblings=Jve;function Yve(t,e){var r;return(r=t.attribs)===null||r===void 0?void 0:r[e]}qn.getAttributeValue=Yve;function Zve(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}qn.hasAttrib=Zve;function e2e(t){return t.name}qn.getName=e2e;function t2e(t){for(var e,r=t.next;r!==null&&!(0,fN.isTag)(r);)e=r,r=e.next;return r}qn.nextElementSibling=t2e;function r2e(t){for(var e,r=t.prev;r!==null&&!(0,fN.isTag)(r);)e=r,r=e.prev;return r}qn.prevElementSibling=r2e});var VQ=_(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.prepend=ya.prependChild=ya.append=ya.appendChild=ya.replaceElement=ya.removeElement=void 0;function qb(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}}ya.removeElement=qb;function n2e(t,e){var r=e.prev=t.prev;r&&(r.next=e);var n=e.next=t.next;n&&(n.prev=e);var i=e.parent=t.parent;if(i){var a=i.children;a[a.lastIndexOf(t)]=e,t.parent=null}}ya.replaceElement=n2e;function i2e(t,e){if(qb(e),e.next=null,e.parent=t,t.children.push(e)>1){var r=t.children[t.children.length-2];r.next=e,e.prev=r}else e.prev=null}ya.appendChild=i2e;function a2e(t,e){qb(e);var r=t.parent,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=r,n){if(n.prev=e,r){var i=r.children;i.splice(i.lastIndexOf(n),0,e)}}else r&&r.children.push(e)}ya.append=a2e;function s2e(t,e){if(qb(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){var r=t.children[1];r.prev=e,e.next=r}else e.next=null}ya.prependChild=s2e;function o2e(t,e){qb(e);var r=t.parent;if(r){var n=r.children;n.splice(n.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}ya.prepend=o2e});var pN=_(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.findAll=ba.existsOne=ba.findOne=ba.findOneChild=ba.find=ba.filter=void 0;var Lb=el();function u2e(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),Array.isArray(e)||(e=[e]),hN(t,e,r,n)}ba.filter=u2e;function hN(t,e,r,n){for(var i=[],a=0,s=e;a<s.length;a++){var o=s[a];if(t(o)&&(i.push(o),--n<=0))break;if(r&&(0,Lb.hasChildren)(o)&&o.children.length>0){var u=hN(t,o.children,r,n);if(i.push.apply(i,u),n-=u.length,n<=0)break}}return i}ba.find=hN;function c2e(t,e){return e.find(t)}ba.findOneChild=c2e;function kQ(t,e,r){r===void 0&&(r=!0);for(var n=null,i=0;i<e.length&&!n;i++){var a=e[i];if((0,Lb.isTag)(a))t(a)?n=a:r&&a.children.length>0&&(n=kQ(t,a.children,!0));else continue}return n}ba.findOne=kQ;function HQ(t,e){return e.some(function(r){return(0,Lb.isTag)(r)&&(t(r)||r.children.length>0&&HQ(t,r.children))})}ba.existsOne=HQ;function l2e(t,e){for(var r,n=[],i=e.filter(Lb.isTag),a;a=i.shift();){var s=(r=a.children)===null||r===void 0?void 0:r.filter(Lb.isTag);s&&s.length>0&&i.unshift.apply(i,s),t(a)&&n.push(a)}return n}ba.findAll=l2e});var _N=_(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.getElementsByTagType=_s.getElementsByTagName=_s.getElementById=_s.getElements=_s.testElement=void 0;var Rf=el(),Ww=pN(),zw={tag_name:function(t){return typeof t=="function"?function(e){return(0,Rf.isTag)(e)&&t(e.name)}:t==="*"?Rf.isTag:function(e){return(0,Rf.isTag)(e)&&e.name===t}},tag_type:function(t){return typeof t=="function"?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return typeof t=="function"?function(e){return(0,Rf.isText)(e)&&t(e.data)}:function(e){return(0,Rf.isText)(e)&&e.data===t}}};function GQ(t,e){return typeof e=="function"?function(r){return(0,Rf.isTag)(r)&&e(r.attribs[t])}:function(r){return(0,Rf.isTag)(r)&&r.attribs[t]===e}}function d2e(t,e){return function(r){return t(r)||e(r)}}function QQ(t){var e=Object.keys(t).map(function(r){var n=t[r];return Object.prototype.hasOwnProperty.call(zw,r)?zw[r](n):GQ(r,n)});return e.length===0?null:e.reduce(d2e)}function f2e(t,e){var r=QQ(t);return r?r(e):!0}_s.testElement=f2e;function h2e(t,e,r,n){n===void 0&&(n=1/0);var i=QQ(t);return i?(0,Ww.filter)(i,e,r,n):[]}_s.getElements=h2e;function p2e(t,e,r){return r===void 0&&(r=!0),Array.isArray(e)||(e=[e]),(0,Ww.findOne)(GQ("id",t),e,r)}_s.getElementById=p2e;function _2e(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,Ww.filter)(zw.tag_name(t),e,r,n)}_s.getElementsByTagName=_2e;function y2e(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,Ww.filter)(zw.tag_type(t),e,r,n)}_s.getElementsByTagType=y2e});var KQ=_(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.uniqueSort=Ws.compareDocumentPosition=Ws.DocumentPosition=Ws.removeSubsets=void 0;var zQ=el();function b2e(t){for(var e=t.length;--e>=0;){var r=t[e];if(e>0&&t.lastIndexOf(r,e-1)>=0){t.splice(e,1);continue}for(var n=r.parent;n;n=n.parent)if(t.includes(n)){t.splice(e,1);break}}return t}Ws.removeSubsets=b2e;var Ho;(function(t){t[t.DISCONNECTED=1]="DISCONNECTED",t[t.PRECEDING=2]="PRECEDING",t[t.FOLLOWING=4]="FOLLOWING",t[t.CONTAINS=8]="CONTAINS",t[t.CONTAINED_BY=16]="CONTAINED_BY"})(Ho=Ws.DocumentPosition||(Ws.DocumentPosition={}));function WQ(t,e){var r=[],n=[];if(t===e)return 0;for(var i=(0,zQ.hasChildren)(t)?t:t.parent;i;)r.unshift(i),i=i.parent;for(i=(0,zQ.hasChildren)(e)?e:e.parent;i;)n.unshift(i),i=i.parent;for(var a=Math.min(r.length,n.length),s=0;s<a&&r[s]===n[s];)s++;if(s===0)return Ho.DISCONNECTED;var o=r[s-1],u=o.children,d=r[s],f=n[s];return u.indexOf(d)>u.indexOf(f)?o===e?Ho.FOLLOWING|Ho.CONTAINED_BY:Ho.FOLLOWING:o===t?Ho.PRECEDING|Ho.CONTAINS:Ho.PRECEDING}Ws.compareDocumentPosition=WQ;function g2e(t){return t=t.filter(function(e,r,n){return!n.includes(e,r+1)}),t.sort(function(e,r){var n=WQ(e,r);return n&Ho.PRECEDING?-1:n&Ho.FOLLOWING?1:0}),t}Ws.uniqueSort=g2e});var $Q=_(Xw=>{"use strict";Object.defineProperty(Xw,"__esModule",{value:!0});Xw.getFeed=void 0;var m2e=dN(),Mb=_N();function v2e(t){var e=Kw(O2e,t);return e?e.name==="feed"?w2e(e):S2e(e):null}Xw.getFeed=v2e;function w2e(t){var e,r=t.children,n={type:"atom",items:(0,Mb.getElementsByTagName)("entry",r).map(function(s){var o,u=s.children,d={media:XQ(u)};ga(d,"id","id",u),ga(d,"title","title",u);var f=(o=Kw("link",u))===null||o===void 0?void 0:o.attribs.href;f&&(d.link=f);var p=Af("summary",u)||Af("content",u);p&&(d.description=p);var y=Af("updated",u);return y&&(d.pubDate=new Date(y)),d})};ga(n,"id","id",r),ga(n,"title","title",r);var i=(e=Kw("link",r))===null||e===void 0?void 0:e.attribs.href;i&&(n.link=i),ga(n,"description","subtitle",r);var a=Af("updated",r);return a&&(n.updated=new Date(a)),ga(n,"author","email",r,!0),n}function S2e(t){var e,r,n=(r=(e=Kw("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&r!==void 0?r:[],i={type:t.name.substr(0,3),id:"",items:(0,Mb.getElementsByTagName)("item",t.children).map(function(s){var o=s.children,u={media:XQ(o)};ga(u,"id","guid",o),ga(u,"title","title",o),ga(u,"link","link",o),ga(u,"description","description",o);var d=Af("pubDate",o);return d&&(u.pubDate=new Date(d)),u})};ga(i,"title","title",n),ga(i,"link","link",n),ga(i,"description","description",n);var a=Af("lastBuildDate",n);return a&&(i.updated=new Date(a)),ga(i,"author","managingEditor",n,!0),i}var T2e=["url","type","lang"],E2e=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function XQ(t){return(0,Mb.getElementsByTagName)("media:content",t).map(function(e){for(var r=e.attribs,n={medium:r.medium,isDefault:!!r.isDefault},i=0,a=T2e;i<a.length;i++){var s=a[i];r[s]&&(n[s]=r[s])}for(var o=0,u=E2e;o<u.length;o++){var s=u[o];r[s]&&(n[s]=parseInt(r[s],10))}return r.expression&&(n.expression=r.expression),n})}function Kw(t,e){return(0,Mb.getElementsByTagName)(t,e,!0,1)[0]}function Af(t,e,r){return r===void 0&&(r=!1),(0,m2e.textContent)((0,Mb.getElementsByTagName)(t,e,r,1)).trim()}function ga(t,e,r,n,i){i===void 0&&(i=!1);var a=Af(r,n,i);a&&(t[e]=a)}function O2e(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}});var yN=_(Br=>{"use strict";var R2e=Br&&Br.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xf=Br&&Br.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&R2e(e,t,r)};Object.defineProperty(Br,"__esModule",{value:!0});Br.hasChildren=Br.isDocument=Br.isComment=Br.isText=Br.isCDATA=Br.isTag=void 0;xf(dN(),Br);xf(UQ(),Br);xf(VQ(),Br);xf(pN(),Br);xf(_N(),Br);xf(KQ(),Br);xf($Q(),Br);var v_=el();Object.defineProperty(Br,"isTag",{enumerable:!0,get:function(){return v_.isTag}});Object.defineProperty(Br,"isCDATA",{enumerable:!0,get:function(){return v_.isCDATA}});Object.defineProperty(Br,"isText",{enumerable:!0,get:function(){return v_.isText}});Object.defineProperty(Br,"isComment",{enumerable:!0,get:function(){return v_.isComment}});Object.defineProperty(Br,"isDocument",{enumerable:!0,get:function(){return v_.isDocument}});Object.defineProperty(Br,"hasChildren",{enumerable:!0,get:function(){return v_.hasChildren}})});var Jw=_(nr=>{"use strict";var A2e=nr&&nr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),x2e=nr&&nr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JQ=nr&&nr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&A2e(e,t,r);return x2e(e,t),e},I2e=nr&&nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nr,"__esModule",{value:!0});nr.DefaultHandler=nr.DomUtils=nr.parseFeed=nr.getFeed=nr.ElementType=nr.Tokenizer=nr.createDomStream=nr.parseDOM=nr.parseDocument=nr.DomHandler=nr.Parser=void 0;var bN=dQ();Object.defineProperty(nr,"Parser",{enumerable:!0,get:function(){return bN.Parser}});var $w=el();Object.defineProperty(nr,"DomHandler",{enumerable:!0,get:function(){return $w.DomHandler}});Object.defineProperty(nr,"DefaultHandler",{enumerable:!0,get:function(){return $w.DomHandler}});function YQ(t,e){var r=new $w.DomHandler(void 0,e);return new bN.Parser(r,e).end(t),r.root}nr.parseDocument=YQ;function ZQ(t,e){return YQ(t,e).children}nr.parseDOM=ZQ;function P2e(t,e,r){var n=new $w.DomHandler(t,e,r);return new bN.Parser(n,e)}nr.createDomStream=P2e;var N2e=Z4();Object.defineProperty(nr,"Tokenizer",{enumerable:!0,get:function(){return I2e(N2e).default}});var D2e=JQ(y_());nr.ElementType=D2e;var ez=yN();Object.defineProperty(nr,"getFeed",{enumerable:!0,get:function(){return ez.getFeed}});function C2e(t,e){return e===void 0&&(e={xmlMode:!0}),(0,ez.getFeed)(ZQ(t,e))}nr.parseFeed=C2e;nr.DomUtils=JQ(yN())});var tz=_((P9e,j2e)=>{j2e.exports={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}}});var rz=_((N9e,q2e)=>{q2e.exports={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}}});var Yw=_(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.RDFA_CONTENTTYPES=w_.RDFA_FEATURES=void 0;w_.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}};w_.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}});var gN=_(e3=>{"use strict";Object.defineProperty(e3,"__esModule",{value:!0});e3.Util=void 0;var Zw=is(),L2e=Yw(),M2e=Bt(),ri=class{constructor(e,r){this.dataFactory=e||new M2e.DataFactory,this.baseIRI=this.dataFactory.namedNode(r||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(e,r,n){let i={};if(n)for(let a in e)a.startsWith("xmlns")&&(i[a.substr(6)]=e[a]);if(e.prefix||Object.keys(i).length>0){let a=Object.assign(Object.assign({},r),i);if(e.prefix){let s;for(;s=ri.PREFIX_REGEX.exec(e.prefix);)a[s[1]]=s[2]}return a}else return r}static expandPrefixedTerm(e,r){let n=e.indexOf(":"),i,a;if(n>=0&&(i=e.substr(0,n),a=e.substr(n+1)),i==="")return"http://www.w3.org/1999/xhtml/vocab#"+a;if(i){let s=r.prefixesAll[i];if(s)return s+a}if(e){let s=r.prefixesAll[e.toLocaleLowerCase()];if(s)return s}return e}static isValidIri(e){return ri.IRI_REGEX.test(e)}static contentTypeToProfile(e){return L2e.RDFA_CONTENTTYPES[e]||""}getBaseIRI(e){let r=e,n=r.indexOf("#");return n>=0&&(r=r.substr(0,n)),this.dataFactory.namedNode((0,Zw.resolve)(r,this.baseIRI.value))}getResourceOrBaseIri(e,r){return e===!0?this.getBaseIriTerm(r):e}getBaseIriTerm(e){return e.localBaseIRI||this.baseIRI}createVocabIris(e,r,n,i){return e.split(/\s+/).filter(a=>a&&(n||a.indexOf(":")>=0)).map(a=>this.createIri(a,r,!0,!0,i)).filter(a=>a!=null)}createLiteral(e,r){if(r.interpretObjectAsTime&&!r.datatype){for(let n of ri.TIME_REGEXES)if(e.match(n.regex)){r.datatype=this.dataFactory.namedNode(ri.XSD+n.type);break}}return this.dataFactory.literal(e,r.datatype||r.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(e,r,n,i,a){if(e=e||"",!i)return n||(e=(0,Zw.resolve)(e,this.getBaseIriTerm(r).value)),ri.isValidIri(e)?this.dataFactory.namedNode(e):null;if(e.length>0&&e[0]==="["&&e[e.length-1]==="]"&&(e=e.substr(1,e.length-2),e.indexOf(":")<0))return null;if(e.startsWith("_:"))return a?this.dataFactory.blankNode(e.substr(2)||"b_identity"):null;if(n&&r.vocab&&e.indexOf(":")<0)return this.dataFactory.namedNode(r.vocab+e);let s=ri.expandPrefixedTerm(e,r);return n?e!==s&&(s=(0,Zw.resolve)(s,this.baseIRIDocument.value)):s=(0,Zw.resolve)(s,this.getBaseIriTerm(r).value),ri.isValidIri(s)?this.dataFactory.namedNode(s):null}};e3.Util=ri;ri.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";ri.XSD="http://www.w3.org/2001/XMLSchema#";ri.RDFA="http://www.w3.org/ns/rdfa#";ri.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g;ri.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}];ri.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/});var iz=_(t3=>{"use strict";Object.defineProperty(t3,"__esModule",{value:!0});t3.RdfaParser=void 0;var F2e=Jw(),nz=qr(),B2e=tz(),U2e=rz(),V2e=Yw(),ma=gN(),Fb=class extends nz.Transform{constructor(e){super({readableObjectMode:!0}),this.activeTagStack=[],e=e||{},this.options=e,this.util=new ma.Util(e.dataFactory,e.baseIRI),this.defaultGraph=e.defaultGraph||this.util.dataFactory.defaultGraph();let r=e.contentType?ma.Util.contentTypeToProfile(e.contentType):e.profile||"";this.features=e.features||V2e.RDFA_FEATURES[r],this.htmlParseListener=e.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(r==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:e.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},U2e["@context"]),this.features.xhtmlInitialContext?B2e["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:e.vocab})}import(e){let r=new nz.PassThrough({readableObjectMode:!0});e.on("error",i=>n.emit("error",i)),e.on("data",i=>r.push(i)),e.on("end",()=>r.push(null));let n=r.pipe(new Fb(this.options));return n}_transform(e,r,n){this.parser.write(e.toString()),n()}_flush(e){this.parser.end(),e()}onTagOpen(e,r){let n=this.activeTagStack.length-1;for(;n>0&&this.activeTagStack[n].skipElement;)n--;let i=this.activeTagStack[n];n!==this.activeTagStack.length-1&&(i=Object.assign(Object.assign({},i),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));let a={collectChildTags:i.collectChildTags,incompleteTriples:[],inlist:"inlist"in r,listMapping:[],listMappingLocal:i.listMapping,localBaseIRI:i.localBaseIRI,name:e,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(a),a.collectChildTags){for(let v of Object.keys(i.prefixesCustom).sort()){let E=i.prefixesCustom[v],D=v===""?"xmlns":"xmlns:"+v;D in r||(r[D]=E)}let g=Object.keys(r).map(v=>`${v}="${r[v]}"`).join(" ");if(a.text=[`<${e}${g?" "+g:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let s=!0,o=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in r&&"rel"in r&&(s=!1,r.rel.indexOf(":")<0&&delete r.rel),"property"in r&&"rev"in r&&(o=!1,r.rev.indexOf(":")<0&&delete r.rev)),this.features.copyRdfaPatterns){if(i.collectedPatternTag){let g={attributes:r,children:[],name:e,referenced:!1,rootPattern:!1,text:[]};i.collectedPatternTag.children.push(g),a.collectedPatternTag=g;return}if(r.typeof==="rdfa:Pattern"){a.collectedPatternTag={attributes:r,children:[],name:e,parentTag:i,referenced:!1,rootPattern:!0,text:[]};return}if(r.property==="rdfa:copy"){let g=r.resource||r.href||r.src;this.rdfaPatterns[g]?this.emitPatternCopy(i,this.rdfaPatterns[g],g):(this.pendingRdfaPatternCopies[g]||(this.pendingRdfaPatternCopies[g]=[]),this.pendingRdfaPatternCopies[g].push(i));return}}this.features.baseTag&&e==="base"&&r.href&&(this.util.baseIRI=this.util.getBaseIRI(r.href)),this.features.xmlBase&&r["xml:base"]&&(a.localBaseIRI=this.util.getBaseIRI(r["xml:base"])),this.features.timeTag&&e==="time"&&!r.datatype&&(a.interpretObjectAsTime=!0);let u,d,f;if("vocab"in r?r.vocab?(a.vocab=r.vocab,this.emitTriple(this.util.getBaseIriTerm(a),this.util.dataFactory.namedNode(ma.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(a.vocab))):a.vocab=this.activeTagStack[0].vocab:a.vocab=i.vocab,a.prefixesCustom=ma.Util.parsePrefixes(r,i.prefixesCustom,this.features.xmlnsPrefixMappings),a.prefixesAll=Object.keys(a.prefixesCustom).length>0?Object.assign(Object.assign({},i.prefixesAll),a.prefixesCustom):i.prefixesAll,this.features.roleAttribute&&r.role){let g=r.id?this.util.createIri("#"+r.id,a,!1,!1,!1):this.util.createBlankNode(),v=a.vocab;a.vocab="http://www.w3.org/1999/xhtml/vocab#";for(let E of this.util.createVocabIris(r.role,a,!0,!1))this.emitTriple(g,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),E);a.vocab=v}"xml:lang"in r||this.features.langAttribute&&"lang"in r?a.language=r["xml:lang"]||r.lang:a.language=i.language;let p=this.activeTagStack.length===2;if(!("rel"in r)&&!("rev"in r)?"property"in r&&!("content"in r)&&!("datatype"in r)?("about"in r?(u=this.util.createIri(r.about,a,!1,!0,!0),a.explicitNewSubject=!!u):p?u=!0:i.object&&(u=i.object),"typeof"in r&&("about"in r&&(f=this.util.createIri(r.about,a,!1,!0,!0)),!f&&p&&(f=!0),!f&&"resource"in r&&(f=this.util.createIri(r.resource,a,!1,!0,!0)),!f&&("href"in r||"src"in r)&&(f=this.util.createIri(r.href||r.src,a,!1,!1,!0)),!f&&this.isInheritSubjectInHeadBody(e)&&(f=u),f||(f=this.util.createBlankNode()),d=f)):(("about"in r||"resource"in r)&&(u=this.util.createIri(r.about||r.resource,a,!1,!0,!0),a.explicitNewSubject=!!u),!u&&("href"in r||"src"in r)&&(u=this.util.createIri(r.href||r.src,a,!1,!1,!0),a.explicitNewSubject=!!u),u||(p?u=!0:this.isInheritSubjectInHeadBody(e)?u=i.object:"typeof"in r?(u=this.util.createBlankNode(),a.explicitNewSubject=!0):i.object&&(u=i.object,"property"in r||(a.skipElement=!0))),"typeof"in r&&(f=u)):("about"in r?(u=this.util.createIri(r.about,a,!1,!0,!0),a.explicitNewSubject=!!u,"typeof"in r&&(f=u)):p?u=!0:i.object&&(u=i.object),"resource"in r&&(d=this.util.createIri(r.resource,a,!1,!0,!0)),d||("href"in r||"src"in r?d=this.util.createIri(r.href||r.src,a,!1,!1,!0):"typeof"in r&&!("about"in r)&&!this.isInheritSubjectInHeadBody(e)&&(d=this.util.createBlankNode())),"typeof"in r&&!("about"in r)&&(this.isInheritSubjectInHeadBody(e)?f=u:f=d)),f)for(let g of this.util.createVocabIris(r.typeof,a,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(f,a),this.util.dataFactory.namedNode(ma.Util.RDF+"type"),g);if(u&&(a.listMapping={}),d){if("rel"in r&&"inlist"in r)for(let g of this.util.createVocabIris(r.rel,a,s,!1))this.addListMapping(a,u,g,d);if(!("rel"in r&&"inlist"in r)){if("rel"in r)for(let g of this.util.createVocabIris(r.rel,a,s,!1))this.emitTriple(this.util.getResourceOrBaseIri(u,a),g,this.util.getResourceOrBaseIri(d,a));if("rev"in r)for(let g of this.util.createVocabIris(r.rev,a,o,!1))this.emitTriple(this.util.getResourceOrBaseIri(d,a),g,this.util.getResourceOrBaseIri(u,a))}}if(!d){if("rel"in r)if("inlist"in r)for(let g of this.util.createVocabIris(r.rel,a,s,!1))this.addListMapping(a,u,g,null),a.incompleteTriples.push({predicate:g,reverse:!1,list:!0});else for(let g of this.util.createVocabIris(r.rel,a,s,!1))a.incompleteTriples.push({predicate:g,reverse:!1});if("rev"in r)for(let g of this.util.createVocabIris(r.rev,a,o,!1))a.incompleteTriples.push({predicate:g,reverse:!0});a.incompleteTriples.length>0&&(d=this.util.createBlankNode())}if("property"in r){a.predicates=this.util.createVocabIris(r.property,a,!0,!1);let g;if("datatype"in r?(a.datatype=this.util.createIri(r.datatype,a,!0,!0,!1),a.datatype&&(a.datatype.value===ma.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&a.datatype.value===ma.Util.RDF+"HTML")&&(a.collectChildTags=!0)):(!("rev"in r)&&!("rel"in r)&&!("content"in r)&&("resource"in r&&(g=this.util.createIri(r.resource,a,!1,!0,!0)),!g&&"href"in r&&(g=this.util.createIri(r.href,a,!1,!1,!0)),!g&&"src"in r&&(g=this.util.createIri(r.src,a,!1,!1,!0))),"typeof"in r&&!("about"in r)&&(g=f)),"content"in r){let v=this.util.createLiteral(r.content,a);if("inlist"in r)for(let E of a.predicates)this.addListMapping(a,u,E,v);else{let E=this.util.getResourceOrBaseIri(u,a);for(let D of a.predicates)this.emitTriple(E,D,v)}a.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in r){a.interpretObjectAsTime=!0;let v=this.util.createLiteral(r.datetime,a);if("inlist"in r)for(let E of a.predicates)this.addListMapping(a,u,E,v);else{let E=this.util.getResourceOrBaseIri(u,a);for(let D of a.predicates)this.emitTriple(E,D,v)}a.predicates=null}else if(g){let v=this.util.getResourceOrBaseIri(g,a);if("inlist"in r)for(let E of a.predicates)this.addListMapping(a,u,E,v);else{let E=this.util.getResourceOrBaseIri(u,a);for(let D of a.predicates)this.emitTriple(E,D,v)}a.predicates=null}}let y=!1;if(!a.skipElement&&u&&i.incompleteTriples.length>0){y=!0;let g=this.util.getResourceOrBaseIri(i.subject,a),v=this.util.getResourceOrBaseIri(u,a);for(let E of i.incompleteTriples)if(E.reverse)this.emitTriple(v,E.predicate,g);else if(E.list){let D=null;for(let O=this.activeTagStack.length-1;O>=0;O--)if(this.activeTagStack[O].inlist){D=this.activeTagStack[O];break}this.addListMapping(D,u,E.predicate,v)}else this.emitTriple(g,E.predicate,v)}!y&&i.incompleteTriples.length>0&&(a.incompleteTriples=a.incompleteTriples.concat(i.incompleteTriples)),a.subject=u||i.subject,a.object=d||u}onText(e){let r=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&r.collectedPatternTag){r.collectedPatternTag.text.push(e);return}r.text||(r.text=[]),r.text.push(e)}onTagClose(){let e=this.activeTagStack[this.activeTagStack.length-1],r=this.activeTagStack[this.activeTagStack.length-2];if(!(e.collectChildTags&&r.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&e.collectedPatternTag&&e.collectedPatternTag.rootPattern){let n=e.collectedPatternTag.attributes.resource;if(delete e.collectedPatternTag.attributes.resource,delete e.collectedPatternTag.attributes.typeof,this.rdfaPatterns[n]=e.collectedPatternTag,this.pendingRdfaPatternCopies[n]){for(let i of this.pendingRdfaPatternCopies[n])this.emitPatternCopy(i,e.collectedPatternTag,n);delete this.pendingRdfaPatternCopies[n]}this.activeTagStack.pop();return}if(e.predicates){let n=this.util.getResourceOrBaseIri(e.subject,e),i=e.text||[];e.collectChildTags&&r.collectChildTags&&(i=i.slice(1));let a=this.util.createLiteral(i.join(""),e);if(e.inlist)for(let s of e.predicates)this.addListMapping(e,n,s,a);else for(let s of e.predicates)this.emitTriple(n,s,a);r.predicates||(e.text=null)}if(e.object&&Object.keys(e.listMapping).length>0){let n=this.util.getResourceOrBaseIri(e.object,e);for(let i in e.listMapping){let a=this.util.dataFactory.namedNode(i),s=e.listMapping[i];if(s.length>0){let o=s.map(()=>this.util.createBlankNode());for(let u=0;u<s.length;u++){let d=this.util.getResourceOrBaseIri(s[u],e);this.emitTriple(o[u],this.util.dataFactory.namedNode(ma.Util.RDF+"first"),d),this.emitTriple(o[u],this.util.dataFactory.namedNode(ma.Util.RDF+"rest"),u<s.length-1?o[u+1]:this.util.dataFactory.namedNode(ma.Util.RDF+"nil"))}this.emitTriple(n,a,o[0])}else this.emitTriple(n,a,this.util.dataFactory.namedNode(ma.Util.RDF+"nil"))}}}this.activeTagStack.pop(),e.collectChildTags&&e.text&&e.text.push(`</${e.name}>`),e.text&&r&&(r.text?r.text=r.text.concat(e.text):r.text=e.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(let e in this.rdfaPatterns){let r=this.rdfaPatterns[e];r.referenced||(r.attributes.typeof="rdfa:Pattern",r.attributes.resource=e,this.emitPatternCopy(r.parentTag,r,e),r.referenced=!1,delete r.attributes.typeof,delete r.attributes.resource)}for(let e in this.pendingRdfaPatternCopies)for(let r of this.pendingRdfaPatternCopies[e])this.activeTagStack.push(r),this.onTagOpen("link",{property:"rdfa:copy",href:e}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(e){return this.features.inheritSubjectInHeadBody&&(e==="head"||e==="body")}addListMapping(e,r,n,i){if(e.explicitNewSubject){let a=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(r,e),n,a),this.emitTriple(a,this.util.dataFactory.namedNode(ma.Util.RDF+"first"),this.util.getResourceOrBaseIri(i,e)),this.emitTriple(a,this.util.dataFactory.namedNode(ma.Util.RDF+"rest"),this.util.dataFactory.namedNode(ma.Util.RDF+"nil"))}else{let a=e.listMappingLocal[n.value];a||(e.listMappingLocal[n.value]=a=[]),i&&a.push(i)}}emitTriple(e,r,n){e.termType==="NamedNode"&&e.value.indexOf(":")<0||r.termType==="NamedNode"&&r.value.indexOf(":")<0||n.termType==="NamedNode"&&n.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(e,r,n,this.defaultGraph))}emitPatternCopy(e,r,n){if(this.activeTagStack.push(e),r.referenced=!0,!r.constructedBlankNodes)r.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{let i=this.util.dataFactory.blankNode();return r.constructedBlankNodes.push(i),i};else{let i=0;this.util.blankNodeFactory=()=>r.constructedBlankNodes[i++]}this.emitPatternCopyAbsolute(r,!0,n),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(e,r,n){if(!(!r&&e.attributes.property==="rdfa:copy"&&e.attributes.href===n)){this.onTagOpen(e.name,e.attributes);for(let i of e.text)this.onText(i);for(let i of e.children)this.emitPatternCopyAbsolute(i,!1,n);this.onTagClose()}}initializeParser(e){return new F2e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(r){this.emit("error",r)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(r){this.emit("error",r)}},onopentag:(r,n)=>{try{this.onTagOpen(r,n),this.htmlParseListener&&this.htmlParseListener.onTagOpen(r,n)}catch(i){this.emit("error",i)}},ontext:r=>{try{this.onText(r),this.htmlParseListener&&this.htmlParseListener.onText(r)}catch(n){this.emit("error",n)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:e})}};t3.RdfaParser=Fb});var mN=_(ys=>{"use strict";var k2e=ys&&ys.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),S_=ys&&ys.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&k2e(e,t,r)};Object.defineProperty(ys,"__esModule",{value:!0});S_(HG(),ys);S_(QG(),ys);S_(WG(),ys);S_(iz(),ys);S_(Yw(),ys);S_(gN(),ys)});var az=_(r3=>{"use strict";Object.defineProperty(r3,"__esModule",{value:!0});r3.ActorRdfParseXmlRdfa=void 0;var H2e=a_(),G2e=mN(),vN=class extends H2e.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){let i=(e.headers&&e.headers.get("content-language"))??void 0;e.data.on("error",s=>a.emit("error",s));let a=e.data.pipe(new G2e.RdfaParser({baseIRI:e.metadata?.baseIRI,profile:"xml",language:i}));return{data:a,metadata:{triples:!0}}}};r3.ActorRdfParseXmlRdfa=vN});var sz=_(If=>{"use strict";var Q2e=If&&If.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z2e=If&&If.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Q2e(e,t,r)};Object.defineProperty(If,"__esModule",{value:!0});z2e(az(),If)});var oz=_(n3=>{"use strict";Object.defineProperty(n3,"__esModule",{value:!0});n3.ActorRdfJoinEntriesSort=void 0;var W2e=Je(),wN=class extends W2e.Actor{constructor(e){super(e)}};n3.ActorRdfJoinEntriesSort=wN});var uz=_(Pf=>{"use strict";var K2e=Pf&&Pf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),X2e=Pf&&Pf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&K2e(e,t,r)};Object.defineProperty(Pf,"__esModule",{value:!0});X2e(oz(),Pf)});var cz=_(i3=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});i3.ActorRdfJoinEntriesSortCardinality=void 0;var $2e=uz(),SN=class extends $2e.ActorRdfJoinEntriesSort{constructor(e){super(e)}async test(e){return!0}async run(e){return{entries:[...e.entries].sort((n,i)=>n.metadata.cardinality.value-i.metadata.cardinality.value)}}};i3.ActorRdfJoinEntriesSortCardinality=SN});var lz=_(Nf=>{"use strict";var J2e=Nf&&Nf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y2e=Nf&&Nf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&J2e(e,t,r)};Object.defineProperty(Nf,"__esModule",{value:!0});Y2e(cz(),Nf)});var dz=_(a3=>{"use strict";Object.defineProperty(a3,"__esModule",{value:!0});a3.ActorRdfJoinSelectivity=void 0;var Z2e=Je(),TN=class extends Z2e.Actor{constructor(e){super(e)}};a3.ActorRdfJoinSelectivity=TN});var fz=_(Df=>{"use strict";var ewe=Df&&Df.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),twe=Df&&Df.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ewe(e,t,r)};Object.defineProperty(Df,"__esModule",{value:!0});twe(dz(),Df)});var hz=_(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.JoinTypes=Cf.ActorRdfJoinSelectivityVariableCounting=void 0;var rwe=fz(),s3=jt(),Ks=class extends rwe.ActorRdfJoinSelectivity{constructor(e){super(e)}async test(e){return{accuracy:.5}}static getPatternCost(e){let r=1;return e.subject.termType==="Variable"&&(r+=4),(e.predicate.termType==="Variable"||e.type===s3.Algebra.types.PATH)&&(r+=1),e.object.termType==="Variable"&&(r+=2),e.graph.termType==="Variable"&&(r+=1),r/9}static getJoinTypes(e,r){let n=[];return e.subject.termType==="Variable"?(e.subject.equals(r.subject)&&n.push(We.unboundSS),r.type==="pattern"&&e.subject.equals(r.predicate)&&n.push(We.unboundSP),e.subject.equals(r.object)&&n.push(We.unboundSO),e.subject.equals(r.graph)&&n.push(We.unboundSG)):(e.subject.equals(r.subject)&&n.push(We.boundSS),r.type==="pattern"&&e.subject.equals(r.predicate)&&n.push(We.boundSP),e.subject.equals(r.object)&&n.push(We.boundSO),e.subject.equals(r.graph)&&n.push(We.boundSG)),e.type==="pattern"&&(e.predicate.termType==="Variable"?(e.predicate.equals(r.subject)&&n.push(We.unboundPS),r.type==="pattern"&&e.predicate.equals(r.predicate)&&n.push(We.unboundPP),e.predicate.equals(r.object)&&n.push(We.unboundPO),e.predicate.equals(r.graph)&&n.push(We.unboundPG)):(e.predicate.equals(r.subject)&&n.push(We.boundPS),r.type==="pattern"&&e.predicate.equals(r.predicate)&&n.push(We.boundPP),e.predicate.equals(r.object)&&n.push(We.boundPO),e.predicate.equals(r.graph)&&n.push(We.boundPG))),e.object.termType==="Variable"?(e.object.equals(r.subject)&&n.push(We.unboundOS),r.type==="pattern"&&e.object.equals(r.predicate)&&n.push(We.unboundOP),e.object.equals(r.object)&&n.push(We.unboundOO),e.object.equals(r.graph)&&n.push(We.unboundOG)):(e.object.equals(r.subject)&&n.push(We.boundOS),r.type==="pattern"&&e.object.equals(r.predicate)&&n.push(We.boundOP),e.object.equals(r.object)&&n.push(We.boundOO),e.object.equals(r.graph)&&n.push(We.boundOG)),e.graph.termType==="Variable"?(e.graph.equals(r.subject)&&n.push(We.unboundGS),r.type==="pattern"&&e.graph.equals(r.predicate)&&n.push(We.unboundGP),e.graph.equals(r.object)&&n.push(We.unboundGO),e.graph.equals(r.graph)&&n.push(We.unboundGG)):(e.graph.equals(r.subject)&&n.push(We.boundGS),r.type==="pattern"&&e.graph.equals(r.predicate)&&n.push(We.boundGP),e.graph.equals(r.object)&&n.push(We.boundGO),e.graph.equals(r.graph)&&n.push(We.boundGG)),n}static getOperationsPairwiseJoinCost(e,r){let n=Ks.MAX_PAIRWISE_COST;for(let i of Ks.getJoinTypes(e,r))switch(i){case We.boundSS:n-=2*2;break;case We.boundSP:n-=3*2;break;case We.boundSO:n-=1*2;break;case We.boundSG:n-=3*2;break;case We.boundPS:n-=3*2;break;case We.boundPP:return 1;case We.boundPO:n-=3*2;break;case We.boundPG:n-=3*2;break;case We.boundOS:n-=1*2;break;case We.boundOP:n-=3*2;break;case We.boundOO:n-=1*2;break;case We.boundOG:n-=3*2;break;case We.boundGS:n-=3*2;break;case We.boundGP:n-=3*2;break;case We.boundGO:n-=3*2;break;case We.boundGG:n-=3*2;break;case We.unboundSS:n-=2;break;case We.unboundSP:n-=3;break;case We.unboundSO:n-=1;break;case We.unboundSG:n-=3;break;case We.unboundPS:n-=3;break;case We.unboundPP:n-=3;break;case We.unboundPO:n-=3;break;case We.unboundPG:n-=3;break;case We.unboundOS:n-=1;break;case We.unboundOP:n-=3;break;case We.unboundOO:n-=1;break;case We.unboundOG:n-=3;break;case We.unboundGS:n-=3;break;case We.unboundGP:n-=3;break;case We.unboundGO:n-=3;break;case We.unboundGG:n-=3;break}return n/Ks.MAX_PAIRWISE_COST}static getOperationsJoinCost(e){let r=[];for(let a of e)s3.Util.recurseOperation(a,{[s3.Algebra.types.PATTERN](s){return r.push(s),!1},[s3.Algebra.types.PATH](s){return r.push(s),!1}});let n=0,i=0;for(let a of r)for(let s of r)a!==s&&(n+=Ks.getOperationsPairwiseJoinCost(a,s),i++);return n/i*r.reduce((a,s)=>a*Ks.getPatternCost(s),1)}async run(e){return e.entries.length<=1?{selectivity:1}:{selectivity:Ks.getOperationsJoinCost(e.entries.map(r=>r.operation))}}};Cf.ActorRdfJoinSelectivityVariableCounting=Ks;Ks.MAX_PAIRWISE_COST=41*2;var We;(function(t){t[t.boundSS=0]="boundSS",t[t.boundSP=1]="boundSP",t[t.boundSO=2]="boundSO",t[t.boundSG=3]="boundSG",t[t.boundPS=4]="boundPS",t[t.boundPP=5]="boundPP",t[t.boundPO=6]="boundPO",t[t.boundPG=7]="boundPG",t[t.boundOS=8]="boundOS",t[t.boundOP=9]="boundOP",t[t.boundOO=10]="boundOO",t[t.boundOG=11]="boundOG",t[t.boundGS=12]="boundGS",t[t.boundGP=13]="boundGP",t[t.boundGO=14]="boundGO",t[t.boundGG=15]="boundGG",t[t.unboundSS=16]="unboundSS",t[t.unboundSP=17]="unboundSP",t[t.unboundSO=18]="unboundSO",t[t.unboundSG=19]="unboundSG",t[t.unboundPS=20]="unboundPS",t[t.unboundPP=21]="unboundPP",t[t.unboundPO=22]="unboundPO",t[t.unboundPG=23]="unboundPG",t[t.unboundOS=24]="unboundOS",t[t.unboundOP=25]="unboundOP",t[t.unboundOO=26]="unboundOO",t[t.unboundOG=27]="unboundOG",t[t.unboundGS=28]="unboundGS",t[t.unboundGP=29]="unboundGP",t[t.unboundGO=30]="unboundGO",t[t.unboundGG=31]="unboundGG"})(We=Cf.JoinTypes||(Cf.JoinTypes={}))});var pz=_(jf=>{"use strict";var nwe=jf&&jf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iwe=jf&&jf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nwe(e,t,r)};Object.defineProperty(jf,"__esModule",{value:!0});iwe(hz(),jf)});var _z=_(o3=>{"use strict";Object.defineProperty(o3,"__esModule",{value:!0});o3.ActorRdfMetadata=void 0;var awe=Je(),EN=class extends awe.Actor{constructor(e){super(e)}};o3.ActorRdfMetadata=EN});var ON=_(qf=>{"use strict";var swe=qf&&qf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),owe=qf&&qf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&swe(e,t,r)};Object.defineProperty(qf,"__esModule",{value:!0});owe(_z(),qf)});var bz=_(u3=>{"use strict";Object.defineProperty(u3,"__esModule",{value:!0});u3.ActorRdfMetadataPrimaryTopic=void 0;var uwe=ON(),yz=qr(),RN=class extends uwe.ActorRdfMetadata{constructor(e){super(e)}async test(e){if(e.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(e){let r=new yz.Readable({objectMode:!0}),n=new yz.Readable({objectMode:!0}),i=()=>{r._read=n._read=()=>{},e.quads.on("error",u=>{r.emit("error",u),n.emit("error",u)});let a={},s,o={};e.quads.on("data",u=>{u.predicate.value==="http://rdfs.org/ns/void#subset"&&u.object.value===e.url?s=u.subject.value:u.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(o[u.object.value]=u.subject.value);let d=a[u.graph.value];d||(d=a[u.graph.value]=[]),d.push(u)}),e.quads.on("end",()=>{let u=s?o[s]:void 0;for(let d in a)if(d===u){for(let f of a[d])n.push(f);if(this.metadataToData)for(let f of a[d])r.push(f)}else{for(let f of a[d])r.push(f);if(!u&&this.dataToMetadataOnInvalidMetadataGraph)for(let f of a[d])n.push(f)}r.push(null),n.push(null)})};return r._read=n._read=()=>{i()},{data:r,metadata:n}}};u3.ActorRdfMetadataPrimaryTopic=RN});var gz=_(Lf=>{"use strict";var cwe=Lf&&Lf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lwe=Lf&&Lf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cwe(e,t,r)};Object.defineProperty(Lf,"__esModule",{value:!0});lwe(bz(),Lf)});var vz=_(c3=>{"use strict";Object.defineProperty(c3,"__esModule",{value:!0});c3.ActorRdfMetadataAll=void 0;var dwe=ON(),mz=qr(),AN=class extends dwe.ActorRdfMetadata{constructor(e){super(e)}async test(e){return!0}async run(e){let r=new mz.Readable({objectMode:!0}),n=new mz.Readable({objectMode:!0});e.quads.on("error",a=>{r.emit("error",a),n.emit("error",a)});let i=()=>{r._read=n._read=()=>{},e.quads.on("data",a=>{r.push(a),n.push(a)}),e.quads.on("end",()=>{r.push(null),n.push(null)})};return r._read=n._read=()=>{i()},{data:r,metadata:n}}};c3.ActorRdfMetadataAll=AN});var wz=_(Mf=>{"use strict";var fwe=Mf&&Mf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hwe=Mf&&Mf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fwe(e,t,r)};Object.defineProperty(Mf,"__esModule",{value:!0});hwe(vz(),Mf)});var Sz=_(l3=>{"use strict";Object.defineProperty(l3,"__esModule",{value:!0});l3.ActorRdfMetadataExtract=void 0;var pwe=Je(),xN=class extends pwe.Actor{constructor(e){super(e)}};l3.ActorRdfMetadataExtract=xN});var Bu=_(Ff=>{"use strict";var _we=Ff&&Ff.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ywe=Ff&&Ff.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_we(e,t,r)};Object.defineProperty(Ff,"__esModule",{value:!0});ywe(Sz(),Ff)});var Tz=_((e5e,IN)=>{(function(t){"use strict";var e=function(){function g(v){this.options=v}return g.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},g}(),r=function(){function g(T){return Object.prototype.toString.apply(T)==="[object Array]"}function v(T){return Object.prototype.toString.apply(T)==="[object String]"}function E(T){return Object.prototype.toString.apply(T)==="[object Number]"}function D(T){return Object.prototype.toString.apply(T)==="[object Boolean]"}function O(T,te){var ee="",Y=!0,x;for(x=0;x<T.length;x+=1)Y?Y=!1:ee+=te,ee+=T[x];return ee}function C(T,te){for(var ee=[],Y=0;Y<T.length;Y+=1)ee.push(te(T[Y]));return ee}function R(T,te){for(var ee=[],Y=0;Y<T.length;Y+=1)te(T[Y])&&ee.push(T[Y]);return ee}function w(T){if(typeof T!="object"||T===null)return T;Object.freeze(T);var te,ee;for(ee in T)T.hasOwnProperty(ee)&&(te=T[ee],typeof te=="object"&&P(te));return T}function P(T){return typeof Object.freeze=="function"?w(T):T}return{isArray:g,isString:v,isNumber:E,isBoolean:D,join:O,map:C,filter:R,deepFreeze:P}}(),n=function(){function g(D){return D>="a"&&D<="z"||D>="A"&&D<="Z"}function v(D){return D>="0"&&D<="9"}function E(D){return v(D)||D>="a"&&D<="f"||D>="A"&&D<="F"}return{isAlpha:g,isDigit:v,isHexDigit:E}}(),i=function(){var g={encode:function(R){return unescape(encodeURIComponent(R))},numBytes:function(R){return R<=127?1:194<=R&&R<=223?2:224<=R&&R<=239?3:240<=R&&R<=244?4:0},isValidFollowingCharCode:function(R){return 128<=R&&R<=191}};function v(R){var w="",P=g.encode(R),T,te;for(te=0;te<P.length;te+=1)T=P.charCodeAt(te),w+="%"+(T<16?"0":"")+T.toString(16).toUpperCase();return w}function E(R,w){return R.charAt(w)==="%"&&n.isHexDigit(R.charAt(w+1))&&n.isHexDigit(R.charAt(w+2))}function D(R,w){return parseInt(R.substr(w,2),16)}function O(R){if(!E(R,0))return!1;var w=D(R,1),P=g.numBytes(w);if(P===0)return!1;for(var T=1;T<P;T+=1)if(!E(R,3*T)||!g.isValidFollowingCharCode(D(R,3*T+1)))return!1;return!0}function C(R,w){var P=R.charAt(w);if(!E(R,w))return P;var T=D(R,w+1),te=g.numBytes(T);if(te===0)return P;for(var ee=1;ee<te;ee+=1)if(!E(R,w+3*ee)||!g.isValidFollowingCharCode(D(R,w+3*ee+1)))return P;return R.substr(w,3*te)}return{encodeCharacter:v,isPctEncoded:O,pctCharAt:C}}(),a=function(){function g(D){return n.isAlpha(D)||n.isDigit(D)||D==="_"||i.isPctEncoded(D)}function v(D){return n.isAlpha(D)||n.isDigit(D)||D==="-"||D==="."||D==="_"||D==="~"}function E(D){return D===":"||D==="/"||D==="?"||D==="#"||D==="["||D==="]"||D==="@"||D==="!"||D==="$"||D==="&"||D==="("||D===")"||D==="*"||D==="+"||D===","||D===";"||D==="="||D==="'"}return{isVarchar:g,isUnreserved:v,isReserved:E}}(),s=function(){function g(O,C){var R="",w,P="";for((typeof O=="number"||typeof O=="boolean")&&(O=O.toString()),w=0;w<O.length;w+=P.length)P=O.charAt(w),R+=a.isUnreserved(P)||C&&a.isReserved(P)?P:i.encodeCharacter(P);return R}function v(O){return g(O,!0)}function E(O,C){var R=i.pctCharAt(O,C);return R.length>1||a.isReserved(R)||a.isUnreserved(R)?R:i.encodeCharacter(R)}function D(O){var C="",R,w="";for(R=0;R<O.length;R+=w.length)w=i.pctCharAt(O,R),w.length>1?C+=w:C+=a.isReserved(w)||a.isUnreserved(w)?w:i.encodeCharacter(w);return C}return{encode:g,encodePassReserved:v,encodeLiteral:D,encodeLiteralCharacter:E}}(),o=function(){var g={};function v(E){g[E]={symbol:E,separator:E==="?"?"&":E===""||E==="+"||E==="#"?",":E,named:E===";"||E==="&"||E==="?",ifEmpty:E==="&"||E==="?"?"=":"",first:E==="+"?"":E,encode:E==="+"||E==="#"?s.encodePassReserved:s.encode,toString:function(){return this.symbol}}}return v(""),v("+"),v("#"),v("."),v("/"),v(";"),v("?"),v("&"),{valueOf:function(E){return g[E]?g[E]:"=,!@|".indexOf(E)>=0?null:g[""]}}}();function u(g){var v;if(g==null)return!1;if(r.isArray(g))return g.length>0;if(typeof g=="string"||typeof g=="number"||typeof g=="boolean")return!0;for(v in g)if(g.hasOwnProperty(v)&&u(g[v]))return!0;return!1}var d=function(){function g(v){this.literal=s.encodeLiteral(v)}return g.prototype.expand=function(){return this.literal},g.prototype.toString=g.prototype.expand,g}(),f=function(){function g(E){var D,O=[],C=null,R=null,w=null,P,T="";function te(){var Y=E.substring(R,P);if(Y.length===0)throw new e({expressionText:E,message:"a varname must be specified",position:P});C={varname:Y,exploded:!1,maxLength:null},R=null}function ee(){if(w===P)throw new e({expressionText:E,message:"after a ':' you have to specify the length",position:P});C.maxLength=parseInt(E.substring(w,P),10),w=null}for(D=function(Y){var x=o.valueOf(Y);if(x===null)throw new e({expressionText:E,message:"illegal use of reserved operator",position:P,operator:Y});return x}(E.charAt(0)),P=D.symbol.length,R=P;P<E.length;P+=T.length){if(T=i.pctCharAt(E,P),R!==null){if(T==="."){if(R===P)throw new e({expressionText:E,message:"a varname MUST NOT start with a dot",position:P});continue}if(a.isVarchar(T))continue;te()}if(w!==null){if(P===w&&T==="0")throw new e({expressionText:E,message:"A :prefix must not start with digit 0",position:P});if(n.isDigit(T)){if(P-w>=4)throw new e({expressionText:E,message:"A :prefix must have max 4 digits",position:P});continue}ee()}if(T===":"){if(C.maxLength!==null)throw new e({expressionText:E,message:"only one :maxLength is allowed per varspec",position:P});if(C.exploded)throw new e({expressionText:E,message:"an exploeded varspec MUST NOT be varspeced",position:P});w=P+1;continue}if(T==="*"){if(C===null)throw new e({expressionText:E,message:"exploded without varspec",position:P});if(C.exploded)throw new e({expressionText:E,message:"exploded twice",position:P});if(C.maxLength)throw new e({expressionText:E,message:"an explode (*) MUST NOT follow to a prefix",position:P});C.exploded=!0;continue}if(T===","){O.push(C),C=null,R=P+1;continue}throw new e({expressionText:E,message:"illegal character",character:T,position:P})}return R!==null&&te(),w!==null&&ee(),O.push(C),new p(E,D,O)}function v(E){var D,O,C=[],R=null,w=0;for(D=0;D<E.length;D+=1){if(O=E.charAt(D),w!==null){if(O==="}")throw new e({templateText:E,message:"unopened brace closed",position:D});O==="{"&&(w<D&&C.push(new d(E.substring(w,D))),w=null,R=D);continue}if(R!==null){if(O==="{")throw new e({templateText:E,message:"brace already opened",position:D});if(O==="}"){if(R+1===D)throw new e({templateText:E,message:"empty braces",position:R});try{C.push(g(E.substring(R+1,D)))}catch(P){throw P.prototype===e.prototype?new e({templateText:E,message:P.options.message,position:R+P.options.position,details:P.options}):P}R=null,w=D+1}continue}throw new Error("reached unreachable code")}if(R!==null)throw new e({templateText:E,message:"unclosed brace",position:R});return w<E.length&&C.push(new d(E.substr(w))),new y(E,C)}return v}(),p=function(){function g(T){return JSON&&JSON.stringify?JSON.stringify(T):T}function v(T){if(!u(T))return!0;if(r.isString(T))return T==="";if(r.isNumber(T)||r.isBoolean(T))return!1;if(r.isArray(T))return T.length===0;for(var te in T)if(T.hasOwnProperty(te))return!1;return!0}function E(T){var te=[],ee;for(ee in T)T.hasOwnProperty(ee)&&te.push({name:ee,value:T[ee]});return te}function D(T,te,ee){this.templateText=T,this.operator=te,this.varspecs=ee}D.prototype.toString=function(){return this.templateText};function O(T,te,ee){var Y="";if(ee=ee.toString(),te.named){if(Y+=s.encodeLiteral(T.varname),ee==="")return Y+=te.ifEmpty,Y;Y+="="}return T.maxLength!==null&&(ee=ee.substr(0,T.maxLength)),Y+=te.encode(ee),Y}function C(T){return u(T.value)}function R(T,te,ee){var Y=[],x="";if(te.named){if(x+=s.encodeLiteral(T.varname),v(ee))return x+=te.ifEmpty,x;x+="="}return r.isArray(ee)?(Y=ee,Y=r.filter(Y,u),Y=r.map(Y,te.encode),x+=r.join(Y,",")):(Y=E(ee),Y=r.filter(Y,C),Y=r.map(Y,function(H){return te.encode(H.name)+","+te.encode(H.value)}),x+=r.join(Y,",")),x}function w(T,te,ee){var Y=r.isArray(ee),x=[];return Y?(x=ee,x=r.filter(x,u),x=r.map(x,function(H){var se=s.encodeLiteral(T.varname);return v(H)?se+=te.ifEmpty:se+="="+te.encode(H),se})):(x=E(ee),x=r.filter(x,C),x=r.map(x,function(H){var se=s.encodeLiteral(H.name);return v(H.value)?se+=te.ifEmpty:se+="="+te.encode(H.value),se})),r.join(x,te.separator)}function P(T,te){var ee=[],Y="";return r.isArray(te)?(ee=te,ee=r.filter(ee,u),ee=r.map(ee,T.encode),Y+=r.join(ee,T.separator)):(ee=E(te),ee=r.filter(ee,function(x){return u(x.value)}),ee=r.map(ee,function(x){return T.encode(x.name)+"="+T.encode(x.value)}),Y+=r.join(ee,T.separator)),Y}return D.prototype.expand=function(T){var te=[],ee,Y,x,H,se=!1,Ne=this.operator;for(ee=0;ee<this.varspecs.length;ee+=1)if(Y=this.varspecs[ee],x=T[Y.varname],x!=null)if(Y.exploded&&(se=!0),H=r.isArray(x),typeof x=="string"||typeof x=="number"||typeof x=="boolean")te.push(O(Y,Ne,x));else{if(Y.maxLength&&u(x))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+g(x));Y.exploded?u(x)&&(Ne.named?te.push(w(Y,Ne,x)):te.push(P(Ne,x))):(Ne.named||!v(x))&&te.push(R(Y,Ne,x))}return te.length===0?"":Ne.first+r.join(te,Ne.separator)},D}(),y=function(){function g(v,E){this.templateText=v,this.expressions=E,r.deepFreeze(this)}return g.prototype.toString=function(){return this.templateText},g.prototype.expand=function(v){var E,D="";for(E=0;E<this.expressions.length;E+=1)D+=this.expressions[E].expand(v);return D},g.parse=f,g.UriTemplateError=e,g}();t(y)})(function(t){"use strict";typeof IN<"u"?IN.exports=t:typeof define=="function"?define([],function(){return t}):typeof window<"u"?window.UriTemplate=t:global.UriTemplate=t})});var Ez=_(d3=>{"use strict";Object.defineProperty(d3,"__esModule",{value:!0});d3.ActorRdfMetadataExtractHydraControls=void 0;var bwe=Bu(),gwe=Tz(),Uu=class extends bwe.ActorRdfMetadataExtract{constructor(e){super(e),this.parsedUriTemplateCache={}}async test(e){return!0}getLinks(e,r){return Object.fromEntries(Uu.LINK_TYPES.map(n=>{let i=r[n]||r[`${n}Page`],a=i&&i[e];return[n,a&&a.length>0?a[0]:null]}))}parseUriTemplateCached(e){let r=this.parsedUriTemplateCache[e];return r||(this.parsedUriTemplateCache[e]=(0,gwe.parse)(e))}getSearchForms(e){let r=e.search,n=[];if(r)for(let i in r)for(let a of r[i]){let s=(e.template||{})[a]||[];if(s.length!==1)throw new Error(`Expected 1 hydra:template for ${a}`);let o=s[0],u=this.parseUriTemplateCached(o),d=Object.fromEntries(((e.mapping||{})[a]||[]).map(p=>{let y=((e.variable||{})[p]||[])[0],g=((e.property||{})[p]||[])[0];if(!y)throw new Error(`Expected a hydra:variable for ${p}`);if(!g)throw new Error(`Expected a hydra:property for ${p}`);return[g,y]})),f=p=>u.expand(Object.fromEntries(Object.keys(p).map(y=>[d[y],p[y]])));n.push({dataset:i,template:o,mappings:d,getUri:f})}return{values:n}}getHydraProperties(e){return new Promise((r,n)=>{e.on("error",n);let i={};e.on("data",a=>{if(a.predicate.value.startsWith(Uu.HYDRA)){let s=a.predicate.value.slice(Uu.HYDRA.length),o=i[s]||(i[s]={});(o[a.subject.value]||(o[a.subject.value]=[])).push(a.object.value)}}),e.on("end",()=>r(i))})}async run(e){let r={},n=await this.getHydraProperties(e.metadata);return Object.assign(r,this.getLinks(e.url,n)),r.searchForms=this.getSearchForms(n),{metadata:r}}};d3.ActorRdfMetadataExtractHydraControls=Uu;Uu.HYDRA="http://www.w3.org/ns/hydra/core#";Uu.LINK_TYPES=["first","next","previous","last"]});var Oz=_(Bf=>{"use strict";var mwe=Bf&&Bf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vwe=Bf&&Bf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&mwe(e,t,r)};Object.defineProperty(Bf,"__esModule",{value:!0});vwe(Ez(),Bf)});var Rz=_(f3=>{"use strict";Object.defineProperty(f3,"__esModule",{value:!0});f3.ActorRdfMetadataExtractHydraCount=void 0;var wwe=Bu(),PN=class extends wwe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}run(e){return new Promise((r,n)=>{e.metadata.on("error",n),e.metadata.on("data",i=>{this.predicates.includes(i.predicate.value)&&r({metadata:{cardinality:{type:"estimate",value:Number.parseInt(i.object.value,10)}}})}),e.metadata.on("end",()=>{r({metadata:{cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY}}})})})}};f3.ActorRdfMetadataExtractHydraCount=PN});var Az=_(Uf=>{"use strict";var Swe=Uf&&Uf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Twe=Uf&&Uf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Swe(e,t,r)};Object.defineProperty(Uf,"__esModule",{value:!0});Twe(Rz(),Uf)});var xz=_(h3=>{"use strict";Object.defineProperty(h3,"__esModule",{value:!0});h3.ActorRdfMetadataExtractHydraPagesize=void 0;var Ewe=Bu(),NN=class extends Ewe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return new Promise((r,n)=>{e.metadata.on("error",n),e.metadata.on("data",i=>{this.predicates.includes(i.predicate.value)&&r({metadata:{pageSize:Number.parseInt(i.object.value,10)}})}),e.metadata.on("end",()=>{r({metadata:{}})})})}};h3.ActorRdfMetadataExtractHydraPagesize=NN});var Iz=_(Vf=>{"use strict";var Owe=Vf&&Vf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rwe=Vf&&Vf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Owe(e,t,r)};Object.defineProperty(Vf,"__esModule",{value:!0});Rwe(xz(),Vf)});var Pz=_(p3=>{"use strict";Object.defineProperty(p3,"__esModule",{value:!0});p3.ActorRdfMetadataExtractRequestTime=void 0;var Awe=Bu(),DN=class extends Awe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return{metadata:{requestTime:e.requestTime}}}};p3.ActorRdfMetadataExtractRequestTime=DN});var Nz=_(kf=>{"use strict";var xwe=kf&&kf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Iwe=kf&&kf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xwe(e,t,r)};Object.defineProperty(kf,"__esModule",{value:!0});Iwe(Pz(),kf)});var Dz=_(_3=>{"use strict";Object.defineProperty(_3,"__esModule",{value:!0});_3.ActorRdfMetadataExtractAllowHttpMethods=void 0;var Pwe=Bu(),CN=class extends Pwe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){let r={};return e.headers?.get("allow")&&(r.allowHttpMethods=e.headers.get("allow")?.split(/, */u)),{metadata:r}}};_3.ActorRdfMetadataExtractAllowHttpMethods=CN});var Cz=_(Hf=>{"use strict";var Nwe=Hf&&Hf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dwe=Hf&&Hf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Nwe(e,t,r)};Object.defineProperty(Hf,"__esModule",{value:!0});Dwe(Dz(),Hf)});var jz=_(y3=>{"use strict";Object.defineProperty(y3,"__esModule",{value:!0});y3.ActorRdfMetadataExtractPutAccepted=void 0;var Cwe=Bu(),jN=class extends Cwe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){let r={};return e.headers?.get("accept-put")&&(r.putAccepted=e.headers.get("accept-put")?.split(/, */u)),{metadata:r}}};y3.ActorRdfMetadataExtractPutAccepted=jN});var qz=_(Gf=>{"use strict";var jwe=Gf&&Gf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qwe=Gf&&Gf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jwe(e,t,r)};Object.defineProperty(Gf,"__esModule",{value:!0});qwe(jz(),Gf)});var Lz=_(b3=>{"use strict";Object.defineProperty(b3,"__esModule",{value:!0});b3.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;var Lwe=Bu(),qN=class extends Lwe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){let r={};return(e.headers?.get("accept-patch")?.includes("application/sparql-update")||e.headers?.get("ms-author-via")?.includes("SPARQL"))&&(r.patchSparqlUpdate=!0),{metadata:r}}};b3.ActorRdfMetadataExtractPatchSparqlUpdate=qN});var Mz=_(Qf=>{"use strict";var Mwe=Qf&&Qf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fwe=Qf&&Qf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Mwe(e,t,r)};Object.defineProperty(Qf,"__esModule",{value:!0});Fwe(Lz(),Qf)});var Fz=_(g3=>{"use strict";Object.defineProperty(g3,"__esModule",{value:!0});g3.ActorRdfMetadataExtractSparqlService=void 0;var Bwe=Bu(),Uwe=is(),LN=class extends Bwe.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return new Promise((r,n)=>{e.metadata.on("error",n);let i={};e.metadata.on("data",a=>{a.predicate.value==="http://www.w3.org/ns/sparql-service-description#endpoint"&&(a.subject.termType==="BlankNode"||a.subject.value===e.url)?(i.sparqlService=a.object.termType==="Literal"?(0,Uwe.resolve)(a.object.value,e.url):a.object.value,this.inferHttpsEndpoint&&e.url.startsWith("https")&&!i.sparqlService.startsWith("https")&&(i.sparqlService=i.sparqlService.replace("http:","https:"))):a.predicate.value==="http://www.w3.org/ns/sparql-service-description#defaultGraph"&&(i.defaultGraph=a.object.value)}),e.metadata.on("end",()=>{r({metadata:i})})})}};g3.ActorRdfMetadataExtractSparqlService=LN});var Bz=_(zf=>{"use strict";var Vwe=zf&&zf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kwe=zf&&zf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Vwe(e,t,r)};Object.defineProperty(zf,"__esModule",{value:!0});kwe(Fz(),zf)});var Uz=_(m3=>{"use strict";Object.defineProperty(m3,"__esModule",{value:!0});m3.ActorRdfParseHtml=void 0;var Hwe=a_(),Gwe=Jw(),Qwe=qr(),MN=class extends Hwe.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){let i=new Qwe.Readable({objectMode:!0});return i._read=async()=>{i._read=()=>{};let a=1;function s(f){i.emit("data",f)}function o(f){i.emit("error",f)}function u(){--a===0&&i.push(null)}let d={baseIRI:e.metadata?.baseIRI??"",context:n,emit:s,end:u,error:o,headers:e.headers};Promise.all(this.busRdfParseHtml.publish(d)).then(async f=>{a+=f.length;let p=[];for(let g of f){let{htmlParseListener:v}=await g.actor.run(d);p.push(v)}let y=new Gwe.Parser({onclosetag(){try{for(let g of p)g.onTagClose()}catch(g){o(g)}},onend(){try{for(let g of p)g.onEnd()}catch(g){o(g)}u()},onopentag(g,v){try{for(let E of p)E.onTagOpen(g,v)}catch(E){o(E)}},ontext(g){try{for(let v of p)v.onText(g)}catch(v){o(v)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1});e.data.on("error",o).on("data",g=>y.write(g.toString())).on("end",()=>y.end())}).catch(o)},{data:i}}};m3.ActorRdfParseHtml=MN});var Vz=_(Wf=>{"use strict";var zwe=Wf&&Wf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wwe=Wf&&Wf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zwe(e,t,r)};Object.defineProperty(Wf,"__esModule",{value:!0});Wwe(Uz(),Wf)});var kz=_(v3=>{"use strict";Object.defineProperty(v3,"__esModule",{value:!0});v3.ActorRdfParseHtml=void 0;var Kwe=Je(),FN=class extends Kwe.Actor{constructor(e){super(e)}};v3.ActorRdfParseHtml=FN});var w3=_(Kf=>{"use strict";var Xwe=Kf&&Kf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$we=Kf&&Kf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Xwe(e,t,r)};Object.defineProperty(Kf,"__esModule",{value:!0});$we(kz(),Kf)});var Gz=_(Hz=>{"use strict";Object.defineProperty(Hz,"__esModule",{value:!0})});var UN=_(S3=>{"use strict";Object.defineProperty(S3,"__esModule",{value:!0});S3.ItemPropertyHandlerContent=void 0;var BN=class{canHandle(e,r){return"content"in r}getObject(e,r,n){return r.createLiteral(e.content,n)}};S3.ItemPropertyHandlerContent=BN});var Bb=_(T3=>{"use strict";Object.defineProperty(T3,"__esModule",{value:!0});T3.Util=void 0;var Jwe=Bt(),Qz=is(),bs=class{constructor(e,r){this.dataFactory=e||new Jwe.DataFactory,this.baseIRI=r||""}static isValidIri(e){return bs.IRI_REGEX.test(e)}createVocabIris(e,r,n){return e.split(/\s+/u).filter(i=>!!i).map(i=>{if(!bs.isValidIri(i)){if(!n)return;i=`${r.vocab||`${this.baseIRI}#`}${i}`}return this.dataFactory.namedNode(i)}).filter(i=>!!i)}getVocabularyExpansionType(e,r,n){let i=e.split(/\s+/u);if(i.includes("subPropertyOf")||i.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${bs.RDF}type`)];if(r.vocab&&r.vocab in n&&n[r.vocab].properties){let a=[];for(let[s,o]of Object.entries(n[r.vocab].properties))i.includes(s)&&(a=[...Object.values(o).map(u=>this.dataFactory.namedNode(u))]);return a}return[]}createSubject(e){if(!bs.isValidIri(e))try{e=(0,Qz.resolve)(e,this.baseIRI)}catch{return}return this.dataFactory.namedNode(e)}createLiteral(e,r){return this.dataFactory.literal(e,r.language)}deriveVocab(e,r){let n;for(let i in r)if(e.startsWith(i)){n=i,n.endsWith("/")||(n+="#");break}if(!n){let i=e.indexOf("#");i>0?n=e.slice(0,i+1):n=(0,Qz.resolve)(".",e)}return n}};T3.Util=bs;bs.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";bs.XSD="http://www.w3.org/2001/XMLSchema#";bs.RDFA="http://www.w3.org/ns/rdfa#";bs.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u});var kN=_(E3=>{"use strict";Object.defineProperty(E3,"__esModule",{value:!0});E3.ItemPropertyHandlerNumber=void 0;var zz=Bb(),VN=class{constructor(e,r){this.tagName=e,this.attributeName=r}canHandle(e,r){return this.tagName===e&&this.attributeName in r}getObject(e,r,n){let i=e[this.attributeName],a;return!Number.isNaN(Number.parseInt(i,10))&&!i.includes(".")?a=`${zz.Util.XSD}integer`:Number.isNaN(Number.parseFloat(i))||(a=`${zz.Util.XSD}double`),r.dataFactory.literal(i,a&&r.dataFactory.namedNode(a))}};E3.ItemPropertyHandlerNumber=VN});var HN=_(O3=>{"use strict";Object.defineProperty(O3,"__esModule",{value:!0});O3.ItemPropertyHandlerTime=void 0;var Ywe=Bb(),T_=class{canHandle(e,r){return e==="time"&&"datetime"in r}getObject(e,r,n){let i=e.datetime,a;for(let s of T_.TIME_REGEXES)if(s.regex.test(i)){a=r.dataFactory.namedNode(Ywe.Util.XSD+s.type);break}return r.dataFactory.literal(i,a)}};O3.ItemPropertyHandlerTime=T_;T_.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}]});var QN=_(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.ItemPropertyHandlerUrl=void 0;var Zwe=is(),GN=class{constructor(e,r){this.tagName=e,this.attributeName=r}canHandle(e,r){return this.tagName===e&&this.attributeName in r}getObject(e,r,n){return r.dataFactory.namedNode((0,Zwe.resolve)(e[this.attributeName],r.baseIRI))}};R3.ItemPropertyHandlerUrl=GN});var Kz=_(Wz=>{"use strict";Object.defineProperty(Wz,"__esModule",{value:!0})});var $z=_(Xz=>{"use strict";Object.defineProperty(Xz,"__esModule",{value:!0})});var Yz=_(Jz=>{"use strict";Object.defineProperty(Jz,"__esModule",{value:!0})});var Zz=_((P5e,e3e)=>{e3e.exports={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}}});var nW=_(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});A3.MicrodataRdfParser=void 0;var t3e=Jw(),eW=qr(),r3e=UN(),tW=kN(),n3e=HN(),Xs=QN(),rW=Bb(),i3e=Zz(),Xf=class extends eW.Transform{constructor(e){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},e=e||{},this.options=e,this.util=new rW.Util(e.dataFactory,e.baseIRI),this.defaultGraph=e.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=e.htmlParseListener,this.vocabRegistry=e.vocabRegistry||i3e,this.parser=this.initializeParser(!!e.xmlMode)}import(e){let r=new eW.PassThrough({readableObjectMode:!0});e.on("error",i=>n.emit("error",i)),e.on("data",i=>r.push(i)),e.on("end",()=>r.push(null));let n=r.pipe(new Xf(this.options));return n}_transform(e,r,n){this.parser.write(e.toString()),n()}_flush(e){this.parser.end(),e()}getItemScope(e){let r=this.itemScopeStack.length-(e?2:1);for(;r>0&&!this.itemScopeStack[r];)r--;return this.itemScopeStack[r]}getDepth(){return this.itemScopeStack.length}onTagOpen(e,r){if(!this.isEmittingReferences){if("id"in r){let i=r.id;this.pendingItemRefsRangeCollecting[i]={events:[],counter:0,ids:[]}}for(let i of Object.values(this.pendingItemRefsRangeCollecting))i.counter++,i.events.push({type:"open",name:e,attributes:r})}this.textBufferStack.push(void 0);let n;if("itemscope"in r){let i;if(this.emittingReferencesItemScopeIdGenerator)i=this.emittingReferencesItemScopeIdGenerator();else{i="itemid"in r&&this.util.createSubject(r.itemid)||this.util.dataFactory.blankNode();for(let s of Object.values(this.pendingItemRefsRangeCollecting))s.ids.push(i)}n={subject:i},this.isEmittingReferences&&(n.blockEmission=!0);let a=this.getItemScope();a&&a.vocab&&(n.vocab=a.vocab),this.itemScopeStack.push(n)}else n=this.getItemScope(),this.itemScopeStack.push(void 0);if(n){if("itemtype"in r)for(let i of this.util.createVocabIris(r.itemtype,n,!1))n.vocab||(n.vocab=this.util.deriveVocab(i.value,this.vocabRegistry)),n.blockEmission||this.emitTriple(n.subject,this.util.dataFactory.namedNode(`${rW.Util.RDF}type`),i);if("lang"in r&&(n.language=r.lang),"xml:lang"in r&&(n.language=r["xml:lang"]),"itemscope"in r&&!this.isEmittingReferences&&"itemref"in r)for(let i of r.itemref.split(/\s+/u))i in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[i]=[]),this.pendingItemRefsDomain[i].push(n),this.tryToEmitReferences(i,n)}"itemprop"in r&&this.handleItemProperties(r.itemprop,!1,n,e,r),"itemprop-reverse"in r&&this.handleItemProperties(r["itemprop-reverse"],!0,n,e,r)}onText(e){if(!this.isEmittingReferences)for(let r of Object.values(this.pendingItemRefsRangeCollecting))r.events.push({type:"text",data:e});for(let r of this.textBufferStack)r&&r.push(e)}onTagClose(){if(!this.isEmittingReferences)for(let[r,n]of Object.entries(this.pendingItemRefsRangeCollecting))n.counter--,n.events.push({type:"close"}),n.counter===0&&(this.pendingItemRefsRangeFinalized[r]=n,delete this.pendingItemRefsRangeCollecting[r],this.tryToEmitReferences(r));let e=this.getItemScope(!0);if(e){let r=this.getDepth();if(e.predicates&&r in e.predicates)for(let[n,i]of Object.entries(e.predicates[r])){let a=this.util.createLiteral(this.textBufferStack[r].join(""),e);this.emitPredicateTriples(e,i,a,n==="reverse"),delete e.predicates[r][n]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(e){return new t3e.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(r){this.emit("error",r)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(r){this.emit("error",r)}},onopentag:(r,n)=>{try{this.onTagOpen(r,n),this.htmlParseListener&&this.htmlParseListener.onTagOpen(r,n)}catch(i){this.emit("error",i)}},ontext:r=>{try{this.onText(r),this.htmlParseListener&&this.htmlParseListener.onText(r)}catch(n){this.emit("error",n)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:e})}handleItemProperties(e,r,n,i,a){let s=this.getItemScope(!0);if(s){let o=this.getDepth(),u=this.util.createVocabIris(e,s,!0);s.predicates||(s.predicates={}),s.predicates[o]||(s.predicates[o]={});let d=r?"reverse":"forward";s.predicates[o][d]=u;for(let f of this.util.getVocabularyExpansionType(e,s,this.vocabRegistry))u.push(f);if(n&&"itemscope"in a)this.emitPredicateTriples(s,u,n.subject,r),delete s.predicates[o][d];else for(let f of Xf.ITEM_PROPERTY_HANDLERS)if(f.canHandle(i,a)){let p=f.getObject(a,this.util,s);this.emitPredicateTriples(s,u,p,r),delete s.predicates[o][d]}s.predicates[o][d]&&(this.textBufferStack[o]=[])}}emitPredicateTriples(e,r,n,i){if(!e.blockEmission)for(let a of r)i?n.termType!=="Literal"&&this.emitTriple(n,a,e.subject):this.emitTriple(e.subject,a,n)}emitTriple(e,r,n){this.push(this.util.dataFactory.quad(e,r,n,this.defaultGraph))}tryToEmitReferences(e,r){let n=this.pendingItemRefsRangeFinalized[e];if(n){let i;if(r){i=[r];let a=this.pendingItemRefsDomain[e].indexOf(r);this.pendingItemRefsDomain[e].splice(a,1)}else i=this.pendingItemRefsDomain[e],delete this.pendingItemRefsDomain[e];if(i){let a=this.itemScopeStack,s=this.textBufferStack;this.isEmittingReferences=!0;for(let o of i){this.itemScopeStack=[o],this.textBufferStack=[void 0];let u=[...n.ids];this.emittingReferencesItemScopeIdGenerator=()=>u.shift();for(let d of n.events)switch(d.type){case"open":this.onTagOpen(d.name,d.attributes);break;case"text":this.onText(d.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=a,this.textBufferStack=s,this.isEmittingReferences=!1}}}};A3.MicrodataRdfParser=Xf;Xf.ITEM_PROPERTY_HANDLERS=[new r3e.ItemPropertyHandlerContent,new Xs.ItemPropertyHandlerUrl("a","href"),new Xs.ItemPropertyHandlerUrl("area","href"),new Xs.ItemPropertyHandlerUrl("audio","src"),new Xs.ItemPropertyHandlerUrl("embed","src"),new Xs.ItemPropertyHandlerUrl("iframe","src"),new Xs.ItemPropertyHandlerUrl("img","src"),new Xs.ItemPropertyHandlerUrl("link","href"),new Xs.ItemPropertyHandlerUrl("object","data"),new Xs.ItemPropertyHandlerUrl("source","src"),new Xs.ItemPropertyHandlerUrl("track","src"),new Xs.ItemPropertyHandlerUrl("video","src"),new tW.ItemPropertyHandlerNumber("data","value"),new tW.ItemPropertyHandlerNumber("meter","value"),new n3e.ItemPropertyHandlerTime]});var iW=_(_i=>{"use strict";var a3e=_i&&_i.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Go=_i&&_i.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&a3e(e,t,r)};Object.defineProperty(_i,"__esModule",{value:!0});Go(Gz(),_i);Go(UN(),_i);Go(kN(),_i);Go(HN(),_i);Go(QN(),_i);Go(Kz(),_i);Go($z(),_i);Go(Yz(),_i);Go(nW(),_i);Go(Bb(),_i)});var aW=_(x3=>{"use strict";Object.defineProperty(x3,"__esModule",{value:!0});x3.ActorRdfParseHtmlMicrodata=void 0;var s3e=w3(),o3e=iW(),zN=class extends s3e.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){let n=(e.headers?e.headers.get("content-type"):null)?.includes("xml"),i=new o3e.MicrodataRdfParser({baseIRI:e.baseIRI,xmlMode:n});i.on("error",e.error),i.on("data",e.emit);let a=i.onEnd;return i.onEnd=()=>{a.call(i),e.end()},{htmlParseListener:i}}};x3.ActorRdfParseHtmlMicrodata=zN});var sW=_($f=>{"use strict";var u3e=$f&&$f.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),c3e=$f&&$f.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&u3e(e,t,r)};Object.defineProperty($f,"__esModule",{value:!0});c3e(aW(),$f)});var oW=_(I3=>{"use strict";Object.defineProperty(I3,"__esModule",{value:!0});I3.ActorRdfParseHtmlRdfa=void 0;var l3e=w3(),d3e=mN(),WN=class extends l3e.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){let r=e.headers?e.headers.get("content-type"):null,n=(e.headers&&e.headers.get("content-language"))??void 0,i=r&&r.includes("xml")?"xhtml":"html",a=new d3e.RdfaParser({baseIRI:e.baseIRI,profile:i,language:n});a.on("error",e.error),a.on("data",e.emit);let s=a.onEnd;return a.onEnd=()=>{s.call(a),e.end()},{htmlParseListener:a}}};I3.ActorRdfParseHtmlRdfa=WN});var uW=_(Jf=>{"use strict";var f3e=Jf&&Jf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),h3e=Jf&&Jf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&f3e(e,t,r)};Object.defineProperty(Jf,"__esModule",{value:!0});h3e(oW(),Jf)});var XN=_(P3=>{"use strict";Object.defineProperty(P3,"__esModule",{value:!0});P3.ActorRdfResolveQuadPattern=void 0;var p3e=Je(),KN=class extends p3e.Actor{constructor(e){super(e)}};P3.ActorRdfResolveQuadPattern=KN});var cW=_(N3=>{"use strict";Object.defineProperty(N3,"__esModule",{value:!0});N3.ActorRdfResolveQuadPatternSource=void 0;var _3e=XN(),$N=class extends _3e.ActorRdfResolveQuadPattern{constructor(e){super(e)}async test(e){return!0}async run(e){let r=await this.getSource(e.context,e.pattern);return await this.getOutput(r,e.pattern,e.context)}async getOutput(e,r,n){return{data:e.match(r.subject,r.predicate,r.object,r.graph)}}};N3.ActorRdfResolveQuadPatternSource=$N});var dW=_(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.hasContextSingleSourceOfType=on.hasContextSingleSource=on.getContextSourceUrl=on.getContextSourceFirst=on.getContextSource=on.getContextSources=on.getDataSourceContext=on.getDataSourceValue=on.getDataSourceType=on.isDataSourceRawType=void 0;var Ub=Cr();function JN(t){return typeof t=="string"||"match"in t}on.isDataSourceRawType=JN;function lW(t){return typeof t=="string"?"":"match"in t?"rdfjsSource":t.type}on.getDataSourceType=lW;function YN(t){return JN(t)?t:t.value}on.getDataSourceValue=YN;function y3e(t,e){return typeof t=="string"||"match"in t||!t.context?e:e.merge(t.context)}on.getDataSourceContext=y3e;function b3e(t){return t.get(Ub.KeysRdfResolveQuadPattern.sources)}on.getContextSources=b3e;function ZN(t){return t.get(Ub.KeysRdfResolveQuadPattern.source)}on.getContextSource=ZN;function g3e(t){if(t.has(Ub.KeysRdfResolveQuadPattern.source))return t.get(Ub.KeysRdfResolveQuadPattern.source);let e=t.get(Ub.KeysRdfResolveQuadPattern.sources);if(e?.length===1)return e[0]}on.getContextSourceFirst=g3e;function m3e(t){if(t){let e=YN(t);if(typeof e=="string"){let r=e.indexOf("#");return r>=0&&(e=e.slice(0,r)),e}}}on.getContextSourceUrl=m3e;function v3e(t){let e=ZN(t);return Boolean(e&&(JN(e)||e.value))}on.hasContextSingleSource=v3e;function w3e(t,e){let r=ZN(e);return Boolean(r&&lW(r)===t&&YN(r))}on.hasContextSingleSourceOfType=w3e});var E_=_(Vu=>{"use strict";var S3e=Vu&&Vu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),e6=Vu&&Vu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&S3e(e,t,r)};Object.defineProperty(Vu,"__esModule",{value:!0});e6(XN(),Vu);e6(cW(),Vu);e6(dW(),Vu)});var t6=_(D3=>{"use strict";Object.defineProperty(D3,"__esModule",{value:!0});D3.RdfJsQuadSource=void 0;var T3e=er(),yi=class{constructor(e){this.source=e}static nullifyVariables(e){return!e||e.termType==="Variable"?void 0:e}match(e,r,n,i){let a=this.source.match(yi.nullifyVariables(e),yi.nullifyVariables(r),yi.nullifyVariables(n),yi.nullifyVariables(i)),s=(0,T3e.wrap)(a,{autoStart:!1});return this.setMetadata(s,e,r,n,i).catch(o=>s.destroy(o)),s}async setMetadata(e,r,n,i,a){let s;if(this.source.countQuads)s=await this.source.countQuads(yi.nullifyVariables(r),yi.nullifyVariables(n),yi.nullifyVariables(i),yi.nullifyVariables(a));else{let o=0;s=await new Promise((u,d)=>{let f=this.source.match(yi.nullifyVariables(r),yi.nullifyVariables(n),yi.nullifyVariables(i),yi.nullifyVariables(a));f.on("error",d),f.on("end",()=>u(o)),f.on("data",()=>o++)})}e.setProperty("metadata",{cardinality:{type:"exact",value:s},canContainUndefs:!1})}};D3.RdfJsQuadSource=yi});var fW=_(j3=>{"use strict";Object.defineProperty(j3,"__esModule",{value:!0});j3.ActorRdfResolveQuadPatternRdfJsSource=void 0;var C3=E_(),E3e=t6(),r6=class extends C3.ActorRdfResolveQuadPatternSource{constructor(e){super(e)}async test(e){if(!(0,C3.hasContextSingleSourceOfType)("rdfjsSource",e.context))throw new Error(`${this.name} requires a single source with an rdfjsSource to be present in the context.`);let r=(0,C3.getContextSource)(e.context);if(!r||typeof r=="string"||!("match"in r)&&!r.value.match)throw new Error(`${this.name} received an invalid rdfjsSource.`);return!0}async getSource(e){let r=(0,C3.getContextSource)(e);return new E3e.RdfJsQuadSource("match"in r?r:r.value)}};j3.ActorRdfResolveQuadPatternRdfJsSource=r6});var pW=_(hW=>{"use strict";Object.defineProperty(hW,"__esModule",{value:!0})});var i6=_(ku=>{"use strict";var O3e=ku&&ku.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),n6=ku&&ku.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&O3e(e,t,r)};Object.defineProperty(ku,"__esModule",{value:!0});n6(fW(),ku);n6(pW(),ku);n6(t6(),ku)});var _W=_(q3=>{"use strict";Object.defineProperty(q3,"__esModule",{value:!0});q3.ActorRdfResolveHypermedia=void 0;var R3e=Je(),a6=class extends R3e.Actor{constructor(e,r){super(e),this.sourceType=r}async test(e){if(e.forceSourceType&&this.sourceType!==e.forceSourceType)throw new Error(`Actor ${this.name} is not able to handle source type ${e.forceSourceType}.`);return this.testMetadata(e)}};q3.ActorRdfResolveHypermedia=a6});var L3=_(Yf=>{"use strict";var A3e=Yf&&Yf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),x3e=Yf&&Yf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&A3e(e,t,r)};Object.defineProperty(Yf,"__esModule",{value:!0});x3e(_W(),Yf)});var yW=_(M3=>{"use strict";Object.defineProperty(M3,"__esModule",{value:!0});M3.storeStream=void 0;var I3e=gb();function P3e(t){let e=new I3e.Store;return new Promise((r,n)=>e.import(t).on("error",n).once("end",()=>r(e)))}M3.storeStream=P3e});var bW=_(F3=>{"use strict";Object.defineProperty(F3,"__esModule",{value:!0});F3.ActorRdfResolveHypermediaNone=void 0;var N3e=i6(),D3e=L3(),C3e=yW(),s6=class extends D3e.ActorRdfResolveHypermedia{constructor(e){super(e,"file")}async testMetadata(e){return{filterFactor:0}}async run(e){return this.logInfo(e.context,`Identified as file source: ${e.url}`),{source:new N3e.RdfJsQuadSource(await(0,C3e.storeStream)(e.quads))}}};F3.ActorRdfResolveHypermediaNone=s6});var gW=_(Zf=>{"use strict";var j3e=Zf&&Zf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q3e=Zf&&Zf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&j3e(e,t,r)};Object.defineProperty(Zf,"__esModule",{value:!0});q3e(bW(),Zf)});var mW=_(B3=>{"use strict";Object.defineProperty(B3,"__esModule",{value:!0});B3.ActorRdfResolveHypermediaLinks=void 0;var L3e=Je(),o6=class extends L3e.Actor{constructor(e){super(e)}};B3.ActorRdfResolveHypermediaLinks=o6});var vW=_(eh=>{"use strict";var M3e=eh&&eh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F3e=eh&&eh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&M3e(e,t,r)};Object.defineProperty(eh,"__esModule",{value:!0});F3e(mW(),eh)});var wW=_(U3=>{"use strict";Object.defineProperty(U3,"__esModule",{value:!0});U3.ActorRdfResolveHypermediaLinksNext=void 0;var B3e=vW(),u6=class extends B3e.ActorRdfResolveHypermediaLinks{constructor(e){super(e)}async test(e){if(!e.metadata.next)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(e){return{links:[{url:e.metadata.next}]}}};U3.ActorRdfResolveHypermediaLinksNext=u6});var SW=_(th=>{"use strict";var U3e=th&&th.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),V3e=th&&th.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&U3e(e,t,r)};Object.defineProperty(th,"__esModule",{value:!0});V3e(wW(),th)});var TW=_(V3=>{"use strict";Object.defineProperty(V3,"__esModule",{value:!0});V3.ActorRdfResolveHypermediaLinksQueue=void 0;var k3e=Je(),c6=class extends k3e.Actor{constructor(e){super(e)}};V3.ActorRdfResolveHypermediaLinksQueue=c6});var OW=_(EW=>{"use strict";Object.defineProperty(EW,"__esModule",{value:!0})});var RW=_(k3=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});k3.LinkQueueWrapper=void 0;var l6=class{constructor(e){this.linkQueue=e}push(e,r){return this.linkQueue.push(e,r)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}};k3.LinkQueueWrapper=l6});var AW=_(Hu=>{"use strict";var H3e=Hu&&Hu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),d6=Hu&&Hu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&H3e(e,t,r)};Object.defineProperty(Hu,"__esModule",{value:!0});d6(TW(),Hu);d6(OW(),Hu);d6(RW(),Hu)});var h6=_(H3=>{"use strict";Object.defineProperty(H3,"__esModule",{value:!0});H3.LinkQueueFifo=void 0;var f6=class{constructor(){this.links=[]}push(e){return this.links.push(e),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}};H3.LinkQueueFifo=f6});var xW=_(G3=>{"use strict";Object.defineProperty(G3,"__esModule",{value:!0});G3.ActorRdfResolveHypermediaLinksQueueFifo=void 0;var G3e=AW(),Q3e=h6(),p6=class extends G3e.ActorRdfResolveHypermediaLinksQueue{constructor(e){super(e)}async test(e){return!0}async run(e){return{linkQueue:new Q3e.LinkQueueFifo}}};G3.ActorRdfResolveHypermediaLinksQueueFifo=p6});var PW=_(nl=>{"use strict";var z3e=nl&&nl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IW=nl&&nl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&z3e(e,t,r)};Object.defineProperty(nl,"__esModule",{value:!0});IW(xW(),nl);IW(h6(),nl)});var y6=_(Q3=>{"use strict";Object.defineProperty(Q3,"__esModule",{value:!0});Q3.ActorRdfUpdateQuads=void 0;var W3e=Je(),_6=class extends W3e.Actor{constructor(e){super(e)}};Q3.ActorRdfUpdateQuads=_6});var g6=_(W3=>{"use strict";Object.defineProperty(W3,"__esModule",{value:!0});W3.FederatedQuadSource=void 0;var K3e=dt(),b6=E_(),z3=Cr(),X3e=Xg(),NW=er(),$3e=Bt(),DW=vo(),J3e=jt(),CW=new $3e.DataFactory,hn=class{constructor(e,r,n,i){if(this.mediatorResolveQuadPattern=e,this.sources=r.get(z3.KeysRdfResolveQuadPattern.sources),this.contextDefault=r.delete(z3.KeysRdfResolveQuadPattern.sources),this.emptyPatterns=n,this.sourceIds=r.get(z3.KeysRdfResolveQuadPattern.sourceIds)??new Map,this.skipEmptyPatterns=i,this.algebraFactory=new J3e.Factory,this.skipEmptyPatterns)for(let a of this.sources)this.emptyPatterns.has(a)||this.emptyPatterns.set(a,[])}static isTermBound(e){return e.termType!=="Variable"}static isSubPatternOf(e,r){return(!hn.isTermBound(r.subject)||r.subject.equals(e.subject))&&(!hn.isTermBound(r.predicate)||r.predicate.equals(e.predicate))&&(!hn.isTermBound(r.object)||r.object.equals(e.object))&&(!hn.isTermBound(r.graph)||r.graph.equals(e.graph))}static skolemizeTerm(e,r){return e.termType==="BlankNode"?new X3e.BlankNodeScoped(`bc_${r}_${e.value}`,CW.namedNode(`${hn.SKOLEM_PREFIX}${r}:${e.value}`)):e}static skolemizeQuad(e,r){return(0,DW.mapTerms)(e,n=>hn.skolemizeTerm(n,r))}static deskolemizeTerm(e,r){if(e.termType==="BlankNode"&&"skolemized"in e&&(e=e.skolemized),e.termType==="NamedNode"&&e.value.startsWith(hn.SKOLEM_PREFIX)){let n=e.value.indexOf(":",hn.SKOLEM_PREFIX.length);if(e.value.slice(hn.SKOLEM_PREFIX.length,n)===r){let a=e.value.slice(n+1,e.value.length);return CW.blankNode(a)}return null}return e}static deskolemizeQuad(e,r){return(0,DW.mapTerms)(e,n=>{let i=hn.deskolemizeTerm(n,r);return i||n})}isSourceEmpty(e,r){if(!this.skipEmptyPatterns)return!1;let n=this.emptyPatterns.get(e);if(n){for(let i of n)if(hn.isSubPatternOf(r,i))return!0}return!1}getSourceId(e){let r=this.sourceIds.get(e);return r===void 0&&(r=`${this.sourceIds.size}`,this.sourceIds.set(e,r)),r}match(e,r,n,i){let a={cardinality:{type:"exact",value:0},canContainUndefs:!1},s=this.sources.length,o=(f,p,y,g)=>{this.skipEmptyPatterns&&!f&&y&&!this.isSourceEmpty(p,y)&&this.emptyPatterns.get(p).push(y),s||(g&&this.sources.length===1?d.setProperty("metadata",g):d.setProperty("metadata",a))},u=Promise.all(this.sources.map(async f=>{let p=this.getSourceId(f),y=hn.deskolemizeTerm(e,p),g=hn.deskolemizeTerm(r,p),v=hn.deskolemizeTerm(n,p),E=hn.deskolemizeTerm(i,p),D,O=(0,b6.getDataSourceContext)(f,this.contextDefault);O=O.set(z3.KeysRdfResolveQuadPattern.source,{type:(0,b6.getDataSourceType)(f),value:(0,b6.getDataSourceValue)(f)});let C;!y||!g||!v||!E||this.isSourceEmpty(f,D=this.algebraFactory.createPattern(y,g,v,E))?(C={data:new NW.ArrayIterator([],{autoStart:!1})},C.data.setProperty("metadata",{cardinality:0,canContainUndefs:!1})):C=await this.mediatorResolveQuadPattern.mediate({pattern:D,context:O}),C.data.getProperty("metadata",w=>{!w.cardinality||!Number.isFinite(w.cardinality.value)?(a.cardinality.type="estimate",a.cardinality.value=Number.POSITIVE_INFINITY,s=0):(w.cardinality.type==="estimate"&&(a.cardinality.type="estimate"),a.cardinality.value+=w.cardinality.value,s--),(a.requestTime||w.requestTime)&&(a.requestTime=a.requestTime||0,w.requestTime=w.requestTime||0,a.requestTime+=w.requestTime),(a.pageSize||w.pageSize)&&(a.pageSize=a.pageSize||0,w.pageSize=w.pageSize||0,a.pageSize+=w.pageSize),w.canContainUndefs&&(a.canContainUndefs=!0),o(a.cardinality.value,f,D,w)});let R=C.data.map(w=>hn.skolemizeQuad(w,p));return R.on("error",w=>d.emit("error",w)),R})),d=new K3e.ClosableTransformIterator(async()=>new NW.UnionIterator(await u),{autoStart:!1,onClose(){u.then(f=>{for(let p of f)p.destroy()},()=>{})}});return this.sources.length===0&&d.setProperty("metadata",a),d}};W3.FederatedQuadSource=hn;hn.SKOLEM_PREFIX="urn:comunica_skolem:source_"});var qW=_(K3=>{"use strict";Object.defineProperty(K3,"__esModule",{value:!0});K3.ActorRdfResolveQuadPatternFederated=void 0;var jW=E_(),Y3e=g6(),m6=class extends jW.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.emptyPatterns=new Map}async test(e){if(!(0,jW.getContextSources)(e.context))throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a sources array.`);return!0}async getSource(e){return new Y3e.FederatedQuadSource(this.mediatorResolveQuadPattern,e,this.emptyPatterns,this.skipEmptyPatterns)}};K3.ActorRdfResolveQuadPatternFederated=m6});var v6=_(il=>{"use strict";var Z3e=il&&il.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LW=il&&il.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Z3e(e,t,r)};Object.defineProperty(il,"__esModule",{value:!0});LW(qW(),il);LW(g6(),il)});var BW=_(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.ActorRdfUpdateQuadsDestination=al.deskolemize=al.deskolemizeStream=void 0;var eSe=v6(),MW=Cr(),tSe=y6();function w6(t,e){return t?.map(r=>eSe.FederatedQuadSource.deskolemizeQuad(r,e))}al.deskolemizeStream=w6;function FW(t){let e=t.context.get(MW.KeysRdfUpdateQuads.destination),r=t.context.get(MW.KeysRdfResolveQuadPattern.sourceIds)?.get(e);return r?{...t,quadStreamInsert:w6(t.quadStreamInsert,r),quadStreamDelete:w6(t.quadStreamDelete,r)}:t}al.deskolemize=FW;var S6=class extends tSe.ActorRdfUpdateQuads{async test(e){return!0}async run(e){let r=await this.getDestination(e.context);return await this.getOutput(r,FW(e),e.context)}async getOutput(e,r,n){return{execute:()=>Promise.all([r.quadStreamInsert?e.insert(r.quadStreamInsert):Promise.resolve(),r.quadStreamDelete?e.delete(r.quadStreamDelete):Promise.resolve(),r.deleteGraphs?e.deleteGraphs(r.deleteGraphs.graphs,r.deleteGraphs.requireExistence,r.deleteGraphs.dropGraphs):Promise.resolve(),r.createGraphs?e.createGraphs(r.createGraphs.graphs,r.createGraphs.requireNonExistence):Promise.resolve()]).then(()=>{})}}};al.ActorRdfUpdateQuadsDestination=S6});var UW=_((fMe,X3)=>{(function(){var t;typeof window=="object"&&window?t=window:t=global,typeof X3<"u"&&X3.exports?X3.exports=t.Promise?t.Promise:i:t.Promise||(t.Promise=i);var e=t.setImmediate||function(p){setTimeout(p,1)};function r(p,y){return function(){p.apply(y,arguments)}}var n=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function i(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof p!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(p,r(s,this),r(o,this))}function a(p){var y=this;if(this._state===null){this._deferreds.push(p);return}e(function(){var g=y._state?p.onFulfilled:p.onRejected;if(g===null){(y._state?p.resolve:p.reject)(y._value);return}var v;try{v=g(y._value)}catch(E){p.reject(E);return}p.resolve(v)})}function s(p){try{if(p===this)throw new TypeError("A promise cannot be resolved with itself.");if(p&&(typeof p=="object"||typeof p=="function")){var y=p.then;if(typeof y=="function"){f(r(y,p),r(s,this),r(o,this));return}}this._state=!0,this._value=p,u.call(this)}catch(g){o.call(this,g)}}function o(p){this._state=!1,this._value=p,u.call(this)}function u(){for(var p=0,y=this._deferreds.length;p<y;p++)a.call(this,this._deferreds[p]);this._deferreds=null}function d(p,y,g,v){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof y=="function"?y:null,this.resolve=g,this.reject=v}function f(p,y,g){var v=!1;try{p(function(E){v||(v=!0,y(E))},function(E){v||(v=!0,g(E))})}catch(E){if(v)return;v=!0,g(E)}}i.prototype.catch=function(p){return this.then(null,p)},i.prototype.then=function(p,y){var g=this;return new i(function(v,E){a.call(g,new d(p,y,v,E))})},i.all=function(){var p=Array.prototype.slice.call(arguments.length===1&&n(arguments[0])?arguments[0]:arguments);return new i(function(y,g){if(p.length===0)return y([]);var v=p.length;function E(O,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var R=C.then;if(typeof R=="function"){R.call(C,function(w){E(O,w)},g);return}}p[O]=C,--v===0&&y(p)}catch(w){g(w)}}for(var D=0;D<p.length;D++)E(D,p[D])})},i.resolve=function(p){return p&&typeof p=="object"&&p.constructor===i?p:new i(function(y){y(p)})},i.reject=function(p){return new i(function(y,g){g(p)})},i.race=function(p){return new i(function(y,g){for(var v=0,E=p.length;v<E;v++)p[v].then(y,g)})}})()});var O_=_((hMe,VW)=>{var rSe=UW();VW.exports=function(t,e,r){typeof e=="function"&&(r=e,e=null),r=r||function(){};var n="";return new rSe(function(i,a){t.on("data",function(s){n+=typeof e=="string"?s.toString(e):s.toString()}),t.on("end",function(){i(n),r(null,n)}),t.on("error",function(s){a(s),r(s)})})}});var kW=_($3=>{"use strict";Object.defineProperty($3,"__esModule",{value:!0});$3.validateHttpResponse=void 0;var nSe=zc(),iSe=O_();async function aSe(t,e){if(e.status>=400){let r="empty response";if(e.body){let n=nSe.ActorHttp.toNodeReadable(e.body);r=await iSe(n)}throw new Error(`Could not update ${t} (HTTP status ${e.status}):
${r}`)}await e.body?.cancel()}$3.validateHttpResponse=aSe});var QW=_(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.getContextDestinationUrl=bi.getContextDestinationFirst=bi.getContextDestination=bi.getDataDestinationContext=bi.getDataDestinationValue=bi.getDataDestinationType=bi.isDataDestinationRawType=void 0;var T6=Cr();function HW(t){return typeof t=="string"||"remove"in t}bi.isDataDestinationRawType=HW;function sSe(t){return typeof t=="string"?"":"remove"in t?"rdfjsStore":t.type}bi.getDataDestinationType=sSe;function GW(t){return HW(t)?t:t.value}bi.getDataDestinationValue=GW;function oSe(t,e){return typeof t=="string"||"remove"in t||!t.context?e:e.merge(t.context)}bi.getDataDestinationContext=oSe;function uSe(t){return t.get(T6.KeysRdfUpdateQuads.destination)}bi.getContextDestination=uSe;function cSe(t){if(t.has(T6.KeysRdfUpdateQuads.destination))return t.get(T6.KeysRdfUpdateQuads.destination)}bi.getContextDestinationFirst=cSe;function lSe(t){if(t){let e=GW(t);if(typeof e=="string"){let r=e.indexOf("#");return r>=0&&(e=e.slice(0,r)),e}}}bi.getContextDestinationUrl=lSe});var R_=_(Qo=>{"use strict";var dSe=Qo&&Qo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),J3=Qo&&Qo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dSe(e,t,r)};Object.defineProperty(Qo,"__esModule",{value:!0});J3(y6(),Qo);J3(BW(),Qo);J3(kW(),Qo);J3(QW(),Qo)});var WW=_(Y3=>{"use strict";Object.defineProperty(Y3,"__esModule",{value:!0});Y3.RdfJsQuadDestination=void 0;var fSe=Bt(),zW=On(),hSe=new fSe.DataFactory,E6=class{constructor(e){this.store=e}promisifyEventEmitter(e){return new Promise((r,n)=>{e.on("end",r),e.on("error",n)})}delete(e){return this.promisifyEventEmitter(this.store.remove(e))}insert(e){return this.promisifyEventEmitter(this.store.import(e))}async deleteGraphs(e,r,n){switch(e){case"ALL":await this.promisifyEventEmitter(this.store.deleteGraph(hSe.defaultGraph()));case"NAMED":let i=this.store.match(),a={};i.on("data",s=>{s.graph.termType!=="DefaultGraph"&&(a[(0,zW.termToString)(s.graph)]=!0)}),await this.promisifyEventEmitter(i),await Promise.all(Object.keys(a).map(s=>this.promisifyEventEmitter(this.store.deleteGraph((0,zW.stringToTerm)(s)))));break;default:for(let s of Array.isArray(e)?e:[e])await this.promisifyEventEmitter(this.store.deleteGraph(s))}}async createGraphs(e,r){if(r)for(let n of e){let i=this.store.match(void 0,void 0,void 0,n);await new Promise((a,s)=>{i.once("data",()=>{s(new Error(`Unable to create graph ${n.value} as it already exists`))}),i.on("end",a),i.on("error",s)})}}};Y3.RdfJsQuadDestination=E6});var KW=_(Z3=>{"use strict";Object.defineProperty(Z3,"__esModule",{value:!0});Z3.ActorRdfUpdateQuadsRdfJsStore=void 0;var O6=R_(),pSe=WW(),R6=class extends O6.ActorRdfUpdateQuadsDestination{constructor(e){super(e)}async test(e){let r=(0,O6.getContextDestination)(e.context);if(!r||typeof r=="string"||!("remove"in r)&&"value"in r&&!r.value.remove)throw new Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(e){let r=(0,O6.getContextDestination)(e);return new pSe.RdfJsQuadDestination("remove"in r?r:r.value)}};Z3.ActorRdfUpdateQuadsRdfJsStore=R6});var XW=_(rh=>{"use strict";var _Se=rh&&rh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ySe=rh&&rh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_Se(e,t,r)};Object.defineProperty(rh,"__esModule",{value:!0});ySe(KW(),rh)});var JW=_(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.MediatorJoinCoefficientsFixed=void 0;var bSe=Cr(),$W=Je(),A6=class extends $W.Mediator{constructor(e){super(e)}async mediateWith(e,r){let n=[],i=r.map(({reply:y})=>y).map(y=>y.catch(g=>{n.push(g)})),a=await Promise.all(i),s=a.map((y,g)=>{if(y)return y.iterations*this.cpuWeight+y.persistedItems*this.memoryWeight+y.blockingItems*this.timeWeight+y.requestTime*this.ioWeight}),o=Math.max(...s.filter(y=>y!==void 0)),u=e.context.get(bSe.KeysQueryOperation.limitIndicator);u&&(s=s.map((y,g)=>y!==void 0&&a[g].persistedItems>0&&a[g].iterations>u?y+o:y));let d=-1,f=Number.POSITIVE_INFINITY;for(let[y,g]of s.entries())g!==void 0&&(d===-1||g<f)&&(d=y,f=g);if(d<0)throw new Error(`All actors rejected their test in ${this.name}
${n.map(y=>y.message).join(`
`)}`);let p=r[d].actor;return p.includeInLogs&&$W.Actor.getContextLogger(e.context)?.debug(`Determined physical join operator '${p.logicalType}-${p.physicalName}'`,{entries:e.entries.length,variables:await Promise.all(e.entries.map(async y=>(await y.output.metadata()).variables.map(g=>g.value))),costs:Object.fromEntries(s.map((y,g)=>[`${r[g].actor.logicalType}-${r[g].actor.physicalName}`,y])),coefficients:Object.fromEntries(a.map((y,g)=>[`${r[g].actor.logicalType}-${r[g].actor.physicalName}`,y]))}),p}};eS.MediatorJoinCoefficientsFixed=A6});var YW=_(nh=>{"use strict";var gSe=nh&&nh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mSe=nh&&nh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gSe(e,t,r)};Object.defineProperty(nh,"__esModule",{value:!0});mSe(JW(),nh)});var eK=_(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.ActorQueryOperationAsk=void 0;var ZW=dt(),x6=class extends ZW.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,r){return!0}async runOperation(e,r){let n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r}),i=ZW.ActorQueryOperation.getSafeBindings(n);return{type:"boolean",execute:()=>new Promise((s,o)=>{i.bindingsStream.once("data",()=>{s(!0),i.bindingsStream.close()}),i.bindingsStream.on("end",()=>s(!1)),i.bindingsStream.on("error",o)})}}};tS.ActorQueryOperationAsk=x6});var tK=_(ih=>{"use strict";var vSe=ih&&ih.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wSe=ih&&ih.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vSe(e,t,r)};Object.defineProperty(ih,"__esModule",{value:!0});wSe(eK(),ih)});var I6=_(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.BindingsToQuadsIterator=void 0;var rK=er(),SSe=Bt(),nK=vo(),TSe=new SSe.DataFactory,sl=class extends rK.MultiTransformIterator{constructor(e,r,n=!0){super(r,{autoStart:!1}),this.template=e,this.localizeBlankNodes=n,this.blankNodeCounter=0}static bindTerm(e,r){return r.termType==="Variable"?e.get(r):r}static bindQuad(e,r){try{return(0,nK.mapTerms)(r,n=>{let i=sl.bindTerm(e,n);if(!i)throw new Error("Unbound term");return i})}catch{}}static localizeBlankNode(e,r){return r.termType==="BlankNode"?TSe.blankNode(`${r.value}${e}`):r}static localizeQuad(e,r){return(0,nK.mapTerms)(r,n=>sl.localizeBlankNode(e,n))}bindTemplate(e,r,n){let i=r.map(a=>sl.bindQuad.bind(null,e)(a)).filter(Boolean);return this.localizeBlankNodes&&(i=i.map(sl.localizeQuad.bind(null,n))),i}_createTransformer(e){return new rK.ArrayIterator(this.bindTemplate(e,this.template,this.blankNodeCounter++))}};rS.BindingsToQuadsIterator=sl});var aK=_(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});nS.ActorQueryOperationConstruct=void 0;var iK=dt(),P6=vo(),ESe=jt(),OSe=I6(),Vb=class extends iK.ActorQueryOperationTypedMediated{constructor(e){super(e,"construct")}static getVariables(e){return(0,P6.uniqTerms)([].concat.apply([],e.map(r=>(0,P6.getVariables)((0,P6.getTerms)(r)))))}async testOperation(e,r){return!0}async runOperation(e,r){let n=Vb.getVariables(e.template),i={type:ESe.Algebra.types.PROJECT,input:e.input,variables:n},a=iK.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:i,context:r})),s=new OSe.BindingsToQuadsIterator(e.template,a.bindingsStream);return{metadata:()=>a.metadata().then(u=>({...u,order:void 0,cardinality:{type:u.cardinality.type,value:u.cardinality.value*e.template.length},canContainUndefs:!1,availableOrders:void 0})),quadStream:s,type:"quads"}}};nS.ActorQueryOperationConstruct=Vb});var N6=_(ol=>{"use strict";var RSe=ol&&ol.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sK=ol&&ol.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&RSe(e,t,r)};Object.defineProperty(ol,"__esModule",{value:!0});sK(aK(),ol);sK(I6(),ol)});var uK=_(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.ActorQueryOperationUnion=void 0;var oK=dt(),ASe=er(),xSe=vo(),A_=class extends oK.ActorQueryOperationTypedMediated{constructor(e){super(e,"union")}static unionVariables(e){return(0,xSe.uniqTerms)(e.flat())}static unionMetadata(e,r){let n={type:"exact",value:0};for(let a of e)if(a.cardinality.value&&Number.isFinite(a.cardinality.value)||a.cardinality.value===0)a.cardinality.type==="estimate"&&(n.type="estimate"),n.value+=a.cardinality.value;else{n.type="estimate",n.value=Number.POSITIVE_INFINITY;break}let i={cardinality:n,canContainUndefs:e.some(a=>a.canContainUndefs)};return r&&(i.variables=A_.unionVariables(e.map(a=>a.variables))),i}async testOperation(e,r){return!0}async runOperation(e,r){let n=(await Promise.all(e.input.map(s=>this.mediatorQueryOperation.mediate({operation:s,context:r})))).map(oK.ActorQueryOperation.getSafeBindings),i=new ASe.UnionIterator(n.map(s=>s.bindingsStream),{autoStart:!1});return{type:"bindings",bindingsStream:i,metadata:()=>Promise.all(n.map(s=>s.metadata())).then(s=>A_.unionMetadata(s,!0))}}};iS.ActorQueryOperationUnion=A_});var aS=_(ah=>{"use strict";var ISe=ah&&ah.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),PSe=ah&&ah.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ISe(e,t,r)};Object.defineProperty(ah,"__esModule",{value:!0});PSe(uK(),ah)});var lK=_(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});oS.ActorQueryOperationDescribeSubject=void 0;var NSe=aS(),cK=dt(),DSe=er(),CSe=Bt(),sS=jt(),x_=new CSe.DataFactory,D6=class extends cK.ActorQueryOperationTypedMediated{constructor(e){super(e,"describe")}async testOperation(e,r){return!0}async runOperation(e,r){let n=e.terms.filter(o=>o.termType!=="Variable").map(o=>{let u=[x_.quad(o,x_.variable("__predicate"),x_.variable("__object"))];return u.forEach(f=>f.type="pattern"),{input:{type:sS.Algebra.types.BGP,patterns:u},template:u,type:"construct"}});if(n.length!==e.terms.length){let o=[];e.terms.filter(u=>u.termType==="Variable").forEach((u,d)=>{let f=[x_.quad(u,x_.variable(`__predicate${d}`),x_.variable(`__object${d}`))];f.forEach(p=>p.type="pattern"),o=[...o,...f]}),n.push({input:{type:sS.Algebra.types.JOIN,input:[e.input,{type:sS.Algebra.types.BGP,patterns:o}]},template:o,type:sS.Algebra.types.CONSTRUCT})}let i=(await Promise.all(n.map(o=>this.mediatorQueryOperation.mediate({operation:o,context:r})))).map(cK.ActorQueryOperation.getSafeQuads),a=new DSe.UnionIterator(i.map(o=>o.quadStream),{autoStart:!1});return{type:"quads",quadStream:a,metadata:()=>Promise.all(i.map(o=>o.metadata())).then(o=>NSe.ActorQueryOperationUnion.unionMetadata(o,!1))}}};oS.ActorQueryOperationDescribeSubject=D6});var dK=_(sh=>{"use strict";var jSe=sh&&sh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qSe=sh&&sh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jSe(e,t,r)};Object.defineProperty(sh,"__esModule",{value:!0});qSe(lK(),sh)});var fK=_(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.ActorQueryOperationBgpJoin=void 0;var LSe=dt(),MSe=jt(),I_=class extends LSe.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}async testOperation(e,r){return!0}async runOperation(e,r){return this.mediatorQueryOperation.mediate({operation:I_.FACTORY.createJoin(e.patterns),context:r})}};uS.ActorQueryOperationBgpJoin=I_;I_.FACTORY=new MSe.Factory});var hK=_(oh=>{"use strict";var FSe=oh&&oh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BSe=oh&&oh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&FSe(e,t,r)};Object.defineProperty(oh,"__esModule",{value:!0});BSe(fK(),oh)});var _K=_(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});cS.ActorQueryOperationDistinctHash=void 0;var pK=dt(),C6=class extends pK.ActorQueryOperationTypedMediated{constructor(e){super(e,"distinct")}async testOperation(e,r){return!0}async runOperation(e,r){let n=pK.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:r})),i=n.bindingsStream.filter(await this.newHashFilter(r));return{type:"bindings",bindingsStream:i,metadata:n.metadata}}async newHashFilter(e){let{hashFunction:r}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:e}),n={};return i=>{let a=r(i);return!(a in n)&&(n[a]=!0)}}};cS.ActorQueryOperationDistinctHash=C6});var yK=_(uh=>{"use strict";var USe=uh&&uh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VSe=uh&&uh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&USe(e,t,r)};Object.defineProperty(uh,"__esModule",{value:!0});VSe(_K(),uh)});var gK=_((qMe,bK)=>{"use strict";bK.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var vK=_((LMe,mK)=>{"use strict";mK.exports=ir;ir.Node=ch;ir.create=ir;function ir(t){var e=this;if(e instanceof ir||(e=new ir),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}ir.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ir.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ir.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ir.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)HSe(this,arguments[t]);return this.length};ir.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)GSe(this,arguments[t]);return this.length};ir.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ir.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ir.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};ir.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};ir.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};ir.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};ir.prototype.map=function(t,e){e=e||this;for(var r=new ir,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};ir.prototype.mapReverse=function(t,e){e=e||this;for(var r=new ir,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};ir.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};ir.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};ir.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};ir.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};ir.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ir;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};ir.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ir;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};ir.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var a=[],n=0;i&&n<e;n++)a.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=kSe(this,i,r[n]);return a};ir.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function kSe(t,e,r){var n=e===t.head?new ch(r,null,e,t):new ch(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function HSe(t,e){t.tail=new ch(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function GSe(t,e){t.head=new ch(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ch(t,e,r,n){if(!(this instanceof ch))return new ch(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{gK()(ir)}catch{}});var ul=_((MMe,EK)=>{"use strict";var QSe=vK(),lh=Symbol("max"),Qu=Symbol("length"),P_=Symbol("lengthCalculator"),Hb=Symbol("allowStale"),dh=Symbol("maxAge"),Gu=Symbol("dispose"),wK=Symbol("noDisposeOnSet"),Ln=Symbol("lruList"),$s=Symbol("cache"),TK=Symbol("updateAgeOnGet"),j6=()=>1,L6=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[lh]=e.max||1/0,n=e.length||j6;if(this[P_]=typeof n!="function"?j6:n,this[Hb]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[dh]=e.maxAge||0,this[Gu]=e.dispose,this[wK]=e.noDisposeOnSet||!1,this[TK]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[lh]=e||1/0,kb(this)}get max(){return this[lh]}set allowStale(e){this[Hb]=!!e}get allowStale(){return this[Hb]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[dh]=e,kb(this)}get maxAge(){return this[dh]}set lengthCalculator(e){typeof e!="function"&&(e=j6),e!==this[P_]&&(this[P_]=e,this[Qu]=0,this[Ln].forEach(r=>{r.length=this[P_](r.value,r.key),this[Qu]+=r.length})),kb(this)}get lengthCalculator(){return this[P_]}get length(){return this[Qu]}get itemCount(){return this[Ln].length}rforEach(e,r){r=r||this;for(let n=this[Ln].tail;n!==null;){let i=n.prev;SK(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Ln].head;n!==null;){let i=n.next;SK(this,e,n,r),n=i}}keys(){return this[Ln].toArray().map(e=>e.key)}values(){return this[Ln].toArray().map(e=>e.value)}reset(){this[Gu]&&this[Ln]&&this[Ln].length&&this[Ln].forEach(e=>this[Gu](e.key,e.value)),this[$s]=new Map,this[Ln]=new QSe,this[Qu]=0}dump(){return this[Ln].map(e=>lS(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ln]}set(e,r,n){if(n=n||this[dh],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,a=this[P_](r,e);if(this[$s].has(e)){if(a>this[lh])return N_(this,this[$s].get(e)),!1;let u=this[$s].get(e).value;return this[Gu]&&(this[wK]||this[Gu](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[Qu]+=a-u.length,u.length=a,this.get(e),kb(this),!0}let s=new M6(e,r,a,i,n);return s.length>this[lh]?(this[Gu]&&this[Gu](e,r),!1):(this[Qu]+=s.length,this[Ln].unshift(s),this[$s].set(e,this[Ln].head),kb(this),!0)}has(e){if(!this[$s].has(e))return!1;let r=this[$s].get(e).value;return!lS(this,r)}get(e){return q6(this,e,!0)}peek(e){return q6(this,e,!1)}pop(){let e=this[Ln].tail;return e?(N_(this,e),e.value):null}del(e){N_(this,this[$s].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],a=i.e||0;if(a===0)this.set(i.k,i.v);else{let s=a-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[$s].forEach((e,r)=>q6(this,r,!1))}},q6=(t,e,r)=>{let n=t[$s].get(e);if(n){let i=n.value;if(lS(t,i)){if(N_(t,n),!t[Hb])return}else r&&(t[TK]&&(n.value.now=Date.now()),t[Ln].unshiftNode(n));return i.value}},lS=(t,e)=>{if(!e||!e.maxAge&&!t[dh])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[dh]&&r>t[dh]},kb=t=>{if(t[Qu]>t[lh])for(let e=t[Ln].tail;t[Qu]>t[lh]&&e!==null;){let r=e.prev;N_(t,e),e=r}},N_=(t,e)=>{if(e){let r=e.value;t[Gu]&&t[Gu](r.key,r.value),t[Qu]-=r.length,t[$s].delete(r.key),t[Ln].removeNode(e)}},M6=class{constructor(e,r,n,i,a){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=a||0}},SK=(t,e,r,n)=>{let i=r.value;lS(t,i)&&(N_(t,r),t[Hb]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};EK.exports=L6});var Js=_(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.asTermType=fh.ExpressionType=void 0;var zSe;(function(t){t.Aggregate="aggregate",t.Existence="existence",t.Named="named",t.Operator="operator",t.SpecialOperator="specialOperator",t.Term="term",t.Variable="variable",t.AsyncExtension="asyncExtension",t.SyncExtension="syncExtension"})(zSe=fh.ExpressionType||(fh.ExpressionType={}));function WSe(t){if(t==="namedNode"||t==="literal"||t==="blankNode")return t}fh.asTermType=WSe});var OK=_(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.Variable=void 0;var KSe=Js(),F6=class{constructor(e){this.expressionType=KSe.ExpressionType.Variable,this.name=e}};dS.Variable=F6});var gi=_(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.NamedOperators=br.SetFunctions=br.SetFunction=br.Operators=br.SpecialOperators=br.RegularOperators=br.SpecialOperator=br.RegularOperator=br.TypeURL=br.TypeAlias=void 0;var XSe;(function(t){t.SPARQL_NUMERIC="SPARQL_NUMERIC",t.SPARQL_STRINGLY="SPARQL_STRINGLY",t.SPARQL_NON_LEXICAL="SPARQL_NON_LEXICAL"})(XSe=br.TypeAlias||(br.TypeAlias={}));var zu;(function(t){t.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",t.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",t.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",t.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",t.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",t.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",t.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",t.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",t.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",t.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",t.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",t.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",t.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",t.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",t.XSD_INT="http://www.w3.org/2001/XMLSchema#int",t.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",t.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",t.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",t.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",t.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",t.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",t.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",t.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",t.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",t.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",t.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",t.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",t.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",t.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",t.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",t.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",t.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",t.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",t.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",t.XSD_DAYTIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(zu=br.TypeURL||(br.TypeURL={}));var RK;(function(t){t.NOT="!",t.UMINUS="UMINUS",t.UPLUS="UPLUS",t.EQUAL="=",t.NOT_EQUAL="!=",t.LT="<",t.GT=">",t.LTE="<=",t.GTE=">=",t.MULTIPLICATION="*",t.DIVISION="/",t.ADDITION="+",t.SUBTRACTION="-",t.IS_IRI="isiri",t.IS_BLANK="isblank",t.IS_LITERAL="isliteral",t.IS_NUMERIC="isnumeric",t.STR="str",t.LANG="lang",t.DATATYPE="datatype",t.IRI="iri",t.URI="uri",t.STRDT="strdt",t.STRLANG="strlang",t.UUID="uuid",t.STRUUID="struuid",t.STRLEN="strlen",t.SUBSTR="substr",t.UCASE="ucase",t.LCASE="lcase",t.STRSTARTS="strstarts",t.STRENDS="strends",t.CONTAINS="contains",t.STRBEFORE="strbefore",t.STRAFTER="strafter",t.ENCODE_FOR_URI="encode_for_uri",t.LANG_MATCHES="langmatches",t.REGEX="regex",t.REPLACE="replace",t.ABS="abs",t.ROUND="round",t.CEIL="ceil",t.FLOOR="floor",t.RAND="rand",t.NOW="now",t.YEAR="year",t.MONTH="month",t.DAY="day",t.HOURS="hours",t.MINUTES="minutes",t.SECONDS="seconds",t.TIMEZONE="timezone",t.TZ="tz",t.MD5="md5",t.SHA1="sha1",t.SHA256="sha256",t.SHA384="sha384",t.SHA512="sha512"})(RK=br.RegularOperator||(br.RegularOperator={}));var AK;(function(t){t.BOUND="bound",t.IF="if",t.COALESCE="coalesce",t.LOGICAL_OR="||",t.LOGICAL_AND="&&",t.SAME_TERM="sameterm",t.IN="in",t.NOT_IN="notin",t.CONCAT="concat",t.BNODE="BNODE"})(AK=br.SpecialOperator||(br.SpecialOperator={}));br.RegularOperators=new Set(Object.values(RK));br.SpecialOperators=new Set(Object.values(AK));br.Operators=new Set([...br.RegularOperators,...br.SpecialOperators]);var xK;(function(t){t.COUNT="count",t.SUM="sum",t.MIN="min",t.MAX="max",t.AVG="avg",t.GROUP_CONCAT="group_concat",t.SAMPLE="sample"})(xK=br.SetFunction||(br.SetFunction={}));br.SetFunctions=new Set(Object.values(xK));br.NamedOperators=new Set([zu.XSD_STRING,zu.XSD_FLOAT,zu.XSD_DOUBLE,zu.XSD_DECIMAL,zu.XSD_INTEGER,zu.XSD_DATE_TIME,zu.XSD_DATE,zu.XSD_BOOLEAN])});var Qi=_(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.NoExistenceHook=ut.NoAggregator=ut.ExtensionFunctionError=ut.UnknownNamedOperator=ut.UnknownOperator=ut.InvalidTermType=ut.InvalidExpressionType=ut.InvalidExpression=ut.InvalidArity=ut.UnimplementedError=ut.UnexpectedError=ut.EmptyAggregateError=ut.IncompatibleLanguageOperation=ut.InvalidTimezoneCall=ut.CastError=ut.InvalidArgumentTypes=ut.InError=ut.CoalesceError=ut.RDFEqualTypeError=ut.EBVCoercionError=ut.UnboundVariableError=ut.InvalidLexicalForm=ut.isExpressionError=ut.ExpressionError=void 0;var Gi=class extends Error{};ut.ExpressionError=Gi;function $Se(t){return t instanceof Gi}ut.isExpressionError=$Se;var B6=class extends Gi{constructor(e){super(`Invalid lexical form '${mi(e)}'`),this.arg=e}};ut.InvalidLexicalForm=B6;var U6=class extends Gi{constructor(e,r){super(`Unbound variable '${mi(e)}'`),this.variable=e,this.bindings=r}};ut.UnboundVariableError=U6;var V6=class extends Gi{constructor(e){super(`Cannot coerce term to EBV '${mi(e)}'`),this.arg=e}};ut.EBVCoercionError=V6;var k6=class extends Gi{constructor(e){super("Equality test for literals with unsupported datatypes"),this.args=e}};ut.RDFEqualTypeError=k6;var H6=class extends Gi{constructor(e){super("All COALESCE arguments threw errors"),this.errors=e}};ut.CoalesceError=H6;var G6=class extends Gi{constructor(e){super(`Some argument to IN errorred and none where equal. ${e.map(r=>`(${r.toString()}) `).join("and ")}`),this.errors=e}};ut.InError=G6;var Q6=class extends Gi{constructor(e,r){super(`Argument types not valid for operator: '${mi(r)}' with '${mi(e)}`),this.args=e,this.op=r}};ut.InvalidArgumentTypes=Q6;var z6=class extends Gi{constructor(e,r){super(`Invalid cast: '${mi(e)}' to '${mi(r)}'`),this.arg=e}};ut.CastError=z6;var W6=class extends Gi{constructor(e){super(`TIMEZONE call on ${e} which has no timezone`),this.dateString=e}};ut.InvalidTimezoneCall=W6;var K6=class extends Gi{constructor(e,r){super(`Operation on incompatible language literals '${mi(e)}' and '${mi(r)}'`),this.arg1=e,this.arg2=r}};ut.IncompatibleLanguageOperation=K6;var X6=class extends Gi{constructor(){super("Empty aggregate expression")}};ut.EmptyAggregateError=X6;var $6=class extends Error{constructor(e,r){super(`Programmer Error '${e}'`),this.payload=r}};ut.UnexpectedError=$6;var J6=class extends Error{constructor(e){super(`Unimplemented feature '${e}!'`)}};ut.UnimplementedError=J6;var Y6=class extends Error{constructor(e,r){super(`The number of args does not match the arity of the operator '${mi(r)}'.`),this.args=e,this.op=r}};ut.InvalidArity=Y6;var Z6=class extends Error{constructor(e){super(`Invalid SPARQL Expression '${mi(e)}'`)}};ut.InvalidExpression=Z6;var eD=class extends Error{constructor(e){super(`Invalid expression type for SPARQL Expression '${mi(e)}'`),this.expr=e}};ut.InvalidExpressionType=eD;var tD=class extends Error{constructor(e){super(`Invalid term type for term '${mi(e)}'`),this.term=e}};ut.InvalidTermType=tD;var rD=class extends Error{constructor(e){super(`Unknown operator: '${mi(e)}`)}};ut.UnknownOperator=rD;var nD=class extends Error{constructor(e){super(`Unknown named operator: '${mi(e)}'`)}};ut.UnknownNamedOperator=nD;var iD=class extends Error{constructor(e,r){r instanceof Error?super(`Error thrown in ${e}: ${r.message}${r.stack?`
${r.stack}`:""}`):super(`Error thrown in ${e}`)}};ut.ExtensionFunctionError=iD;var aD=class extends Error{constructor(e){super(`Aggregate expression ${mi(e)} found, but no aggregate hook provided.`)}};ut.NoAggregator=aD;var sD=class extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}};ut.NoExistenceHook=sD;function mi(t){return JSON.stringify(t)}});var hh=_(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.isSubTypeOf=bt.getSuperTypeDict=bt.isInternalSubType=bt.asGeneralType=bt.asOverrideType=bt.asKnownLiteralType=bt.asTypeAlias=bt.typeAliasCheck=bt.extensionTableInit=bt.getSuperTypes=bt.superTypeDictTable=bt.extensionTableInput=bt.mainSparqlType=void 0;var JSe=Ma(),Te=gi();function YSe(t){switch(t){case"term":return{types:["term"],prio:0};case"namedNode":return{types:["namedNode"],prio:1};case"literal":return{types:["literal"],prio:1};case"blankNode":return{types:["blankNode"],prio:1};case Te.TypeAlias.SPARQL_NON_LEXICAL:return{types:["nonlexical"],prio:2};case null:case void 0:case"":case Te.TypeURL.XSD_ANY_URI:case Te.TypeURL.XSD_NORMALIZED_STRING:case Te.TypeURL.XSD_TOKEN:case Te.TypeURL.XSD_LANGUAGE:case Te.TypeURL.XSD_NM_TOKEN:case Te.TypeURL.XSD_NAME:case Te.TypeURL.XSD_ENTITY:case Te.TypeURL.XSD_ID:case Te.TypeURL.XSD_ID_REF:case Te.TypeURL.XSD_STRING:return{types:["string"],prio:bt.superTypeDictTable[Te.TypeURL.XSD_STRING].__depth+2};case Te.TypeURL.RDF_LANG_STRING:return{types:["langString"],prio:bt.superTypeDictTable[Te.TypeURL.RDF_LANG_STRING].__depth+2};case Te.TypeURL.XSD_DATE_TIME_STAMP:case Te.TypeURL.XSD_DATE_TIME:return{types:["dateTime"],prio:bt.superTypeDictTable[Te.TypeURL.XSD_DATE_TIME].__depth+2};case Te.TypeURL.XSD_BOOLEAN:return{types:["boolean"],prio:bt.superTypeDictTable[Te.TypeURL.XSD_BOOLEAN].__depth+2};case Te.TypeURL.XSD_DECIMAL:return{types:["decimal","integer"],prio:bt.superTypeDictTable[Te.TypeURL.XSD_DECIMAL].__depth+2};case Te.TypeURL.XSD_FLOAT:return{types:["float"],prio:bt.superTypeDictTable[Te.TypeURL.XSD_FLOAT].__depth+2};case Te.TypeURL.XSD_DOUBLE:return{types:["double"],prio:bt.superTypeDictTable[Te.TypeURL.XSD_DOUBLE].__depth+2};case Te.TypeURL.XSD_NON_POSITIVE_INTEGER:case Te.TypeURL.XSD_NEGATIVE_INTEGER:case Te.TypeURL.XSD_LONG:case Te.TypeURL.XSD_INT:case Te.TypeURL.XSD_SHORT:case Te.TypeURL.XSD_BYTE:case Te.TypeURL.XSD_NON_NEGATIVE_INTEGER:case Te.TypeURL.XSD_POSITIVE_INTEGER:case Te.TypeURL.XSD_UNSIGNED_LONG:case Te.TypeURL.XSD_UNSIGNED_INT:case Te.TypeURL.XSD_UNSIGNED_SHORT:case Te.TypeURL.XSD_UNSIGNED_BYTE:case Te.TypeURL.XSD_INTEGER:return{types:["integer"],prio:bt.superTypeDictTable[Te.TypeURL.XSD_INTEGER].__depth+2};case Te.TypeAlias.SPARQL_STRINGLY:return{types:["string","langString"],prio:bt.superTypeDictTable[Te.TypeAlias.SPARQL_STRINGLY].__depth+2};case Te.TypeAlias.SPARQL_NUMERIC:return{types:["decimal","float","integer","double"],prio:bt.superTypeDictTable[Te.TypeAlias.SPARQL_NUMERIC].__depth+2};default:return{types:["other"],prio:2}}}bt.mainSparqlType=YSe;bt.extensionTableInput={[Te.TypeURL.XSD_DATE_TIME_STAMP]:Te.TypeURL.XSD_DATE_TIME,[Te.TypeURL.XSD_DAYTIME_DURATION]:Te.TypeURL.XSD_DURATION,[Te.TypeURL.XSD_YEAR_MONTH_DURATION]:Te.TypeURL.XSD_DURATION,[Te.TypeURL.RDF_LANG_STRING]:Te.TypeAlias.SPARQL_STRINGLY,[Te.TypeURL.XSD_STRING]:Te.TypeAlias.SPARQL_STRINGLY,[Te.TypeURL.XSD_NORMALIZED_STRING]:Te.TypeURL.XSD_STRING,[Te.TypeURL.XSD_TOKEN]:Te.TypeURL.XSD_NORMALIZED_STRING,[Te.TypeURL.XSD_LANGUAGE]:Te.TypeURL.XSD_TOKEN,[Te.TypeURL.XSD_NM_TOKEN]:Te.TypeURL.XSD_TOKEN,[Te.TypeURL.XSD_NAME]:Te.TypeURL.XSD_TOKEN,[Te.TypeURL.XSD_NC_NAME]:Te.TypeURL.XSD_NAME,[Te.TypeURL.XSD_ENTITY]:Te.TypeURL.XSD_NC_NAME,[Te.TypeURL.XSD_ID]:Te.TypeURL.XSD_NC_NAME,[Te.TypeURL.XSD_ID_REF]:Te.TypeURL.XSD_NC_NAME,[Te.TypeURL.XSD_DOUBLE]:Te.TypeAlias.SPARQL_NUMERIC,[Te.TypeURL.XSD_FLOAT]:Te.TypeAlias.SPARQL_NUMERIC,[Te.TypeURL.XSD_DECIMAL]:Te.TypeAlias.SPARQL_NUMERIC,[Te.TypeURL.XSD_INTEGER]:Te.TypeURL.XSD_DECIMAL,[Te.TypeURL.XSD_NON_POSITIVE_INTEGER]:Te.TypeURL.XSD_INTEGER,[Te.TypeURL.XSD_NEGATIVE_INTEGER]:Te.TypeURL.XSD_NON_POSITIVE_INTEGER,[Te.TypeURL.XSD_LONG]:Te.TypeURL.XSD_INTEGER,[Te.TypeURL.XSD_INT]:Te.TypeURL.XSD_LONG,[Te.TypeURL.XSD_SHORT]:Te.TypeURL.XSD_INT,[Te.TypeURL.XSD_BYTE]:Te.TypeURL.XSD_SHORT,[Te.TypeURL.XSD_NON_NEGATIVE_INTEGER]:Te.TypeURL.XSD_INTEGER,[Te.TypeURL.XSD_POSITIVE_INTEGER]:Te.TypeURL.XSD_NON_NEGATIVE_INTEGER,[Te.TypeURL.XSD_UNSIGNED_LONG]:Te.TypeURL.XSD_NON_NEGATIVE_INTEGER,[Te.TypeURL.XSD_UNSIGNED_INT]:Te.TypeURL.XSD_UNSIGNED_LONG,[Te.TypeURL.XSD_UNSIGNED_SHORT]:Te.TypeURL.XSD_UNSIGNED_INT,[Te.TypeURL.XSD_UNSIGNED_BYTE]:Te.TypeURL.XSD_UNSIGNED_SHORT,[Te.TypeURL.XSD_DATE_TIME]:"term",[Te.TypeURL.XSD_BOOLEAN]:"term",[Te.TypeURL.XSD_DATE]:"term",[Te.TypeURL.XSD_DURATION]:"term",[Te.TypeAlias.SPARQL_NUMERIC]:"term",[Te.TypeAlias.SPARQL_STRINGLY]:"term",[Te.TypeAlias.SPARQL_NON_LEXICAL]:"term",[Te.TypeURL.XSD_ANY_URI]:"term"};function oD(t,e){let r=e.cache.get(t);if(r)return r;let n=e.discoverer(t);if(n==="term"){let s=Object.create(null);return s.__depth=0,s[t]=0,e.cache.set(t,s),s}let i,a=fS(n);return a?i=Object.assign({},bt.superTypeDictTable[a]):i=Object.assign({},oD(n,e)),i.__depth++,i[t]=i.__depth,e.cache.set(t,i),i}bt.getSuperTypes=oD;function IK(){let t=Object.create(null);for(let[e,r]of Object.entries(bt.extensionTableInput)){let n=e;t[n]||PK(n,r,t)}bt.superTypeDictTable=t}bt.extensionTableInit=IK;IK();function PK(t,e,r){if(e==="term"||e===void 0){let n=Object.create(null);n.__depth=0,n[t]=0,r[t]=n;return}r[e]||PK(e,bt.extensionTableInput[e],r),r[t]=Object.assign(Object.assign({},r[e]),{[t]:r[e].__depth+1,__depth:r[e].__depth+1})}function ZSe(){bt.typeAliasCheck=Object.create(null);for(let t of Object.values(Te.TypeAlias))bt.typeAliasCheck[t]=!0}ZSe();function eTe(t){if(t in bt.typeAliasCheck)return t}bt.asTypeAlias=eTe;function fS(t){if(t in bt.superTypeDictTable)return t}bt.asKnownLiteralType=fS;function tTe(t){if(fS(t)||t==="term")return t}bt.asOverrideType=tTe;function rTe(t){if(t==="term"||(0,JSe.asTermType)(t))return t}bt.asGeneralType=rTe;function nTe(t,e){return t!=="term"&&bt.superTypeDictTable[t]&&bt.superTypeDictTable[t][e]!==void 0}bt.isInternalSubType=nTe;function NK(t,e){let r=fS(t);return r?bt.superTypeDictTable[r]:oD(t,e)}bt.getSuperTypeDict=NK;function iTe(t,e,r){return t==="term"?!1:NK(t,r)[e]!==void 0}bt.isSubTypeOf=iTe});var CK=_(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.isNonLexicalLiteral=Xt.NonLexicalLiteral=Xt.StringLiteral=Xt.LangStringLiteral=Xt.DateTimeLiteral=Xt.BooleanLiteral=Xt.DoubleLiteral=Xt.FloatLiteral=Xt.DecimalLiteral=Xt.IntegerLiteral=Xt.NumericLiteral=Xt.Literal=Xt.isLiteralTermExpression=Xt.BlankNode=Xt.NamedNode=Xt.Term=void 0;var aTe=Bt(),sTe=gi(),gs=gi(),uD=Qi(),DK=hh(),oTe=Js(),D_=new aTe.DataFactory,C_=class{constructor(){this.expressionType=oTe.ExpressionType.Term}str(){throw new uD.InvalidArgumentTypes([this],sTe.RegularOperator.STR)}coerceEBV(){throw new uD.EBVCoercionError(this)}};Xt.Term=C_;var cD=class extends C_{constructor(e){super(),this.value=e,this.termType="namedNode"}toRDF(){return D_.namedNode(this.value)}str(){return this.value}};Xt.NamedNode=cD;var ph=class extends C_{constructor(e){super(),this.termType="blankNode",this.value=typeof e=="string"?D_.blankNode(e):e}static nextID(){return ph._nextID+=1,ph.nextID.toString()}toRDF(){return this.value}};Xt.BlankNode=ph;ph._nextID=0;function uTe(t){if(t.termType==="literal")return t}Xt.isLiteralTermExpression=uTe;var Wu=class extends C_{constructor(e,r,n,i,a){super(),this.typedValue=e,this.dataType=r,this.strValue=n,this.language=i,this.termType="literal",this.mainSparqlType=a||"other"}toRDF(){return D_.literal(this.strValue||this.str(),this.language||D_.namedNode(this.dataType))}str(){return this.strValue||this.typedValue.toString()}};Xt.Literal=Wu;var _h=class extends Wu{constructor(e,r,n,i,a){super(e,r,n,i,a),this.typedValue=e,this.strValue=n,this.language=i}coerceEBV(){return!!this.typedValue}toRDF(){let e=super.toRDF();return Number.isFinite(this.typedValue)||(e.value=e.value.replace("Infinity","INF")),e}str(){return this.strValue||this.specificFormatter(this.typedValue)}};Xt.NumericLiteral=_h;var lD=class extends _h{constructor(e,r,n,i){super(e,r||gs.TypeURL.XSD_INTEGER,n,i,"integer"),this.typedValue=e,this.strValue=n,this.language=i}specificFormatter(e){return e.toFixed(0)}};Xt.IntegerLiteral=lD;var dD=class extends _h{constructor(e,r,n,i){super(e,r||gs.TypeURL.XSD_DECIMAL,n,i,"decimal"),this.typedValue=e,this.strValue=n,this.language=i}specificFormatter(e){return e.toString()}};Xt.DecimalLiteral=dD;var fD=class extends _h{constructor(e,r,n,i){super(e,r||gs.TypeURL.XSD_FLOAT,n,i,"float"),this.typedValue=e,this.strValue=n,this.language=i}specificFormatter(e){return e.toString()}};Xt.FloatLiteral=fD;var hD=class extends _h{constructor(e,r,n,i){super(e,r||gs.TypeURL.XSD_DOUBLE,n,i,"double"),this.typedValue=e,this.strValue=n,this.language=i}specificFormatter(e){let r=e.toExponential(),[n,i]=r.split("e"),a=i.replace(/\+/u,"");return`${n.includes(".")?n:`${n}.0`}E${a}`}};Xt.DoubleLiteral=hD;var pD=class extends Wu{constructor(e,r,n){super(e,n||gs.TypeURL.XSD_BOOLEAN,r,void 0,"boolean"),this.typedValue=e,this.strValue=r}coerceEBV(){return!!this.typedValue}};Xt.BooleanLiteral=pD;var _D=class extends Wu{constructor(e,r,n){super(e,n||gs.TypeURL.XSD_DATE_TIME,r,void 0,"dateTime"),this.typedValue=e,this.strValue=r}};Xt.DateTimeLiteral=_D;var yD=class extends Wu{constructor(e,r,n){super(e,n||gs.TypeURL.RDF_LANG_STRING,e,r,"langString"),this.typedValue=e,this.language=r}coerceEBV(){return this.str().length>0}};Xt.LangStringLiteral=yD;var bD=class extends Wu{constructor(e,r){super(e,r||gs.TypeURL.XSD_STRING,e,void 0,"string"),this.typedValue=e}coerceEBV(){return this.str().length>0}};Xt.StringLiteral=bD;var gD=class extends Wu{constructor(e,r,n,i,a){super({toString:()=>"undefined"},r,i,a,"nonlexical"),this.typeURL=r,this.openWorldType=n,this.typedValue={toString:()=>"undefined"},this.dataType=gs.TypeAlias.SPARQL_NON_LEXICAL}coerceEBV(){if((0,DK.isSubTypeOf)(this.typeURL,gs.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,DK.isSubTypeOf)(this.typeURL,gs.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new uD.EBVCoercionError(this)}toRDF(){return D_.literal(this.str(),this.language||D_.namedNode(this.typeURL))}str(){return this.strValue||""}};Xt.NonLexicalLiteral=gD;function cTe(t){if(t.dataType===gs.TypeAlias.SPARQL_NON_LEXICAL)return t}Xt.isNonLexicalLiteral=cTe});var jK=_(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});hS.Operator=void 0;var lTe=Js(),mD=class{constructor(e,r){this.args=e,this.apply=r,this.expressionType=lTe.ExpressionType.Operator}};hS.Operator=mD});var qK=_(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.SpecialOperator=void 0;var dTe=Js(),vD=class{constructor(e,r,n){this.args=e,this.applyAsync=r,this.applySync=n,this.expressionType=dTe.ExpressionType.SpecialOperator}};pS.SpecialOperator=vD});var LK=_(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.Named=void 0;var fTe=Js(),wD=class{constructor(e,r,n){this.name=e,this.args=r,this.apply=n,this.expressionType=fTe.ExpressionType.Named}};_S.Named=wD});var MK=_(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.Aggregate=void 0;var hTe=Js(),SD=class{constructor(e,r){this.name=e,this.expression=r,this.expressionType=hTe.ExpressionType.Aggregate}};yS.Aggregate=SD});var FK=_(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});bS.Existence=void 0;var pTe=Js(),TD=class{constructor(e){this.expression=e,this.expressionType=pTe.ExpressionType.Existence}};bS.Existence=TD});var BK=_(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.AsyncExtension=void 0;var _Te=Js(),ED=class{constructor(e,r,n){this.name=e,this.args=r,this.apply=n,this.expressionType=_Te.ExpressionType.AsyncExtension}};gS.AsyncExtension=ED});var UK=_(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.SyncExtension=void 0;var yTe=Js(),OD=class{constructor(e,r,n){this.name=e,this.args=r,this.apply=n,this.expressionType=yTe.ExpressionType.SyncExtension}};mS.SyncExtension=OD});var Ma=_(vi=>{"use strict";var bTe=vi&&vi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zo=vi&&vi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bTe(e,t,r)};Object.defineProperty(vi,"__esModule",{value:!0});zo(Js(),vi);zo(OK(),vi);zo(CK(),vi);zo(jK(),vi);zo(qK(),vi);zo(LK(),vi);zo(MK(),vi);zo(FK(),vi);zo(BK(),vi);zo(UK(),vi)});var ID=_(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.SpecialFunction=Wo.NamedFunction=Wo.RegularFunction=Wo.BaseFunction=void 0;var VK=Qi(),Gb=class{constructor(e,r){this.operator=e,this.apply=(n,i)=>(this.monomorph(n,i.superTypeProvider,i.overloadCache,i.enableExtendedXsdTypes)||this.handleInvalidTypes(n))(i)(n),this.arity=r.arity,this.overloads=r.overloads}monomorph(e,r,n,i){return i?this.overloads.experimentalTree.search(e,r,n):this.overloads.tree.search(e)}};Wo.BaseFunction=Gb;var RD=class extends Gb{constructor(e,r){super(e,r),this.functionClass="regular"}handleInvalidTypes(e){throw new VK.InvalidArgumentTypes(e,this.operator)}};Wo.RegularFunction=RD;var AD=class extends Gb{constructor(e,r){super(e,r),this.functionClass="named"}handleInvalidTypes(e){throw new VK.InvalidArgumentTypes(e,this.operator)}};Wo.NamedFunction=AD;var xD=class{constructor(e,r){this.operator=e,this.functionClass="special",this.arity=r.arity,this.applySync=r.applySync,this.applyAsync=r.applyAsync,this.checkArity=r.checkArity||gTe(this.arity)}};Wo.SpecialFunction=xD;function gTe(t){return e=>t===Number.POSITIVE_INFINITY?!0:Array.isArray(t)?t.includes(e.length):e.length===t}});var vS=_(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.parseXSDDateTime=Ko.parseXSDInteger=Ko.parseXSDDecimal=Ko.parseXSDFloat=void 0;function mTe(t){let e=Number(t);return Number.isNaN(e)?t==="NaN"?Number.NaN:t==="INF"?Number.POSITIVE_INFINITY:t==="-INF"?Number.NEGATIVE_INFINITY:void 0:e}Ko.parseXSDFloat=mTe;function vTe(t){let e=Number(t);return Number.isNaN(e)?void 0:e}Ko.parseXSDDecimal=vTe;function wTe(t){let e=Number.parseInt(t,10);return Number.isNaN(e)?void 0:e}Ko.parseXSDInteger=wTe;function STe(t){let e=t.indexOf("T"),r=e>=0?t.slice(0,Math.max(0,e)):t,[n,i,a]=r.split("-"),s="",o="",u="",d="";if(e>=0){let f=t.slice(e+1),[p,y]=f.split(/[+Z-]/u);[s,o,u]=p.split(":");let g=/([+Z-].*)/u.exec(f);d=g?g[0]:""}else s="00",o="00",u="00",d="";return{year:n,month:i,day:a,hours:s,minutes:o,seconds:u,timezone:d}}Ko.parseXSDDateTime=STe});var kK=_(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});wS.LegacyTree=void 0;var TTe=Ma(),ETe=hh(),Qb=class{constructor(e){this.implementation=void 0,this.subTrees=Object.create(null),this.legacyImportance=e||0}search(e){let r=[];if(e.length===0)return this.implementation;for(r.push(...this.getSubTreeWithArg(e[0]).map(i=>({node:i,index:0+1})));r.length>0;){let{index:i,node:a}=r.pop();if(i===e.length)return a.implementation;r.push(...a.getSubTreeWithArg(e[i]).map(s=>({node:s,index:i+1})))}return this.implementation}addOverload(e,r){this._addOverload([...e],r,!1,0)}addLegacyOverload(e,r){this._addOverload([...e],r,!0,0)}_addOverload(e,r,n,i){let[a,...s]=e;if(!a){(n||this.legacyImportance<=i)&&(this.implementation=r);return}let o=(0,ETe.mainSparqlType)(a);for(let u of o.types)(n||!this.subTrees[u])&&(this.subTrees[u]=new Qb(o.prio)),this.subTrees[u]._addOverload(s,r,n,o.prio)}getSubTreeWithArg(e){let r=(0,TTe.isLiteralTermExpression)(e),n=[];return this.subTrees.term&&n.push(this.subTrees.term),this.subTrees[e.termType]&&n.push(this.subTrees[e.termType]),r&&this.subTrees[r.mainSparqlType]&&n.push(this.subTrees[r.mainSparqlType]),n}};wS.LegacyTree=Qb});var PD=_(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0});TS.OverloadTree=void 0;var HK=Ma(),yh=gi(),j_=hh(),SS=Xo(),q_=class{constructor(e,r){this.identifier=e,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=r||0,this.promotionCount=void 0}getSubtree(e){let r=(0,j_.asGeneralType)(e);if(r)return this.generalOverloads[r];for(let[n,i]of this.literalOverLoads)if(e===n)return i}getImplementationExact(e){let r=this;for(let n of e)if(r=r.getSubtree(n),!r)return;return r.implementation}getOverloadCacheIdentifier(e){return this.identifier+e.map(r=>{let n=(0,HK.isLiteralTermExpression)(r);return n?n.dataType:r.termType}).join("")}search(e,r,n){let i=this.getOverloadCacheIdentifier(e);if(n.has(i))return n.get(i);let a=[],s=0;if(e.length===0)return this.implementation;for(a.push(...this.getSubTreeWithArg(e[s],r).map(o=>({node:o,index:s+1})));a.length>0;){let{index:o,node:u}=a.pop();if(o===e.length&&u.implementation)return n.set(i,u.implementation),u.implementation;a.push(...u.getSubTreeWithArg(e[o],r).map(d=>({node:d,index:o+1})))}n.set(i,void 0)}addOverload(e,r){this._addOverload([...e],r,0)}_addOverload(e,r,n){let[i,...a]=e;if(!i){(this.promotionCount===void 0||n<=this.promotionCount)&&(this.promotionCount=n,this.implementation=r);return}let s=this.getSubtree(i);if(!s){let o=new q_(this.identifier,this.depth+1),u=(0,j_.asGeneralType)(i);u&&(this.generalOverloads[u]=o);let d=(0,j_.asOverrideType)(i);d&&this.literalOverLoads.push([d,o]),s=o}s._addOverload(a,r,n),i===yh.TypeURL.XSD_STRING&&this.addPromotedOverload(yh.TypeURL.XSD_ANY_URI,r,o=>(0,SS.string)(o.str()),a,n),i===yh.TypeURL.XSD_DOUBLE&&(this.addPromotedOverload(yh.TypeURL.XSD_FLOAT,r,o=>(0,SS.double)(o.typedValue),a,n),this.addPromotedOverload(yh.TypeURL.XSD_DECIMAL,r,o=>(0,SS.double)(o.typedValue),a,n)),i===yh.TypeURL.XSD_FLOAT&&this.addPromotedOverload(yh.TypeURL.XSD_DECIMAL,r,o=>(0,SS.float)(o.typedValue),a,n)}addPromotedOverload(e,r,n,i,a){let s=this.getSubtree(e);if(!s){let o=new q_(this.identifier,this.depth+1);this.literalOverLoads.push([e,o]),s=o}s._addOverload(i,o=>u=>r(o)([...u.slice(0,this.depth),n(u[this.depth]),...u.slice(this.depth+1,u.length)]),a+1)}getSubTreeWithArg(e,r){let n=[],i=(0,HK.isLiteralTermExpression)(e);if(this.generalOverloads.term&&n.push(this.generalOverloads.term),this.generalOverloads[e.termType]&&n.push(this.generalOverloads[e.termType]),i){let a=(0,j_.asKnownLiteralType)(i.dataType),s;a?s=j_.superTypeDictTable[a]:s=(0,j_.getSuperTypes)(i.dataType,r);let o=this.literalOverLoads.filter(([u,d])=>u in s).map(([u,d])=>[s[u],d]);o.sort(([u,d],[f,p])=>u-f),n.push(...o.map(([u,d])=>d))}return n}};TS.OverloadTree=q_});var Xo=_(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.expressionToVar=zr.dateTime=zr.langString=zr.string=zr.double=zr.float=zr.decimal=zr.integer=zr.bool=zr.Builder=zr.declare=void 0;var OTe=Bt(),cl=Ma(),wi=Ma(),zt=gi(),Mn=gi(),GK=Qi(),ES=hh(),RTe=kK(),ATe=PD(),xTe=new OTe.DataFactory;function ITe(t){return new bh(t)}zr.declare=ITe;var bh=class{constructor(e){this.overloadTree=new ATe.OverloadTree(e),this.legacyTree=new RTe.LegacyTree,this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,{experimentalTree:this.overloadTree,tree:this.legacyTree}}set(e,r){return this.overloadTree.addOverload(e,r),this.legacyTree.addOverload(e,r),this}setLegacy(e,r){return this.legacyTree.addLegacyOverload(e,r),this}copy({from:e,to:r}){let n=this.overloadTree.getImplementationExact(e);if(!n)throw new GK.UnexpectedError("Tried to copy implementation, but types not found",{from:e,to:r});return this.set(r,n)}onUnary(e,r){return this.set([e],n=>([i])=>r(n)(i))}onUnaryTyped(e,r){return this.set([e],n=>([i])=>r(n)(i.typedValue))}onBinary(e,r){return this.set(e,n=>([i,a])=>r(n)(i,a))}onBinaryTyped(e,r){return this.set(e,n=>([i,a])=>r(n)(i.typedValue,a.typedValue))}onTernaryTyped(e,r){return this.set(e,n=>([i,a,s])=>r(n)(i.typedValue,a.typedValue,s.typedValue))}onTernary(e,r){return this.set(e,n=>([i,a,s])=>r(n)(i,a,s))}onQuaternaryTyped(e,r){return this.set(e,n=>([i,a,s,o])=>r(n)(i.typedValue,a.typedValue,s.typedValue,o.typedValue))}onTerm1(e){return this.set(["term"],r=>([n])=>e(r)(n))}onLiteral1(e){return this.set(["literal"],r=>([n])=>e(r)(n))}onBoolean1(e){return this.set([zt.TypeURL.XSD_BOOLEAN],r=>([n])=>e(r)(n))}onBoolean1Typed(e){return this.set([zt.TypeURL.XSD_BOOLEAN],r=>([n])=>e(r)(n.typedValue))}onString1(e){return this.set([zt.TypeURL.XSD_STRING],r=>([n])=>e(r)(n))}onString1Typed(e){return this.set([zt.TypeURL.XSD_STRING],r=>([n])=>e(r)(n.typedValue))}onLangString1(e){return this.set([zt.TypeURL.RDF_LANG_STRING],r=>([n])=>e(r)(n))}onStringly1(e){return this.set([zt.TypeAlias.SPARQL_STRINGLY],r=>([n])=>e(r)(n))}onStringly1Typed(e){return this.set([zt.TypeAlias.SPARQL_STRINGLY],r=>([n])=>e(r)(n.typedValue))}onNumeric1(e){return this.set([zt.TypeAlias.SPARQL_NUMERIC],r=>([n])=>e(r)(n)).invalidLexicalForm([zt.TypeAlias.SPARQL_NON_LEXICAL],1)}onDateTime1(e){return this.set([zt.TypeURL.XSD_DATE_TIME],r=>([n])=>e(r)(n)).invalidLexicalForm([zt.TypeAlias.SPARQL_NON_LEXICAL],1)}numericConverter(e){let r=n=>i=>e(n)(i.typedValue);return this.onBinary([Mn.TypeURL.XSD_INTEGER],n=>i=>ND(r(n)(i))).onBinary([Mn.TypeURL.XSD_DECIMAL],n=>i=>DD(r(n)(i))).onBinary([Mn.TypeURL.XSD_FLOAT],n=>i=>CD(r(n)(i))).onBinary([Mn.TypeURL.XSD_DOUBLE],n=>i=>jD(r(n)(i))).invalidLexicalForm([zt.TypeAlias.SPARQL_NON_LEXICAL],1)}arithmetic(e){let r=n=>(i,a)=>e(n)(i.typedValue,a.typedValue);return this.onBinary([Mn.TypeURL.XSD_INTEGER,Mn.TypeURL.XSD_INTEGER],n=>(i,a)=>ND(r(n)(i,a))).onBinary([Mn.TypeURL.XSD_DECIMAL,Mn.TypeURL.XSD_DECIMAL],n=>(i,a)=>DD(r(n)(i,a))).onBinary([Mn.TypeURL.XSD_FLOAT,Mn.TypeURL.XSD_FLOAT],n=>(i,a)=>CD(r(n)(i,a))).onBinary([Mn.TypeURL.XSD_DOUBLE,Mn.TypeURL.XSD_DOUBLE],n=>(i,a)=>jD(r(n)(i,a))).setLegacy([Mn.TypeAlias.SPARQL_NUMERIC,Mn.TypeAlias.SPARQL_NUMERIC],n=>([i,a])=>bh.legacyArithmeticPromotion[i.mainSparqlType][a.mainSparqlType](e(n)(i.typedValue,a.typedValue)))}numberTest(e){return this.numeric(r=>([n,i])=>{let a=e(r)(n.typedValue,i.typedValue);return zb(a)})}stringTest(e){return this.set([zt.TypeURL.XSD_STRING,zt.TypeURL.XSD_STRING],r=>([n,i])=>{let a=e(r)(n.typedValue,i.typedValue);return zb(a)}).invalidLexicalForm([zt.TypeAlias.SPARQL_NON_LEXICAL,zt.TypeURL.XSD_STRING],1).invalidLexicalForm([zt.TypeURL.XSD_STRING,zt.TypeAlias.SPARQL_NON_LEXICAL],2)}booleanTest(e){return this.set([zt.TypeURL.XSD_BOOLEAN,zt.TypeURL.XSD_BOOLEAN],r=>([n,i])=>{let a=e(r)(n.typedValue,i.typedValue);return zb(a)}).invalidLexicalForm([zt.TypeAlias.SPARQL_NON_LEXICAL,zt.TypeURL.XSD_BOOLEAN],1).invalidLexicalForm([zt.TypeURL.XSD_BOOLEAN,zt.TypeAlias.SPARQL_NON_LEXICAL],2)}dateTimeTest(e){return this.set([zt.TypeURL.XSD_DATE_TIME,zt.TypeURL.XSD_DATE_TIME],r=>([n,i])=>{let a=e(r)(n.typedValue,i.typedValue);return zb(a)}).invalidLexicalForm([zt.TypeAlias.SPARQL_NON_LEXICAL,zt.TypeURL.XSD_DATE_TIME],1).invalidLexicalForm([zt.TypeURL.XSD_DATE_TIME,zt.TypeAlias.SPARQL_NON_LEXICAL],2)}numeric(e){return this.set([zt.TypeAlias.SPARQL_NUMERIC,zt.TypeAlias.SPARQL_NUMERIC],e).invalidLexicalForm([zt.TypeAlias.SPARQL_NUMERIC,zt.TypeAlias.SPARQL_NON_LEXICAL],2).invalidLexicalForm([zt.TypeAlias.SPARQL_NON_LEXICAL,zt.TypeAlias.SPARQL_NUMERIC],1)}invalidLexicalForm(e,r){return this.set(e,()=>n=>{throw new GK.InvalidLexicalForm(n[r-1].toRDF())})}};zr.Builder=bh;bh.legacyArithmeticPromotion={integer:{integer:t=>new wi.IntegerLiteral(t),decimal:t=>new wi.DecimalLiteral(t),float:t=>new wi.FloatLiteral(t),double:t=>new wi.DoubleLiteral(t)},decimal:{integer:t=>new wi.DecimalLiteral(t),decimal:t=>new wi.DecimalLiteral(t),float:t=>new wi.FloatLiteral(t),double:t=>new wi.DoubleLiteral(t)},float:{integer:t=>new wi.FloatLiteral(t),decimal:t=>new wi.FloatLiteral(t),float:t=>new wi.FloatLiteral(t),double:t=>new wi.DoubleLiteral(t)},double:{integer:t=>new wi.DoubleLiteral(t),decimal:t=>new wi.DoubleLiteral(t),float:t=>new wi.DoubleLiteral(t),double:t=>new wi.DoubleLiteral(t)}};function zb(t){return new cl.BooleanLiteral(t)}zr.bool=zb;function ND(t,e){if(e&&!(0,ES.isInternalSubType)(e,Mn.TypeURL.XSD_INTEGER))throw new Error("apple");return new cl.IntegerLiteral(t,e)}zr.integer=ND;function DD(t,e){if(e&&!(0,ES.isInternalSubType)(e,Mn.TypeURL.XSD_DECIMAL))throw new Error("apple");return new cl.DecimalLiteral(t,e)}zr.decimal=DD;function CD(t,e){if(e&&!(0,ES.isInternalSubType)(e,Mn.TypeURL.XSD_FLOAT))throw new Error("apple");return new cl.FloatLiteral(t,e)}zr.float=CD;function jD(t,e){if(e&&!(0,ES.isInternalSubType)(e,Mn.TypeURL.XSD_DOUBLE))throw new Error("apple");return new cl.DoubleLiteral(t,e)}zr.double=jD;function PTe(t){return new cl.StringLiteral(t)}zr.string=PTe;function NTe(t,e){return new cl.LangStringLiteral(t,e)}zr.langString=NTe;function DTe(t,e){return new cl.DateTimeLiteral(t,e)}zr.dateTime=DTe;function CTe(t){return xTe.variable(t.name.slice(1))}zr.expressionToVar=CTe});var zK=_(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.namedDefinitions=void 0;var Et=gi(),ll=Qi(),L_=vS(),ur=Xo(),jTe={arity:1,overloads:(0,ur.declare)(Et.TypeURL.XSD_STRING).onNumeric1(()=>t=>(0,ur.string)((0,ur.float)(t.typedValue).str())).onBoolean1Typed(()=>t=>(0,ur.string)((0,ur.bool)(t).str())).onTerm1(()=>t=>(0,ur.string)(t.str())).collect()},qTe={arity:1,overloads:(0,ur.declare)(Et.TypeURL.XSD_FLOAT).onNumeric1(()=>t=>(0,ur.float)(t.typedValue)).onBoolean1Typed(()=>t=>(0,ur.float)(t?1:0)).onUnary(Et.TypeURL.XSD_STRING,()=>t=>{let e=(0,L_.parseXSDFloat)(t.str());if(e===void 0)throw new ll.CastError(t,Et.TypeURL.XSD_FLOAT);return(0,ur.float)(e)}).copy({from:[Et.TypeURL.XSD_STRING],to:[Et.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},LTe={arity:1,overloads:(0,ur.declare)(Et.TypeURL.XSD_DOUBLE).onNumeric1(()=>t=>(0,ur.double)(t.typedValue)).onBoolean1Typed(()=>t=>(0,ur.double)(t?1:0)).onUnary(Et.TypeURL.XSD_STRING,()=>t=>{let e=(0,L_.parseXSDFloat)(t.str());if(e===void 0)throw new ll.CastError(t,Et.TypeURL.XSD_DOUBLE);return(0,ur.double)(e)}).copy({from:[Et.TypeURL.XSD_STRING],to:[Et.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},MTe={arity:1,overloads:(0,ur.declare)(Et.TypeURL.XSD_DECIMAL).onNumeric1(()=>t=>{let e=(0,L_.parseXSDDecimal)(t.str());if(e===void 0)throw new ll.CastError(t,Et.TypeURL.XSD_DECIMAL);return(0,ur.decimal)(e)}).onString1(()=>t=>{let e=t.str(),r=/^([+-])?(\d+(\.\d+)?)$/u.test(e)?(0,L_.parseXSDDecimal)(e):void 0;if(r===void 0)throw new ll.CastError(t,Et.TypeURL.XSD_DECIMAL);return(0,ur.decimal)(r)}).copy({from:[Et.TypeURL.XSD_STRING],to:[Et.TypeAlias.SPARQL_NON_LEXICAL]}).onBoolean1Typed(()=>t=>(0,ur.decimal)(t?1:0)).collect()},FTe={arity:1,overloads:(0,ur.declare)(Et.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>t=>(0,ur.integer)(t?1:0)).onNumeric1(()=>t=>{let e=(0,L_.parseXSDInteger)(t.str());if(e===void 0)throw new ll.CastError(t,Et.TypeURL.XSD_INTEGER);return(0,ur.integer)(e)}).onString1(()=>t=>{let e=t.str(),r=/^\d+$/u.test(e)?(0,L_.parseXSDInteger)(e):void 0;if(r===void 0)throw new ll.CastError(t,Et.TypeURL.XSD_INTEGER);return(0,ur.integer)(r)}).copy({from:[Et.TypeAlias.SPARQL_NUMERIC],to:[Et.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},QK={arity:1,overloads:(0,ur.declare)(Et.TypeURL.XSD_DATE_TIME).onUnary(Et.TypeURL.XSD_DATE_TIME,()=>t=>t).onUnary(Et.TypeURL.XSD_STRING,()=>t=>{let e=new Date(t.str());if(Number.isNaN(e.getTime()))throw new ll.CastError(t,Et.TypeURL.XSD_DATE_TIME);return(0,ur.dateTime)(e,t.str())}).copy({from:[Et.TypeURL.XSD_STRING],to:[Et.TypeAlias.SPARQL_NON_LEXICAL]}).collect()},BTe={arity:1,overloads:(0,ur.declare)(Et.TypeURL.XSD_BOOLEAN).onNumeric1(()=>t=>(0,ur.bool)(t.coerceEBV())).onUnary(Et.TypeURL.XSD_BOOLEAN,()=>t=>(0,ur.bool)(t.coerceEBV())).onUnary(Et.TypeURL.XSD_STRING,()=>t=>{switch(t.str()){case"true":return(0,ur.bool)(!0);case"false":return(0,ur.bool)(!1);case"1":return(0,ur.bool)(!0);case"0":return(0,ur.bool)(!1);default:throw new ll.CastError(t,Et.TypeURL.XSD_BOOLEAN)}}).copy({from:[Et.TypeURL.XSD_STRING],to:[Et.TypeAlias.SPARQL_NON_LEXICAL]}).collect()};OS.namedDefinitions={[Et.TypeURL.XSD_STRING]:jTe,[Et.TypeURL.XSD_FLOAT]:qTe,[Et.TypeURL.XSD_DOUBLE]:LTe,[Et.TypeURL.XSD_DECIMAL]:MTe,[Et.TypeURL.XSD_INTEGER]:FTe,[Et.TypeURL.XSD_DATE_TIME]:QK,[Et.TypeURL.XSD_DATE]:QK,[Et.TypeURL.XSD_BOOLEAN]:BTe}});var KK=_((WK,RS)=>{(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",o=1e14,u=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,y=1e9;function g(P){var T,te,ee,Y=fe.prototype={constructor:fe,toString:null,valueOf:null},x=new fe(1),H=20,se=4,Ne=-7,Me=21,J=-1e7,re=1e7,de=!1,_e=1,Ce=0,nt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ze="0123456789abcdefghijklmnopqrstuvwxyz",Ye=!0;function fe(N,L){var V,$,M,k,z,B,Q,K,W=this;if(!(W instanceof fe))return new fe(N,L);if(L==null){if(N&&N._isBigNumber===!0){W.s=N.s,!N.c||N.e>re?W.c=W.e=null:N.e<J?W.c=[W.e=0]:(W.e=N.e,W.c=N.c.slice());return}if((B=typeof N=="number")&&N*0==0){if(W.s=1/N<0?(N=-N,-1):1,N===~~N){for(k=0,z=N;z>=10;z/=10,k++);k>re?W.c=W.e=null:(W.e=k,W.c=[N]);return}K=String(N)}else{if(!r.test(K=String(N)))return ee(W,K,B);W.s=K.charCodeAt(0)==45?(K=K.slice(1),-1):1}(k=K.indexOf("."))>-1&&(K=K.replace(".","")),(z=K.search(/e/i))>0?(k<0&&(k=z),k+=+K.slice(z+1),K=K.substring(0,z)):k<0&&(k=K.length)}else{if(O(L,2,ze.length,"Base"),L==10&&Ye)return W=new fe(N),Oe(W,H+W.e+1,se);if(K=String(N),B=typeof N=="number"){if(N*0!=0)return ee(W,K,B,L);if(W.s=1/N<0?(K=K.slice(1),-1):1,fe.DEBUG&&K.replace(/^0\.0*|\./,"").length>15)throw Error(s+N)}else W.s=K.charCodeAt(0)===45?(K=K.slice(1),-1):1;for(V=ze.slice(0,L),k=z=0,Q=K.length;z<Q;z++)if(V.indexOf($=K.charAt(z))<0){if($=="."){if(z>k){k=Q;continue}}else if(!M&&(K==K.toUpperCase()&&(K=K.toLowerCase())||K==K.toLowerCase()&&(K=K.toUpperCase()))){M=!0,z=-1,k=0;continue}return ee(W,String(N),B,L)}B=!1,K=te(K,L,10,W.s),(k=K.indexOf("."))>-1?K=K.replace(".",""):k=K.length}for(z=0;K.charCodeAt(z)===48;z++);for(Q=K.length;K.charCodeAt(--Q)===48;);if(K=K.slice(z,++Q)){if(Q-=z,B&&fe.DEBUG&&Q>15&&(N>d||N!==i(N)))throw Error(s+W.s*N);if((k=k-z-1)>re)W.c=W.e=null;else if(k<J)W.c=[W.e=0];else{if(W.e=k,W.c=[],z=(k+1)%u,k<0&&(z+=u),z<Q){for(z&&W.c.push(+K.slice(0,z)),Q-=u;z<Q;)W.c.push(+K.slice(z,z+=u));z=u-(K=K.slice(z)).length}else z-=Q;for(;z--;K+="0");W.c.push(+K)}}else W.c=[W.e=0]}fe.clone=g,fe.ROUND_UP=0,fe.ROUND_DOWN=1,fe.ROUND_CEIL=2,fe.ROUND_FLOOR=3,fe.ROUND_HALF_UP=4,fe.ROUND_HALF_DOWN=5,fe.ROUND_HALF_EVEN=6,fe.ROUND_HALF_CEIL=7,fe.ROUND_HALF_FLOOR=8,fe.EUCLID=9,fe.config=fe.set=function(N){var L,V;if(N!=null)if(typeof N=="object"){if(N.hasOwnProperty(L="DECIMAL_PLACES")&&(V=N[L],O(V,0,y,L),H=V),N.hasOwnProperty(L="ROUNDING_MODE")&&(V=N[L],O(V,0,8,L),se=V),N.hasOwnProperty(L="EXPONENTIAL_AT")&&(V=N[L],V&&V.pop?(O(V[0],-y,0,L),O(V[1],0,y,L),Ne=V[0],Me=V[1]):(O(V,-y,y,L),Ne=-(Me=V<0?-V:V))),N.hasOwnProperty(L="RANGE"))if(V=N[L],V&&V.pop)O(V[0],-y,-1,L),O(V[1],1,y,L),J=V[0],re=V[1];else if(O(V,-y,y,L),V)J=-(re=V<0?-V:V);else throw Error(a+L+" cannot be zero: "+V);if(N.hasOwnProperty(L="CRYPTO"))if(V=N[L],V===!!V)if(V)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))de=V;else throw de=!V,Error(a+"crypto unavailable");else de=V;else throw Error(a+L+" not true or false: "+V);if(N.hasOwnProperty(L="MODULO_MODE")&&(V=N[L],O(V,0,9,L),_e=V),N.hasOwnProperty(L="POW_PRECISION")&&(V=N[L],O(V,0,y,L),Ce=V),N.hasOwnProperty(L="FORMAT"))if(V=N[L],typeof V=="object")nt=V;else throw Error(a+L+" not an object: "+V);if(N.hasOwnProperty(L="ALPHABET"))if(V=N[L],typeof V=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(V))Ye=V.slice(0,10)=="0123456789",ze=V;else throw Error(a+L+" invalid: "+V)}else throw Error(a+"Object expected: "+N);return{DECIMAL_PLACES:H,ROUNDING_MODE:se,EXPONENTIAL_AT:[Ne,Me],RANGE:[J,re],CRYPTO:de,MODULO_MODE:_e,POW_PRECISION:Ce,FORMAT:nt,ALPHABET:ze}},fe.isBigNumber=function(N){if(!N||N._isBigNumber!==!0)return!1;if(!fe.DEBUG)return!0;var L,V,$=N.c,M=N.e,k=N.s;e:if({}.toString.call($)=="[object Array]"){if((k===1||k===-1)&&M>=-y&&M<=y&&M===i(M)){if($[0]===0){if(M===0&&$.length===1)return!0;break e}if(L=(M+1)%u,L<1&&(L+=u),String($[0]).length==L){for(L=0;L<$.length;L++)if(V=$[L],V<0||V>=o||V!==i(V))break e;if(V!==0)return!0}}}else if($===null&&M===null&&(k===null||k===1||k===-1))return!0;throw Error(a+"Invalid BigNumber: "+N)},fe.maximum=fe.max=function(){return oe(arguments,Y.lt)},fe.minimum=fe.min=function(){return oe(arguments,Y.gt)},fe.random=function(){var N=9007199254740992,L=Math.random()*N&2097151?function(){return i(Math.random()*N)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(V){var $,M,k,z,B,Q=0,K=[],W=new fe(x);if(V==null?V=H:O(V,0,y),z=n(V/u),de)if(crypto.getRandomValues){for($=crypto.getRandomValues(new Uint32Array(z*=2));Q<z;)B=$[Q]*131072+($[Q+1]>>>11),B>=9e15?(M=crypto.getRandomValues(new Uint32Array(2)),$[Q]=M[0],$[Q+1]=M[1]):(K.push(B%1e14),Q+=2);Q=z/2}else if(crypto.randomBytes){for($=crypto.randomBytes(z*=7);Q<z;)B=($[Q]&31)*281474976710656+$[Q+1]*1099511627776+$[Q+2]*4294967296+$[Q+3]*16777216+($[Q+4]<<16)+($[Q+5]<<8)+$[Q+6],B>=9e15?crypto.randomBytes(7).copy($,Q):(K.push(B%1e14),Q+=7);Q=z/7}else throw de=!1,Error(a+"crypto unavailable");if(!de)for(;Q<z;)B=L(),B<9e15&&(K[Q++]=B%1e14);for(z=K[--Q],V%=u,z&&V&&(B=f[u-V],K[Q]=i(z/B)*B);K[Q]===0;K.pop(),Q--);if(Q<0)K=[k=0];else{for(k=-1;K[0]===0;K.splice(0,1),k-=u);for(Q=1,B=K[0];B>=10;B/=10,Q++);Q<u&&(k-=u-Q)}return W.e=k,W.c=K,W}}(),fe.sum=function(){for(var N=1,L=arguments,V=new fe(L[0]);N<L.length;)V=V.plus(L[N++]);return V},te=function(){var N="0123456789";function L(V,$,M,k){for(var z,B=[0],Q,K=0,W=V.length;K<W;){for(Q=B.length;Q--;B[Q]*=$);for(B[0]+=k.indexOf(V.charAt(K++)),z=0;z<B.length;z++)B[z]>M-1&&(B[z+1]==null&&(B[z+1]=0),B[z+1]+=B[z]/M|0,B[z]%=M)}return B.reverse()}return function(V,$,M,k,z){var B,Q,K,W,ne,ge,Se,Pe,qe=V.indexOf("."),Fe=H,Be=se;for(qe>=0&&(W=Ce,Ce=0,V=V.replace(".",""),Pe=new fe($),ge=Pe.pow(V.length-qe),Ce=W,Pe.c=L(w(E(ge.c),ge.e,"0"),10,M,N),Pe.e=Pe.c.length),Se=L(V,$,M,z?(B=ze,N):(B=N,ze)),K=W=Se.length;Se[--W]==0;Se.pop());if(!Se[0])return B.charAt(0);if(qe<0?--K:(ge.c=Se,ge.e=K,ge.s=k,ge=T(ge,Pe,Fe,Be,M),Se=ge.c,ne=ge.r,K=ge.e),Q=K+Fe+1,qe=Se[Q],W=M/2,ne=ne||Q<0||Se[Q+1]!=null,ne=Be<4?(qe!=null||ne)&&(Be==0||Be==(ge.s<0?3:2)):qe>W||qe==W&&(Be==4||ne||Be==6&&Se[Q-1]&1||Be==(ge.s<0?8:7)),Q<1||!Se[0])V=ne?w(B.charAt(1),-Fe,B.charAt(0)):B.charAt(0);else{if(Se.length=Q,ne)for(--M;++Se[--Q]>M;)Se[Q]=0,Q||(++K,Se=[1].concat(Se));for(W=Se.length;!Se[--W];);for(qe=0,V="";qe<=W;V+=B.charAt(Se[qe++]));V=w(V,K,B.charAt(0))}return V}}(),T=function(){function N($,M,k){var z,B,Q,K,W=0,ne=$.length,ge=M%p,Se=M/p|0;for($=$.slice();ne--;)Q=$[ne]%p,K=$[ne]/p|0,z=Se*Q+K*ge,B=ge*Q+z%p*p+W,W=(B/k|0)+(z/p|0)+Se*K,$[ne]=B%k;return W&&($=[W].concat($)),$}function L($,M,k,z){var B,Q;if(k!=z)Q=k>z?1:-1;else for(B=Q=0;B<k;B++)if($[B]!=M[B]){Q=$[B]>M[B]?1:-1;break}return Q}function V($,M,k,z){for(var B=0;k--;)$[k]-=B,B=$[k]<M[k]?1:0,$[k]=B*z+$[k]-M[k];for(;!$[0]&&$.length>1;$.splice(0,1));}return function($,M,k,z,B){var Q,K,W,ne,ge,Se,Pe,qe,Fe,Be,Ge,Ze,mt,ft,$e,hr,Wt,Nr=$.s==M.s?1:-1,Or=$.c,vt=M.c;if(!Or||!Or[0]||!vt||!vt[0])return new fe(!$.s||!M.s||(Or?vt&&Or[0]==vt[0]:!vt)?NaN:Or&&Or[0]==0||!vt?Nr*0:Nr/0);for(qe=new fe(Nr),Fe=qe.c=[],K=$.e-M.e,Nr=k+K+1,B||(B=o,K=v($.e/u)-v(M.e/u),Nr=Nr/u|0),W=0;vt[W]==(Or[W]||0);W++);if(vt[W]>(Or[W]||0)&&K--,Nr<0)Fe.push(1),ne=!0;else{for(ft=Or.length,hr=vt.length,W=0,Nr+=2,ge=i(B/(vt[0]+1)),ge>1&&(vt=N(vt,ge,B),Or=N(Or,ge,B),hr=vt.length,ft=Or.length),mt=hr,Be=Or.slice(0,hr),Ge=Be.length;Ge<hr;Be[Ge++]=0);Wt=vt.slice(),Wt=[0].concat(Wt),$e=vt[0],vt[1]>=B/2&&$e++;do{if(ge=0,Q=L(vt,Be,hr,Ge),Q<0){if(Ze=Be[0],hr!=Ge&&(Ze=Ze*B+(Be[1]||0)),ge=i(Ze/$e),ge>1)for(ge>=B&&(ge=B-1),Se=N(vt,ge,B),Pe=Se.length,Ge=Be.length;L(Se,Be,Pe,Ge)==1;)ge--,V(Se,hr<Pe?Wt:vt,Pe,B),Pe=Se.length,Q=1;else ge==0&&(Q=ge=1),Se=vt.slice(),Pe=Se.length;if(Pe<Ge&&(Se=[0].concat(Se)),V(Be,Se,Ge,B),Ge=Be.length,Q==-1)for(;L(vt,Be,hr,Ge)<1;)ge++,V(Be,hr<Ge?Wt:vt,Ge,B),Ge=Be.length}else Q===0&&(ge++,Be=[0]);Fe[W++]=ge,Be[0]?Be[Ge++]=Or[mt]||0:(Be=[Or[mt]],Ge=1)}while((mt++<ft||Be[0]!=null)&&Nr--);ne=Be[0]!=null,Fe[0]||Fe.splice(0,1)}if(B==o){for(W=1,Nr=Fe[0];Nr>=10;Nr/=10,W++);Oe(qe,k+(qe.e=W+K*u-1)+1,z,ne)}else qe.e=K,qe.r=+ne;return qe}}();function ae(N,L,V,$){var M,k,z,B,Q;if(V==null?V=se:O(V,0,8),!N.c)return N.toString();if(M=N.c[0],z=N.e,L==null)Q=E(N.c),Q=$==1||$==2&&(z<=Ne||z>=Me)?R(Q,z):w(Q,z,"0");else if(N=Oe(new fe(N),L,V),k=N.e,Q=E(N.c),B=Q.length,$==1||$==2&&(L<=k||k<=Ne)){for(;B<L;Q+="0",B++);Q=R(Q,k)}else if(L-=z,Q=w(Q,k,"0"),k+1>B){if(--L>0)for(Q+=".";L--;Q+="0");}else if(L+=k-B,L>0)for(k+1==B&&(Q+=".");L--;Q+="0");return N.s<0&&M?"-"+Q:Q}function oe(N,L){for(var V,$=1,M=new fe(N[0]);$<N.length;$++)if(V=new fe(N[$]),V.s)L.call(M,V)&&(M=V);else{M=V;break}return M}function pe(N,L,V){for(var $=1,M=L.length;!L[--M];L.pop());for(M=L[0];M>=10;M/=10,$++);return(V=$+V*u-1)>re?N.c=N.e=null:V<J?N.c=[N.e=0]:(N.e=V,N.c=L),N}ee=function(){var N=/^(-?)0([xbo])(?=\w[\w.]*$)/i,L=/^([^.]+)\.$/,V=/^\.([^.]+)$/,$=/^-?(Infinity|NaN)$/,M=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(k,z,B,Q){var K,W=B?z:z.replace(M,"");if($.test(W))k.s=isNaN(W)?null:W<0?-1:1;else{if(!B&&(W=W.replace(N,function(ne,ge,Se){return K=(Se=Se.toLowerCase())=="x"?16:Se=="b"?2:8,!Q||Q==K?ge:ne}),Q&&(K=Q,W=W.replace(L,"$1").replace(V,"0.$1")),z!=W))return new fe(W,K);if(fe.DEBUG)throw Error(a+"Not a"+(Q?" base "+Q:"")+" number: "+z);k.s=null}k.c=k.e=null}}();function Oe(N,L,V,$){var M,k,z,B,Q,K,W,ne=N.c,ge=f;if(ne){e:{for(M=1,B=ne[0];B>=10;B/=10,M++);if(k=L-M,k<0)k+=u,z=L,Q=ne[K=0],W=Q/ge[M-z-1]%10|0;else if(K=n((k+1)/u),K>=ne.length)if($){for(;ne.length<=K;ne.push(0));Q=W=0,M=1,k%=u,z=k-u+1}else break e;else{for(Q=B=ne[K],M=1;B>=10;B/=10,M++);k%=u,z=k-u+M,W=z<0?0:Q/ge[M-z-1]%10|0}if($=$||L<0||ne[K+1]!=null||(z<0?Q:Q%ge[M-z-1]),$=V<4?(W||$)&&(V==0||V==(N.s<0?3:2)):W>5||W==5&&(V==4||$||V==6&&(k>0?z>0?Q/ge[M-z]:0:ne[K-1])%10&1||V==(N.s<0?8:7)),L<1||!ne[0])return ne.length=0,$?(L-=N.e+1,ne[0]=ge[(u-L%u)%u],N.e=-L||0):ne[0]=N.e=0,N;if(k==0?(ne.length=K,B=1,K--):(ne.length=K+1,B=ge[u-k],ne[K]=z>0?i(Q/ge[M-z]%ge[z])*B:0),$)for(;;)if(K==0){for(k=1,z=ne[0];z>=10;z/=10,k++);for(z=ne[0]+=B,B=1;z>=10;z/=10,B++);k!=B&&(N.e++,ne[0]==o&&(ne[0]=1));break}else{if(ne[K]+=B,ne[K]!=o)break;ne[K--]=0,B=1}for(k=ne.length;ne[--k]===0;ne.pop());}N.e>re?N.c=N.e=null:N.e<J&&(N.c=[N.e=0])}return N}function Ue(N){var L,V=N.e;return V===null?N.toString():(L=E(N.c),L=V<=Ne||V>=Me?R(L,V):w(L,V,"0"),N.s<0?"-"+L:L)}return Y.absoluteValue=Y.abs=function(){var N=new fe(this);return N.s<0&&(N.s=1),N},Y.comparedTo=function(N,L){return D(this,new fe(N,L))},Y.decimalPlaces=Y.dp=function(N,L){var V,$,M,k=this;if(N!=null)return O(N,0,y),L==null?L=se:O(L,0,8),Oe(new fe(k),N+k.e+1,L);if(!(V=k.c))return null;if($=((M=V.length-1)-v(this.e/u))*u,M=V[M])for(;M%10==0;M/=10,$--);return $<0&&($=0),$},Y.dividedBy=Y.div=function(N,L){return T(this,new fe(N,L),H,se)},Y.dividedToIntegerBy=Y.idiv=function(N,L){return T(this,new fe(N,L),0,1)},Y.exponentiatedBy=Y.pow=function(N,L){var V,$,M,k,z,B,Q,K,W,ne=this;if(N=new fe(N),N.c&&!N.isInteger())throw Error(a+"Exponent not an integer: "+Ue(N));if(L!=null&&(L=new fe(L)),B=N.e>14,!ne.c||!ne.c[0]||ne.c[0]==1&&!ne.e&&ne.c.length==1||!N.c||!N.c[0])return W=new fe(Math.pow(+Ue(ne),B?2-C(N):+Ue(N))),L?W.mod(L):W;if(Q=N.s<0,L){if(L.c?!L.c[0]:!L.s)return new fe(NaN);$=!Q&&ne.isInteger()&&L.isInteger(),$&&(ne=ne.mod(L))}else{if(N.e>9&&(ne.e>0||ne.e<-1||(ne.e==0?ne.c[0]>1||B&&ne.c[1]>=24e7:ne.c[0]<8e13||B&&ne.c[0]<=9999975e7)))return k=ne.s<0&&C(N)?-0:0,ne.e>-1&&(k=1/k),new fe(Q?1/k:k);Ce&&(k=n(Ce/u+2))}for(B?(V=new fe(.5),Q&&(N.s=1),K=C(N)):(M=Math.abs(+Ue(N)),K=M%2),W=new fe(x);;){if(K){if(W=W.times(ne),!W.c)break;k?W.c.length>k&&(W.c.length=k):$&&(W=W.mod(L))}if(M){if(M=i(M/2),M===0)break;K=M%2}else if(N=N.times(V),Oe(N,N.e+1,1),N.e>14)K=C(N);else{if(M=+Ue(N),M===0)break;K=M%2}ne=ne.times(ne),k?ne.c&&ne.c.length>k&&(ne.c.length=k):$&&(ne=ne.mod(L))}return $?W:(Q&&(W=x.div(W)),L?W.mod(L):k?Oe(W,Ce,se,z):W)},Y.integerValue=function(N){var L=new fe(this);return N==null?N=se:O(N,0,8),Oe(L,L.e+1,N)},Y.isEqualTo=Y.eq=function(N,L){return D(this,new fe(N,L))===0},Y.isFinite=function(){return!!this.c},Y.isGreaterThan=Y.gt=function(N,L){return D(this,new fe(N,L))>0},Y.isGreaterThanOrEqualTo=Y.gte=function(N,L){return(L=D(this,new fe(N,L)))===1||L===0},Y.isInteger=function(){return!!this.c&&v(this.e/u)>this.c.length-2},Y.isLessThan=Y.lt=function(N,L){return D(this,new fe(N,L))<0},Y.isLessThanOrEqualTo=Y.lte=function(N,L){return(L=D(this,new fe(N,L)))===-1||L===0},Y.isNaN=function(){return!this.s},Y.isNegative=function(){return this.s<0},Y.isPositive=function(){return this.s>0},Y.isZero=function(){return!!this.c&&this.c[0]==0},Y.minus=function(N,L){var V,$,M,k,z=this,B=z.s;if(N=new fe(N,L),L=N.s,!B||!L)return new fe(NaN);if(B!=L)return N.s=-L,z.plus(N);var Q=z.e/u,K=N.e/u,W=z.c,ne=N.c;if(!Q||!K){if(!W||!ne)return W?(N.s=-L,N):new fe(ne?z:NaN);if(!W[0]||!ne[0])return ne[0]?(N.s=-L,N):new fe(W[0]?z:se==3?-0:0)}if(Q=v(Q),K=v(K),W=W.slice(),B=Q-K){for((k=B<0)?(B=-B,M=W):(K=Q,M=ne),M.reverse(),L=B;L--;M.push(0));M.reverse()}else for($=(k=(B=W.length)<(L=ne.length))?B:L,B=L=0;L<$;L++)if(W[L]!=ne[L]){k=W[L]<ne[L];break}if(k&&(M=W,W=ne,ne=M,N.s=-N.s),L=($=ne.length)-(V=W.length),L>0)for(;L--;W[V++]=0);for(L=o-1;$>B;){if(W[--$]<ne[$]){for(V=$;V&&!W[--V];W[V]=L);--W[V],W[$]+=o}W[$]-=ne[$]}for(;W[0]==0;W.splice(0,1),--K);return W[0]?pe(N,W,K):(N.s=se==3?-1:1,N.c=[N.e=0],N)},Y.modulo=Y.mod=function(N,L){var V,$,M=this;return N=new fe(N,L),!M.c||!N.s||N.c&&!N.c[0]?new fe(NaN):!N.c||M.c&&!M.c[0]?new fe(M):(_e==9?($=N.s,N.s=1,V=T(M,N,0,3),N.s=$,V.s*=$):V=T(M,N,0,_e),N=M.minus(V.times(N)),!N.c[0]&&_e==1&&(N.s=M.s),N)},Y.multipliedBy=Y.times=function(N,L){var V,$,M,k,z,B,Q,K,W,ne,ge,Se,Pe,qe,Fe,Be=this,Ge=Be.c,Ze=(N=new fe(N,L)).c;if(!Ge||!Ze||!Ge[0]||!Ze[0])return!Be.s||!N.s||Ge&&!Ge[0]&&!Ze||Ze&&!Ze[0]&&!Ge?N.c=N.e=N.s=null:(N.s*=Be.s,!Ge||!Ze?N.c=N.e=null:(N.c=[0],N.e=0)),N;for($=v(Be.e/u)+v(N.e/u),N.s*=Be.s,Q=Ge.length,ne=Ze.length,Q<ne&&(Pe=Ge,Ge=Ze,Ze=Pe,M=Q,Q=ne,ne=M),M=Q+ne,Pe=[];M--;Pe.push(0));for(qe=o,Fe=p,M=ne;--M>=0;){for(V=0,ge=Ze[M]%Fe,Se=Ze[M]/Fe|0,z=Q,k=M+z;k>M;)K=Ge[--z]%Fe,W=Ge[z]/Fe|0,B=Se*K+W*ge,K=ge*K+B%Fe*Fe+Pe[k]+V,V=(K/qe|0)+(B/Fe|0)+Se*W,Pe[k--]=K%qe;Pe[k]=V}return V?++$:Pe.splice(0,1),pe(N,Pe,$)},Y.negated=function(){var N=new fe(this);return N.s=-N.s||null,N},Y.plus=function(N,L){var V,$=this,M=$.s;if(N=new fe(N,L),L=N.s,!M||!L)return new fe(NaN);if(M!=L)return N.s=-L,$.minus(N);var k=$.e/u,z=N.e/u,B=$.c,Q=N.c;if(!k||!z){if(!B||!Q)return new fe(M/0);if(!B[0]||!Q[0])return Q[0]?N:new fe(B[0]?$:M*0)}if(k=v(k),z=v(z),B=B.slice(),M=k-z){for(M>0?(z=k,V=Q):(M=-M,V=B),V.reverse();M--;V.push(0));V.reverse()}for(M=B.length,L=Q.length,M-L<0&&(V=Q,Q=B,B=V,L=M),M=0;L;)M=(B[--L]=B[L]+Q[L]+M)/o|0,B[L]=o===B[L]?0:B[L]%o;return M&&(B=[M].concat(B),++z),pe(N,B,z)},Y.precision=Y.sd=function(N,L){var V,$,M,k=this;if(N!=null&&N!==!!N)return O(N,1,y),L==null?L=se:O(L,0,8),Oe(new fe(k),N,L);if(!(V=k.c))return null;if(M=V.length-1,$=M*u+1,M=V[M]){for(;M%10==0;M/=10,$--);for(M=V[0];M>=10;M/=10,$++);}return N&&k.e+1>$&&($=k.e+1),$},Y.shiftedBy=function(N){return O(N,-d,d),this.times("1e"+N)},Y.squareRoot=Y.sqrt=function(){var N,L,V,$,M,k=this,z=k.c,B=k.s,Q=k.e,K=H+4,W=new fe("0.5");if(B!==1||!z||!z[0])return new fe(!B||B<0&&(!z||z[0])?NaN:z?k:1/0);if(B=Math.sqrt(+Ue(k)),B==0||B==1/0?(L=E(z),(L.length+Q)%2==0&&(L+="0"),B=Math.sqrt(+L),Q=v((Q+1)/2)-(Q<0||Q%2),B==1/0?L="5e"+Q:(L=B.toExponential(),L=L.slice(0,L.indexOf("e")+1)+Q),V=new fe(L)):V=new fe(B+""),V.c[0]){for(Q=V.e,B=Q+K,B<3&&(B=0);;)if(M=V,V=W.times(M.plus(T(k,M,K,1))),E(M.c).slice(0,B)===(L=E(V.c)).slice(0,B))if(V.e<Q&&--B,L=L.slice(B-3,B+1),L=="9999"||!$&&L=="4999"){if(!$&&(Oe(M,M.e+H+2,0),M.times(M).eq(k))){V=M;break}K+=4,B+=4,$=1}else{(!+L||!+L.slice(1)&&L.charAt(0)=="5")&&(Oe(V,V.e+H+2,1),N=!V.times(V).eq(k));break}}return Oe(V,V.e+H+1,se,N)},Y.toExponential=function(N,L){return N!=null&&(O(N,0,y),N++),ae(this,N,L,1)},Y.toFixed=function(N,L){return N!=null&&(O(N,0,y),N=N+this.e+1),ae(this,N,L)},Y.toFormat=function(N,L,V){var $,M=this;if(V==null)N!=null&&L&&typeof L=="object"?(V=L,L=null):N&&typeof N=="object"?(V=N,N=L=null):V=nt;else if(typeof V!="object")throw Error(a+"Argument not an object: "+V);if($=M.toFixed(N,L),M.c){var k,z=$.split("."),B=+V.groupSize,Q=+V.secondaryGroupSize,K=V.groupSeparator||"",W=z[0],ne=z[1],ge=M.s<0,Se=ge?W.slice(1):W,Pe=Se.length;if(Q&&(k=B,B=Q,Q=k,Pe-=k),B>0&&Pe>0){for(k=Pe%B||B,W=Se.substr(0,k);k<Pe;k+=B)W+=K+Se.substr(k,B);Q>0&&(W+=K+Se.slice(k)),ge&&(W="-"+W)}$=ne?W+(V.decimalSeparator||"")+((Q=+V.fractionGroupSize)?ne.replace(new RegExp("\\d{"+Q+"}\\B","g"),"$&"+(V.fractionGroupSeparator||"")):ne):W}return(V.prefix||"")+$+(V.suffix||"")},Y.toFraction=function(N){var L,V,$,M,k,z,B,Q,K,W,ne,ge,Se=this,Pe=Se.c;if(N!=null&&(B=new fe(N),!B.isInteger()&&(B.c||B.s!==1)||B.lt(x)))throw Error(a+"Argument "+(B.isInteger()?"out of range: ":"not an integer: ")+Ue(B));if(!Pe)return new fe(Se);for(L=new fe(x),K=V=new fe(x),$=Q=new fe(x),ge=E(Pe),k=L.e=ge.length-Se.e-1,L.c[0]=f[(z=k%u)<0?u+z:z],N=!N||B.comparedTo(L)>0?k>0?L:K:B,z=re,re=1/0,B=new fe(ge),Q.c[0]=0;W=T(B,L,0,1),M=V.plus(W.times($)),M.comparedTo(N)!=1;)V=$,$=M,K=Q.plus(W.times(M=K)),Q=M,L=B.minus(W.times(M=L)),B=M;return M=T(N.minus(V),$,0,1),Q=Q.plus(M.times(K)),V=V.plus(M.times($)),Q.s=K.s=Se.s,k=k*2,ne=T(K,$,k,se).minus(Se).abs().comparedTo(T(Q,V,k,se).minus(Se).abs())<1?[K,$]:[Q,V],re=z,ne},Y.toNumber=function(){return+Ue(this)},Y.toPrecision=function(N,L){return N!=null&&O(N,1,y),ae(this,N,L,2)},Y.toString=function(N){var L,V=this,$=V.s,M=V.e;return M===null?$?(L="Infinity",$<0&&(L="-"+L)):L="NaN":(N==null?L=M<=Ne||M>=Me?R(E(V.c),M):w(E(V.c),M,"0"):N===10&&Ye?(V=Oe(new fe(V),H+M+1,se),L=w(E(V.c),V.e,"0")):(O(N,2,ze.length,"Base"),L=te(w(E(V.c),M,"0"),10,N,$,!0)),$<0&&V.c[0]&&(L="-"+L)),L},Y.valueOf=Y.toJSON=function(){return Ue(this)},Y._isBigNumber=!0,P!=null&&fe.set(P),fe}function v(P){var T=P|0;return P>0||P===T?T:T-1}function E(P){for(var T,te,ee=1,Y=P.length,x=P[0]+"";ee<Y;){for(T=P[ee++]+"",te=u-T.length;te--;T="0"+T);x+=T}for(Y=x.length;x.charCodeAt(--Y)===48;);return x.slice(0,Y+1||1)}function D(P,T){var te,ee,Y=P.c,x=T.c,H=P.s,se=T.s,Ne=P.e,Me=T.e;if(!H||!se)return null;if(te=Y&&!Y[0],ee=x&&!x[0],te||ee)return te?ee?0:-se:H;if(H!=se)return H;if(te=H<0,ee=Ne==Me,!Y||!x)return ee?0:!Y^te?1:-1;if(!ee)return Ne>Me^te?1:-1;for(se=(Ne=Y.length)<(Me=x.length)?Ne:Me,H=0;H<se;H++)if(Y[H]!=x[H])return Y[H]>x[H]^te?1:-1;return Ne==Me?0:Ne>Me^te?1:-1}function O(P,T,te,ee){if(P<T||P>te||P!==i(P))throw Error(a+(ee||"Argument")+(typeof P=="number"?P<T||P>te?" out of range: ":" not an integer: ":" not a primitive number: ")+String(P))}function C(P){var T=P.c.length-1;return v(P.e/u)==T&&P.c[T]%2!=0}function R(P,T){return(P.length>1?P.charAt(0)+"."+P.slice(1):P)+(T<0?"e":"e+")+T}function w(P,T,te){var ee,Y;if(T<0){for(Y=te+".";++T;Y+=te);P=Y+P}else if(ee=P.length,++T>ee){for(Y=te,T-=ee;--T;Y+=te);P+=Y}else T<ee&&(P=P.slice(0,T)+"."+P.slice(T));return P}e=g(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof RS<"u"&&RS.exports?RS.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(WK)});var JK=_((XK,$K)=>{(function(t){if(typeof XK=="object")$K.exports=t();else if(typeof define=="function"&&define.amd)define(t);else{var e;try{e=window}catch{e=self}e.SparkMD5=t()}})(function(t){"use strict";var e=function(O,C){return O+C&4294967295},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(O,C,R,w,P,T){return C=e(e(C,O),e(w,T)),e(C<<P|C>>>32-P,R)}function i(O,C){var R=O[0],w=O[1],P=O[2],T=O[3];R+=(w&P|~w&T)+C[0]-680876936|0,R=(R<<7|R>>>25)+w|0,T+=(R&w|~R&P)+C[1]-389564586|0,T=(T<<12|T>>>20)+R|0,P+=(T&R|~T&w)+C[2]+606105819|0,P=(P<<17|P>>>15)+T|0,w+=(P&T|~P&R)+C[3]-1044525330|0,w=(w<<22|w>>>10)+P|0,R+=(w&P|~w&T)+C[4]-176418897|0,R=(R<<7|R>>>25)+w|0,T+=(R&w|~R&P)+C[5]+1200080426|0,T=(T<<12|T>>>20)+R|0,P+=(T&R|~T&w)+C[6]-1473231341|0,P=(P<<17|P>>>15)+T|0,w+=(P&T|~P&R)+C[7]-45705983|0,w=(w<<22|w>>>10)+P|0,R+=(w&P|~w&T)+C[8]+1770035416|0,R=(R<<7|R>>>25)+w|0,T+=(R&w|~R&P)+C[9]-1958414417|0,T=(T<<12|T>>>20)+R|0,P+=(T&R|~T&w)+C[10]-42063|0,P=(P<<17|P>>>15)+T|0,w+=(P&T|~P&R)+C[11]-1990404162|0,w=(w<<22|w>>>10)+P|0,R+=(w&P|~w&T)+C[12]+1804603682|0,R=(R<<7|R>>>25)+w|0,T+=(R&w|~R&P)+C[13]-40341101|0,T=(T<<12|T>>>20)+R|0,P+=(T&R|~T&w)+C[14]-1502002290|0,P=(P<<17|P>>>15)+T|0,w+=(P&T|~P&R)+C[15]+1236535329|0,w=(w<<22|w>>>10)+P|0,R+=(w&T|P&~T)+C[1]-165796510|0,R=(R<<5|R>>>27)+w|0,T+=(R&P|w&~P)+C[6]-1069501632|0,T=(T<<9|T>>>23)+R|0,P+=(T&w|R&~w)+C[11]+643717713|0,P=(P<<14|P>>>18)+T|0,w+=(P&R|T&~R)+C[0]-373897302|0,w=(w<<20|w>>>12)+P|0,R+=(w&T|P&~T)+C[5]-701558691|0,R=(R<<5|R>>>27)+w|0,T+=(R&P|w&~P)+C[10]+38016083|0,T=(T<<9|T>>>23)+R|0,P+=(T&w|R&~w)+C[15]-660478335|0,P=(P<<14|P>>>18)+T|0,w+=(P&R|T&~R)+C[4]-405537848|0,w=(w<<20|w>>>12)+P|0,R+=(w&T|P&~T)+C[9]+568446438|0,R=(R<<5|R>>>27)+w|0,T+=(R&P|w&~P)+C[14]-1019803690|0,T=(T<<9|T>>>23)+R|0,P+=(T&w|R&~w)+C[3]-187363961|0,P=(P<<14|P>>>18)+T|0,w+=(P&R|T&~R)+C[8]+1163531501|0,w=(w<<20|w>>>12)+P|0,R+=(w&T|P&~T)+C[13]-1444681467|0,R=(R<<5|R>>>27)+w|0,T+=(R&P|w&~P)+C[2]-51403784|0,T=(T<<9|T>>>23)+R|0,P+=(T&w|R&~w)+C[7]+1735328473|0,P=(P<<14|P>>>18)+T|0,w+=(P&R|T&~R)+C[12]-1926607734|0,w=(w<<20|w>>>12)+P|0,R+=(w^P^T)+C[5]-378558|0,R=(R<<4|R>>>28)+w|0,T+=(R^w^P)+C[8]-2022574463|0,T=(T<<11|T>>>21)+R|0,P+=(T^R^w)+C[11]+1839030562|0,P=(P<<16|P>>>16)+T|0,w+=(P^T^R)+C[14]-35309556|0,w=(w<<23|w>>>9)+P|0,R+=(w^P^T)+C[1]-1530992060|0,R=(R<<4|R>>>28)+w|0,T+=(R^w^P)+C[4]+1272893353|0,T=(T<<11|T>>>21)+R|0,P+=(T^R^w)+C[7]-155497632|0,P=(P<<16|P>>>16)+T|0,w+=(P^T^R)+C[10]-1094730640|0,w=(w<<23|w>>>9)+P|0,R+=(w^P^T)+C[13]+681279174|0,R=(R<<4|R>>>28)+w|0,T+=(R^w^P)+C[0]-358537222|0,T=(T<<11|T>>>21)+R|0,P+=(T^R^w)+C[3]-722521979|0,P=(P<<16|P>>>16)+T|0,w+=(P^T^R)+C[6]+76029189|0,w=(w<<23|w>>>9)+P|0,R+=(w^P^T)+C[9]-640364487|0,R=(R<<4|R>>>28)+w|0,T+=(R^w^P)+C[12]-421815835|0,T=(T<<11|T>>>21)+R|0,P+=(T^R^w)+C[15]+530742520|0,P=(P<<16|P>>>16)+T|0,w+=(P^T^R)+C[2]-995338651|0,w=(w<<23|w>>>9)+P|0,R+=(P^(w|~T))+C[0]-198630844|0,R=(R<<6|R>>>26)+w|0,T+=(w^(R|~P))+C[7]+1126891415|0,T=(T<<10|T>>>22)+R|0,P+=(R^(T|~w))+C[14]-1416354905|0,P=(P<<15|P>>>17)+T|0,w+=(T^(P|~R))+C[5]-57434055|0,w=(w<<21|w>>>11)+P|0,R+=(P^(w|~T))+C[12]+1700485571|0,R=(R<<6|R>>>26)+w|0,T+=(w^(R|~P))+C[3]-1894986606|0,T=(T<<10|T>>>22)+R|0,P+=(R^(T|~w))+C[10]-1051523|0,P=(P<<15|P>>>17)+T|0,w+=(T^(P|~R))+C[1]-2054922799|0,w=(w<<21|w>>>11)+P|0,R+=(P^(w|~T))+C[8]+1873313359|0,R=(R<<6|R>>>26)+w|0,T+=(w^(R|~P))+C[15]-30611744|0,T=(T<<10|T>>>22)+R|0,P+=(R^(T|~w))+C[6]-1560198380|0,P=(P<<15|P>>>17)+T|0,w+=(T^(P|~R))+C[13]+1309151649|0,w=(w<<21|w>>>11)+P|0,R+=(P^(w|~T))+C[4]-145523070|0,R=(R<<6|R>>>26)+w|0,T+=(w^(R|~P))+C[11]-1120210379|0,T=(T<<10|T>>>22)+R|0,P+=(R^(T|~w))+C[2]+718787259|0,P=(P<<15|P>>>17)+T|0,w+=(T^(P|~R))+C[9]-343485551|0,w=(w<<21|w>>>11)+P|0,O[0]=R+O[0]|0,O[1]=w+O[1]|0,O[2]=P+O[2]|0,O[3]=T+O[3]|0}function a(O){var C=[],R;for(R=0;R<64;R+=4)C[R>>2]=O.charCodeAt(R)+(O.charCodeAt(R+1)<<8)+(O.charCodeAt(R+2)<<16)+(O.charCodeAt(R+3)<<24);return C}function s(O){var C=[],R;for(R=0;R<64;R+=4)C[R>>2]=O[R]+(O[R+1]<<8)+(O[R+2]<<16)+(O[R+3]<<24);return C}function o(O){var C=O.length,R=[1732584193,-271733879,-1732584194,271733878],w,P,T,te,ee,Y;for(w=64;w<=C;w+=64)i(R,a(O.substring(w-64,w)));for(O=O.substring(w-64),P=O.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<P;w+=1)T[w>>2]|=O.charCodeAt(w)<<(w%4<<3);if(T[w>>2]|=128<<(w%4<<3),w>55)for(i(R,T),w=0;w<16;w+=1)T[w]=0;return te=C*8,te=te.toString(16).match(/(.*?)(.{0,8})$/),ee=parseInt(te[2],16),Y=parseInt(te[1],16)||0,T[14]=ee,T[15]=Y,i(R,T),R}function u(O){var C=O.length,R=[1732584193,-271733879,-1732584194,271733878],w,P,T,te,ee,Y;for(w=64;w<=C;w+=64)i(R,s(O.subarray(w-64,w)));for(O=w-64<C?O.subarray(w-64):new Uint8Array(0),P=O.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=0;w<P;w+=1)T[w>>2]|=O[w]<<(w%4<<3);if(T[w>>2]|=128<<(w%4<<3),w>55)for(i(R,T),w=0;w<16;w+=1)T[w]=0;return te=C*8,te=te.toString(16).match(/(.*?)(.{0,8})$/),ee=parseInt(te[2],16),Y=parseInt(te[1],16)||0,T[14]=ee,T[15]=Y,i(R,T),R}function d(O){var C="",R;for(R=0;R<4;R+=1)C+=r[O>>R*8+4&15]+r[O>>R*8&15];return C}function f(O){var C;for(C=0;C<O.length;C+=1)O[C]=d(O[C]);return O.join("")}f(o("hello"))!=="5d41402abc4b2a76b9719d911017c592"&&(e=function(O,C){var R=(O&65535)+(C&65535),w=(O>>16)+(C>>16)+(R>>16);return w<<16|R&65535}),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function O(C,R){return C=C|0||0,C<0?Math.max(C+R,0):Math.min(C,R)}ArrayBuffer.prototype.slice=function(C,R){var w=this.byteLength,P=O(C,w),T=w,te,ee,Y,x;return R!==t&&(T=O(R,w)),P>T?new ArrayBuffer(0):(te=T-P,ee=new ArrayBuffer(te),Y=new Uint8Array(ee),x=new Uint8Array(this,P,te),Y.set(x),ee)}}();function p(O){return/[\u0080-\uFFFF]/.test(O)&&(O=unescape(encodeURIComponent(O))),O}function y(O,C){var R=O.length,w=new ArrayBuffer(R),P=new Uint8Array(w),T;for(T=0;T<R;T+=1)P[T]=O.charCodeAt(T);return C?P:w}function g(O){return String.fromCharCode.apply(null,new Uint8Array(O))}function v(O,C,R){var w=new Uint8Array(O.byteLength+C.byteLength);return w.set(new Uint8Array(O)),w.set(new Uint8Array(C),O.byteLength),R?w:w.buffer}function E(O){var C=[],R=O.length,w;for(w=0;w<R-1;w+=2)C.push(parseInt(O.substr(w,2),16));return String.fromCharCode.apply(String,C)}function D(){this.reset()}return D.prototype.append=function(O){return this.appendBinary(p(O)),this},D.prototype.appendBinary=function(O){this._buff+=O,this._length+=O.length;var C=this._buff.length,R;for(R=64;R<=C;R+=64)i(this._hash,a(this._buff.substring(R-64,R)));return this._buff=this._buff.substring(R-64),this},D.prototype.end=function(O){var C=this._buff,R=C.length,w,P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T;for(w=0;w<R;w+=1)P[w>>2]|=C.charCodeAt(w)<<(w%4<<3);return this._finish(P,R),T=f(this._hash),O&&(T=E(T)),this.reset(),T},D.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},D.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},D.prototype.setState=function(O){return this._buff=O.buff,this._length=O.length,this._hash=O.hash,this},D.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},D.prototype._finish=function(O,C){var R=C,w,P,T;if(O[R>>2]|=128<<(R%4<<3),R>55)for(i(this._hash,O),R=0;R<16;R+=1)O[R]=0;w=this._length*8,w=w.toString(16).match(/(.*?)(.{0,8})$/),P=parseInt(w[2],16),T=parseInt(w[1],16)||0,O[14]=P,O[15]=T,i(this._hash,O)},D.hash=function(O,C){return D.hashBinary(p(O),C)},D.hashBinary=function(O,C){var R=o(O),w=f(R);return C?E(w):w},D.ArrayBuffer=function(){this.reset()},D.ArrayBuffer.prototype.append=function(O){var C=v(this._buff.buffer,O,!0),R=C.length,w;for(this._length+=O.byteLength,w=64;w<=R;w+=64)i(this._hash,s(C.subarray(w-64,w)));return this._buff=w-64<R?new Uint8Array(C.buffer.slice(w-64)):new Uint8Array(0),this},D.ArrayBuffer.prototype.end=function(O){var C=this._buff,R=C.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P,T;for(P=0;P<R;P+=1)w[P>>2]|=C[P]<<(P%4<<3);return this._finish(w,R),T=f(this._hash),O&&(T=E(T)),this.reset(),T},D.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},D.ArrayBuffer.prototype.getState=function(){var O=D.prototype.getState.call(this);return O.buff=g(O.buff),O},D.ArrayBuffer.prototype.setState=function(O){return O.buff=y(O.buff,!0),D.prototype.setState.call(this,O)},D.ArrayBuffer.prototype.destroy=D.prototype.destroy,D.ArrayBuffer.prototype._finish=D.prototype._finish,D.ArrayBuffer.hash=function(O,C){var R=u(new Uint8Array(O)),w=f(R);return C?E(w):w},D})});function Wb(){if(!AS&&(AS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!AS))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return AS(UTe)}var AS,UTe,qD=Li(()=>{UTe=new Uint8Array(16)});var YK,ZK=Li(()=>{YK=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function VTe(t){return typeof t=="string"&&YK.test(t)}var dl,Kb=Li(()=>{ZK();dl=VTe});function kTe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ni[t[e+0]]+ni[t[e+1]]+ni[t[e+2]]+ni[t[e+3]]+"-"+ni[t[e+4]]+ni[t[e+5]]+"-"+ni[t[e+6]]+ni[t[e+7]]+"-"+ni[t[e+8]]+ni[t[e+9]]+"-"+ni[t[e+10]]+ni[t[e+11]]+ni[t[e+12]]+ni[t[e+13]]+ni[t[e+14]]+ni[t[e+15]]).toLowerCase();if(!dl(r))throw TypeError("Stringified UUID is invalid");return r}var ni,xS,fl,Xb=Li(()=>{Kb();ni=[];for(xS=0;xS<256;++xS)ni.push((xS+256).toString(16).substr(1));fl=kTe});function HTe(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var a=t.node||eX,s=t.clockseq!==void 0?t.clockseq:LD;if(a==null||s==null){var o=t.random||(t.rng||Wb)();a==null&&(a=eX=[o[0]|1,o[1],o[2],o[3],o[4],o[5]]),s==null&&(s=LD=(o[6]<<8|o[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),d=t.nsecs!==void 0?t.nsecs:FD+1,f=u-MD+(d-FD)/1e4;if(f<0&&t.clockseq===void 0&&(s=s+1&16383),(f<0||u>MD)&&t.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");MD=u,FD=d,LD=s,u+=122192928e5;var p=((u&268435455)*1e4+d)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var y=u/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=y&255,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var g=0;g<6;++g)i[n+g]=a[g];return e||fl(i)}var eX,LD,MD,FD,tX,rX=Li(()=>{qD();Xb();MD=0,FD=0;tX=HTe});function GTe(t){if(!dl(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var IS,BD=Li(()=>{Kb();IS=GTe});function QTe(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function PS(t,e,r){function n(i,a,s,o){if(typeof i=="string"&&(i=QTe(i)),typeof a=="string"&&(a=IS(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){o=o||0;for(var d=0;d<16;++d)s[o+d]=u[d];return s}return fl(u)}try{n.name=t}catch{}return n.DNS=zTe,n.URL=WTe,n}var zTe,WTe,UD=Li(()=>{Xb();BD();zTe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",WTe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function KTe(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return XTe($Te(JTe(t),t.length*8))}function XTe(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var a=t[i>>5]>>>i%32&255,s=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(s)}return e}function nX(t){return(t+64>>>9<<4)+14+1}function $Te(t,e){t[e>>5]|=128<<e%32,t[nX(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,a=271733878,s=0;s<t.length;s+=16){var o=r,u=n,d=i,f=a;r=Si(r,n,i,a,t[s],7,-680876936),a=Si(a,r,n,i,t[s+1],12,-389564586),i=Si(i,a,r,n,t[s+2],17,606105819),n=Si(n,i,a,r,t[s+3],22,-1044525330),r=Si(r,n,i,a,t[s+4],7,-176418897),a=Si(a,r,n,i,t[s+5],12,1200080426),i=Si(i,a,r,n,t[s+6],17,-1473231341),n=Si(n,i,a,r,t[s+7],22,-45705983),r=Si(r,n,i,a,t[s+8],7,1770035416),a=Si(a,r,n,i,t[s+9],12,-1958414417),i=Si(i,a,r,n,t[s+10],17,-42063),n=Si(n,i,a,r,t[s+11],22,-1990404162),r=Si(r,n,i,a,t[s+12],7,1804603682),a=Si(a,r,n,i,t[s+13],12,-40341101),i=Si(i,a,r,n,t[s+14],17,-1502002290),n=Si(n,i,a,r,t[s+15],22,1236535329),r=Ti(r,n,i,a,t[s+1],5,-165796510),a=Ti(a,r,n,i,t[s+6],9,-1069501632),i=Ti(i,a,r,n,t[s+11],14,643717713),n=Ti(n,i,a,r,t[s],20,-373897302),r=Ti(r,n,i,a,t[s+5],5,-701558691),a=Ti(a,r,n,i,t[s+10],9,38016083),i=Ti(i,a,r,n,t[s+15],14,-660478335),n=Ti(n,i,a,r,t[s+4],20,-405537848),r=Ti(r,n,i,a,t[s+9],5,568446438),a=Ti(a,r,n,i,t[s+14],9,-1019803690),i=Ti(i,a,r,n,t[s+3],14,-187363961),n=Ti(n,i,a,r,t[s+8],20,1163531501),r=Ti(r,n,i,a,t[s+13],5,-1444681467),a=Ti(a,r,n,i,t[s+2],9,-51403784),i=Ti(i,a,r,n,t[s+7],14,1735328473),n=Ti(n,i,a,r,t[s+12],20,-1926607734),r=Ei(r,n,i,a,t[s+5],4,-378558),a=Ei(a,r,n,i,t[s+8],11,-2022574463),i=Ei(i,a,r,n,t[s+11],16,1839030562),n=Ei(n,i,a,r,t[s+14],23,-35309556),r=Ei(r,n,i,a,t[s+1],4,-1530992060),a=Ei(a,r,n,i,t[s+4],11,1272893353),i=Ei(i,a,r,n,t[s+7],16,-155497632),n=Ei(n,i,a,r,t[s+10],23,-1094730640),r=Ei(r,n,i,a,t[s+13],4,681279174),a=Ei(a,r,n,i,t[s],11,-358537222),i=Ei(i,a,r,n,t[s+3],16,-722521979),n=Ei(n,i,a,r,t[s+6],23,76029189),r=Ei(r,n,i,a,t[s+9],4,-640364487),a=Ei(a,r,n,i,t[s+12],11,-421815835),i=Ei(i,a,r,n,t[s+15],16,530742520),n=Ei(n,i,a,r,t[s+2],23,-995338651),r=Oi(r,n,i,a,t[s],6,-198630844),a=Oi(a,r,n,i,t[s+7],10,1126891415),i=Oi(i,a,r,n,t[s+14],15,-1416354905),n=Oi(n,i,a,r,t[s+5],21,-57434055),r=Oi(r,n,i,a,t[s+12],6,1700485571),a=Oi(a,r,n,i,t[s+3],10,-1894986606),i=Oi(i,a,r,n,t[s+10],15,-1051523),n=Oi(n,i,a,r,t[s+1],21,-2054922799),r=Oi(r,n,i,a,t[s+8],6,1873313359),a=Oi(a,r,n,i,t[s+15],10,-30611744),i=Oi(i,a,r,n,t[s+6],15,-1560198380),n=Oi(n,i,a,r,t[s+13],21,1309151649),r=Oi(r,n,i,a,t[s+4],6,-145523070),a=Oi(a,r,n,i,t[s+11],10,-1120210379),i=Oi(i,a,r,n,t[s+2],15,718787259),n=Oi(n,i,a,r,t[s+9],21,-343485551),r=hl(r,o),n=hl(n,u),i=hl(i,d),a=hl(a,f)}return[r,n,i,a]}function JTe(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(nX(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function hl(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function YTe(t,e){return t<<e|t>>>32-e}function NS(t,e,r,n,i,a){return hl(YTe(hl(hl(e,t),hl(n,a)),i),r)}function Si(t,e,r,n,i,a,s){return NS(e&r|~e&n,t,e,i,a,s)}function Ti(t,e,r,n,i,a,s){return NS(e&n|r&~n,t,e,i,a,s)}function Ei(t,e,r,n,i,a,s){return NS(e^r^n,t,e,i,a,s)}function Oi(t,e,r,n,i,a,s){return NS(r^(e|~n),t,e,i,a,s)}var iX,aX=Li(()=>{iX=KTe});var ZTe,sX,oX=Li(()=>{UD();aX();ZTe=PS("v3",48,iX),sX=ZTe});function eEe(t,e,r){t=t||{};var n=t.random||(t.rng||Wb)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return fl(n)}var uX,cX=Li(()=>{qD();Xb();uX=eEe});function tEe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function VD(t,e){return t<<e|t>>>32-e}function rEe(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,s=Math.ceil(a/16),o=new Array(s),u=0;u<s;++u){for(var d=new Uint32Array(16),f=0;f<16;++f)d[f]=t[u*64+f*4]<<24|t[u*64+f*4+1]<<16|t[u*64+f*4+2]<<8|t[u*64+f*4+3];o[u]=d}o[s-1][14]=(t.length-1)*8/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=(t.length-1)*8&4294967295;for(var p=0;p<s;++p){for(var y=new Uint32Array(80),g=0;g<16;++g)y[g]=o[p][g];for(var v=16;v<80;++v)y[v]=VD(y[v-3]^y[v-8]^y[v-14]^y[v-16],1);for(var E=r[0],D=r[1],O=r[2],C=r[3],R=r[4],w=0;w<80;++w){var P=Math.floor(w/20),T=VD(E,5)+tEe(P,D,O,C)+R+e[P]+y[w]>>>0;R=C,C=O,O=VD(D,30)>>>0,D=E,E=T}r[0]=r[0]+E>>>0,r[1]=r[1]+D>>>0,r[2]=r[2]+O>>>0,r[3]=r[3]+C>>>0,r[4]=r[4]+R>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var lX,dX=Li(()=>{lX=rEe});var nEe,fX,hX=Li(()=>{UD();dX();nEe=PS("v5",80,lX),fX=nEe});var pX,_X=Li(()=>{pX="00000000-0000-0000-0000-000000000000"});function iEe(t){if(!dl(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var yX,bX=Li(()=>{Kb();yX=iEe});var kD={};Mee(kD,{NIL:()=>pX,parse:()=>IS,stringify:()=>fl,v1:()=>tX,v3:()=>sX,v4:()=>uX,v5:()=>fX,validate:()=>dl,version:()=>yX});var HD=Li(()=>{rX();oX();cX();hX();_X();bX();Kb();Xb();BD()});var gh=_(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.TermTransformer=void 0;var aEe=On(),gX=jt(),Ut=Ma(),Ft=gi(),mX=Qi(),M_=vS(),sEe=hh(),GD=class{constructor(e,r){this.superTypeProvider=e,this.enableExtendedXSDTypes=r}transformRDFTermUnsafe(e){return this.transformTerm({term:e,type:gX.Algebra.types.EXPRESSION,expressionType:gX.Algebra.expressionTypes.TERM})}transformTerm(e){if(!e.term)throw new mX.InvalidExpression(e);switch(e.term.termType){case"Variable":return new Ut.Variable(aEe.termToString(e.term));case"Literal":return this.transformLiteral(e.term);case"NamedNode":return new Ut.NamedNode(e.term.value);case"BlankNode":return new Ut.BlankNode(e.term.value);default:throw new mX.InvalidTermType(e)}}legacyTransformLiteral(e){if(!e.datatype)return e.language?new Ut.LangStringLiteral(e.value,e.language):new Ut.StringLiteral(e.value);let r=e.datatype.value;switch(r){case null:case void 0:case"":return e.language?new Ut.LangStringLiteral(e.value,e.language):new Ut.StringLiteral(e.value);case Ft.TypeURL.XSD_ANY_URI:case Ft.TypeURL.XSD_NORMALIZED_STRING:case Ft.TypeURL.XSD_TOKEN:case Ft.TypeURL.XSD_LANGUAGE:case Ft.TypeURL.XSD_NM_TOKEN:case Ft.TypeURL.XSD_NAME:case Ft.TypeURL.XSD_ENTITY:case Ft.TypeURL.XSD_ID:case Ft.TypeURL.XSD_ID_REF:case Ft.TypeURL.XSD_STRING:return new Ut.StringLiteral(e.value,r);case Ft.TypeURL.RDF_LANG_STRING:return new Ut.LangStringLiteral(e.value,e.language);case Ft.TypeURL.XSD_DATE_TIME_STAMP:case Ft.TypeURL.XSD_DATE_TIME:{let n=new Date(e.value);return Number.isNaN(n.getTime())?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):new Ut.DateTimeLiteral(new Date(e.value),e.value,r)}case Ft.TypeURL.XSD_BOOLEAN:return e.value!=="true"&&e.value!=="false"&&e.value!=="1"&&e.value!=="0"?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):new Ut.BooleanLiteral(e.value==="true"||e.value==="1",e.value,r);case Ft.TypeURL.XSD_DECIMAL:{let n=M_.parseXSDDecimal(e.value);return n===void 0?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):new Ut.DecimalLiteral(n,r,e.value)}case Ft.TypeURL.XSD_FLOAT:{let n=M_.parseXSDFloat(e.value);return n===void 0?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):new Ut.FloatLiteral(n,r,e.value)}case Ft.TypeURL.XSD_DOUBLE:{let n=M_.parseXSDFloat(e.value);return n===void 0?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):new Ut.DoubleLiteral(n,r,e.value)}case Ft.TypeURL.XSD_NON_POSITIVE_INTEGER:case Ft.TypeURL.XSD_NEGATIVE_INTEGER:case Ft.TypeURL.XSD_LONG:case Ft.TypeURL.XSD_INT:case Ft.TypeURL.XSD_SHORT:case Ft.TypeURL.XSD_BYTE:case Ft.TypeURL.XSD_NON_NEGATIVE_INTEGER:case Ft.TypeURL.XSD_POSITIVE_INTEGER:case Ft.TypeURL.XSD_UNSIGNED_LONG:case Ft.TypeURL.XSD_UNSIGNED_INT:case Ft.TypeURL.XSD_UNSIGNED_SHORT:case Ft.TypeURL.XSD_UNSIGNED_BYTE:case Ft.TypeURL.XSD_INTEGER:{let n=M_.parseXSDDecimal(e.value);return n===void 0?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):new Ut.IntegerLiteral(n,r,e.value)}default:return new Ut.Literal(e.value,r,e.value)}}transformLiteral(e){return this.enableExtendedXSDTypes?this.experimentalTransformLiteral(e):this.legacyTransformLiteral(e)}experimentalTransformLiteral(e){if(!e.datatype||[null,void 0,""].includes(e.datatype.value))return e.language?new Ut.LangStringLiteral(e.value,e.language):new Ut.StringLiteral(e.value);let r=e.datatype.value,n=(0,sEe.getSuperTypeDict)(r,this.superTypeProvider);if(Ft.TypeURL.XSD_STRING in n)return new Ut.StringLiteral(e.value,r);if(Ft.TypeURL.RDF_LANG_STRING in n)return new Ut.LangStringLiteral(e.value,e.language);if(Ft.TypeURL.XSD_DATE_TIME in n){let s=new Date(e.value);return Number.isNaN(s.getTime())?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):new Ut.DateTimeLiteral(new Date(e.value),e.value,r)}if(Ft.TypeURL.XSD_BOOLEAN in n)return e.value!=="true"&&e.value!=="false"&&e.value!=="1"&&e.value!=="0"?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):new Ut.BooleanLiteral(e.value==="true"||e.value==="1",e.value);if(Ft.TypeURL.XSD_DECIMAL in n){let s=M_.parseXSDDecimal(e.value);return s===void 0?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):Ft.TypeURL.XSD_INTEGER in n?new Ut.IntegerLiteral(s,r,e.value):new Ut.DecimalLiteral(s,r,e.value)}let i=Ft.TypeURL.XSD_FLOAT in n,a=Ft.TypeURL.XSD_DOUBLE in n;if(i||a){let s=M_.parseXSDFloat(e.value);return s===void 0?new Ut.NonLexicalLiteral(void 0,r,this.superTypeProvider,e.value):i?new Ut.FloatLiteral(s,r,e.value):new Ut.DoubleLiteral(s,r,e.value)}return new Ut.Literal(e.value,r,e.value)}};DS.TermTransformer=GD});var SX=_($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.formatDayTimeDuration=$o.langMatches=$o.replace=$o.matches=void 0;function oEe(t,e,r){return new RegExp(e,r).test(t)}$o.matches=oEe;function uEe(t,e,r,n){let i=new RegExp(e,n);if(!i.global){let a=n||"";i=new RegExp(e,`${a}g`)}return t.replace(i,r)}$o.replace=uEe;function cEe(t,e){let r=t.split("-"),n=e.split("-");if(!wX(n[0],r[0])&&!vX(r[0]))return!1;let i=1,a=1;for(;a<n.length;){if(vX(n[a])){a++;continue}if(i===r.length)return!1;if(wX(n[a],r[i])){i++,a++;continue}if(r[i].length===1)return!1;i++}return!0}$o.langMatches=cEe;function vX(t){return t==="*"}function wX(t,e){return new RegExp(`/${t}/`,"iu").test(`/${e}/`)}function lEe(t){if(!t)return;if(t.startsWith("Z"))return"PT0S";let[e,r,n,i,a,s]=t,o=r!=="0"?r:"",u=o||n!=="0"?n:"",d=o+u?`${o+u}H`:"",f=a!=="0"?a:"",p=f||s!=="0"?s:"",y=f+p?`${f+p}M`:"",g=`${d}${y}`;return`${e==="-"?"-":""}PT${g}`}$o.formatDayTimeDuration=lEe});var xX=_(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.definitions=void 0;var $b=KK(),CS=p1(),dEe=Bt(),TX=is(),fEe=JK(),RX=(HD(),Wj(kD)),mh=Ma(),hEe=gh(),rt=gi(),Xe=gi(),_l=Qi(),pEe=vS(),we=Xo(),pl=SX(),EX=new dEe.DataFactory,_Ee={arity:1,overloads:(0,we.declare)(rt.RegularOperator.NOT).onTerm1(()=>t=>(0,we.bool)(!t.coerceEBV())).collect()},yEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.UPLUS).numericConverter(()=>t=>t).collect()},bEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.UMINUS).numericConverter(()=>t=>-t).collect()},gEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.MULTIPLICATION).arithmetic(()=>(t,e)=>new $b.BigNumber(t).times(e).toNumber()).collect()},mEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.DIVISION).arithmetic(()=>(t,e)=>new $b.BigNumber(t).div(e).toNumber()).onBinaryTyped([Xe.TypeURL.XSD_INTEGER,Xe.TypeURL.XSD_INTEGER],()=>(t,e)=>{if(e===0)throw new _l.ExpressionError("Integer division by 0");return(0,we.decimal)(new $b.BigNumber(t).div(e).toNumber())}).collect()},vEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.ADDITION).arithmetic(()=>(t,e)=>new $b.BigNumber(t).plus(e).toNumber()).collect()},wEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.SUBTRACTION).arithmetic(()=>(t,e)=>new $b.BigNumber(t).minus(e).toNumber()).collect()},SEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.EQUAL).numberTest(()=>(t,e)=>t===e).stringTest(()=>(t,e)=>t.localeCompare(e)===0).booleanTest(()=>(t,e)=>t===e).dateTimeTest(()=>(t,e)=>t.getTime()===e.getTime()).set(["term","term"],()=>([t,e])=>(0,we.bool)(AX(t,e))).collect()};function AX(t,e){let r=t.toRDF(),n=e.toRDF(),i=r.equals(n);if(r.termType==="Literal"&&n.termType==="Literal")throw new _l.RDFEqualTypeError([t,e]);return i}var TEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.NOT_EQUAL).numberTest(()=>(t,e)=>t!==e).stringTest(()=>(t,e)=>t.localeCompare(e)!==0).booleanTest(()=>(t,e)=>t!==e).dateTimeTest(()=>(t,e)=>t.getTime()!==e.getTime()).set(["term","term"],()=>([t,e])=>(0,we.bool)(!AX(t,e))).collect()},EEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.LT).numberTest(()=>(t,e)=>t<e).stringTest(()=>(t,e)=>t.localeCompare(e)===-1).booleanTest(()=>(t,e)=>t<e).dateTimeTest(()=>(t,e)=>t.getTime()<e.getTime()).collect()},OEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.GT).numberTest(()=>(t,e)=>t>e).stringTest(()=>(t,e)=>t.localeCompare(e)===1).booleanTest(()=>(t,e)=>t>e).dateTimeTest(()=>(t,e)=>t.getTime()>e.getTime()).collect()},REe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.LTE).numberTest(()=>(t,e)=>t<=e).stringTest(()=>(t,e)=>t.localeCompare(e)!==1).booleanTest(()=>(t,e)=>t<=e).dateTimeTest(()=>(t,e)=>t.getTime()<=e.getTime()).collect()},AEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.GTE).numberTest(()=>(t,e)=>t>=e).stringTest(()=>(t,e)=>t.localeCompare(e)!==-1).booleanTest(()=>(t,e)=>t>=e).dateTimeTest(()=>(t,e)=>t.getTime()>=e.getTime()).collect()},xEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.IS_IRI).onTerm1(()=>t=>(0,we.bool)(t.termType==="namedNode")).collect()},IEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.IS_BLANK).onTerm1(()=>t=>(0,we.bool)(t.termType==="blankNode")).collect()},PEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.IS_LITERAL).onTerm1(()=>t=>(0,we.bool)(t.termType==="literal")).collect()},NEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.IS_NUMERIC).onNumeric1(()=>t=>(0,we.bool)(!0)).onTerm1(()=>t=>(0,we.bool)(!1)).collect()},DEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.STR).onTerm1(()=>t=>(0,we.string)(t.str())).collect()},CEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.LANG).onLiteral1(()=>t=>(0,we.string)(t.language||"")).collect()},jEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.DATATYPE).onLiteral1(()=>t=>new mh.NamedNode(t.dataType)).collect()},OX={arity:1,overloads:(0,we.declare)(rt.RegularOperator.IRI).set(["namedNode"],t=>e=>{let r=e[0],n=(0,TX.resolve)(r.str(),t.baseIRI||"");return new mh.NamedNode(n)}).onString1(t=>e=>{let r=(0,TX.resolve)(e.str(),t.baseIRI||"");return new mh.NamedNode(r)}).collect()},qEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.STRDT).set([Xe.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:t,enableExtendedXsdTypes:e})=>([r,n])=>{let i=EX.literal(r.typedValue,EX.namedNode(n.value));return new hEe.TermTransformer(t,e).transformLiteral(i)}).collect()},LEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.STRLANG).onBinaryTyped([Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING],()=>(t,e)=>new mh.LangStringLiteral(t,e.toLowerCase())).collect()},MEe={arity:0,overloads:(0,we.declare)(rt.RegularOperator.UUID).set([],()=>()=>new mh.NamedNode(`urn:uuid:${RX.v4()}`)).collect()},FEe={arity:0,overloads:(0,we.declare)(rt.RegularOperator.STRUUID).set([],()=>()=>(0,we.string)(RX.v4())).collect()},BEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.STRLEN).onStringly1(()=>t=>(0,we.integer)([...t.typedValue].length)).collect()},UEe={arity:[2,3],overloads:(0,we.declare)(rt.RegularOperator.SUBSTR).onBinaryTyped([Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_INTEGER],()=>(t,e)=>(0,we.string)([...t].slice(e-1).join(""))).onBinary([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.XSD_INTEGER],()=>(t,e)=>{let r=[...t.typedValue].slice(e.typedValue-1).join("");return(0,we.langString)(r,t.language)}).onTernaryTyped([Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_INTEGER,Xe.TypeURL.XSD_INTEGER],()=>(t,e,r)=>(0,we.string)([...t].slice(e-1,r+e-1).join(""))).onTernary([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.XSD_INTEGER,Xe.TypeURL.XSD_INTEGER],()=>(t,e,r)=>{let n=[...t.typedValue].slice(e.typedValue-1,r.typedValue+e.typedValue-1).join("");return(0,we.langString)(n,t.language)}).collect()},VEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.UCASE).onString1Typed(()=>t=>(0,we.string)(t.toUpperCase())).onLangString1(()=>t=>(0,we.langString)(t.typedValue.toUpperCase(),t.language)).collect()},kEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.LCASE).onString1Typed(()=>t=>(0,we.string)(t.toLowerCase())).onLangString1(()=>t=>(0,we.langString)(t.typedValue.toLowerCase(),t.language)).collect()},HEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.STRSTARTS).onBinaryTyped([Xe.TypeAlias.SPARQL_STRINGLY,Xe.TypeURL.XSD_STRING],()=>(t,e)=>(0,we.bool)(t.startsWith(e))).onBinary([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new _l.IncompatibleLanguageOperation(t,e);return(0,we.bool)(t.typedValue.startsWith(e.typedValue))}).collect()},GEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.STRENDS).onBinaryTyped([Xe.TypeAlias.SPARQL_STRINGLY,Xe.TypeURL.XSD_STRING],()=>(t,e)=>(0,we.bool)(t.endsWith(e))).onBinary([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new _l.IncompatibleLanguageOperation(t,e);return(0,we.bool)(t.typedValue.endsWith(e.typedValue))}).collect()},QEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.CONTAINS).onBinaryTyped([Xe.TypeAlias.SPARQL_STRINGLY,Xe.TypeURL.XSD_STRING],()=>(t,e)=>(0,we.bool)(t.includes(e))).onBinary([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new _l.IncompatibleLanguageOperation(t,e);return(0,we.bool)(t.typedValue.includes(e.typedValue))}).collect()},zEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.STRBEFORE).onBinaryTyped([Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING],()=>(t,e)=>(0,we.string)(t.slice(0,Math.max(0,t.indexOf(e))))).onBinary([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.XSD_STRING],()=>(t,e)=>{let[r,n]=[t.typedValue,e.typedValue],i=t.typedValue.slice(0,Math.max(0,r.indexOf(n)));return i||!n?(0,we.langString)(i,t.language):(0,we.string)(i)}).onBinary([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new _l.IncompatibleLanguageOperation(t,e);let[r,n]=[t.typedValue,e.typedValue],i=t.typedValue.slice(0,Math.max(0,r.indexOf(n)));return i||!n?(0,we.langString)(i,t.language):(0,we.string)(i)}).collect()},WEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.STRAFTER).onBinaryTyped([Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING],()=>(t,e)=>(0,we.string)(t.slice(t.indexOf(e)).slice(e.length))).onBinary([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.XSD_STRING],()=>(t,e)=>{let[r,n]=[t.typedValue,e.typedValue],i=r.slice(r.indexOf(n)).slice(n.length);return i||!n?(0,we.langString)(i,t.language):(0,we.string)(i)}).onBinary([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.RDF_LANG_STRING],()=>(t,e)=>{if(t.language!==e.language)throw new _l.IncompatibleLanguageOperation(t,e);let[r,n]=[t.typedValue,e.typedValue],i=r.slice(r.indexOf(n)).slice(n.length);return i||!n?(0,we.langString)(i,t.language):(0,we.string)(i)}).collect()},KEe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>t=>(0,we.string)(encodeURI(t))).collect()},XEe={arity:2,overloads:(0,we.declare)(rt.RegularOperator.LANG_MATCHES).onBinaryTyped([Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING],()=>(t,e)=>(0,we.bool)(pl.langMatches(t,e))).collect()},$Ee=()=>(t,e)=>(0,we.bool)(pl.matches(t,e)),JEe=()=>(t,e,r)=>(0,we.bool)(pl.matches(t,e,r)),YEe={arity:[2,3],overloads:(0,we.declare)(rt.RegularOperator.REGEX).onBinaryTyped([Xe.TypeAlias.SPARQL_STRINGLY,Xe.TypeURL.XSD_STRING],$Ee).onTernaryTyped([Xe.TypeAlias.SPARQL_STRINGLY,Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING],JEe).collect()},ZEe={arity:[3,4],overloads:(0,we.declare)(rt.RegularOperator.REPLACE).onTernaryTyped([Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING],()=>(t,e,r)=>(0,we.string)(pl.replace(t,e,r))).set([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING],()=>([t,e,r])=>{let n=pl.replace(t.typedValue,e.typedValue,r.typedValue);return(0,we.langString)(n,t.language)}).onQuaternaryTyped([Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING],()=>(t,e,r,n)=>(0,we.string)(pl.replace(t,e,r,n))).set([Xe.TypeURL.RDF_LANG_STRING,Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING,Xe.TypeURL.XSD_STRING],()=>([t,e,r,n])=>{let i=pl.replace(t.typedValue,e.typedValue,r.typedValue,n.typedValue);return(0,we.langString)(i,t.language)}).collect()},eOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.ABS).numericConverter(()=>t=>Math.abs(t)).collect()},tOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.ROUND).numericConverter(()=>t=>Math.round(t)).collect()},rOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.CEIL).numericConverter(()=>t=>Math.ceil(t)).collect()},nOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.FLOOR).numericConverter(()=>t=>Math.floor(t)).collect()},iOe={arity:0,overloads:(0,we.declare)(rt.RegularOperator.RAND).set([],()=>()=>(0,we.double)(Math.random())).collect()};function yl(t){return pEe.parseXSDDateTime(t.str())}var aOe={arity:0,overloads:(0,we.declare)(rt.RegularOperator.NOW).set([],t=>()=>new mh.DateTimeLiteral(t.now,t.now.toISOString())).collect()},sOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.YEAR).onDateTime1(()=>t=>(0,we.integer)(Number(yl(t).year))).collect()},oOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.MONTH).onDateTime1(()=>t=>(0,we.integer)(Number(yl(t).month))).collect()},uOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.DAY).onDateTime1(()=>t=>(0,we.integer)(Number(yl(t).day))).collect()},cOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.HOURS).onDateTime1(()=>t=>(0,we.integer)(Number(yl(t).hours))).collect()},lOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.MINUTES).onDateTime1(()=>t=>(0,we.integer)(Number(yl(t).minutes))).collect()},dOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.SECONDS).onDateTime1(()=>t=>(0,we.decimal)(Number(yl(t).seconds))).collect()},fOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.TIMEZONE).onDateTime1(()=>t=>{let e=pl.formatDayTimeDuration(yl(t).timezone);if(!e)throw new _l.InvalidTimezoneCall(t.strValue);return new mh.Literal(e,Xe.TypeURL.XSD_DAYTIME_DURATION,e)}).collect()},hOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.TZ).onDateTime1(()=>t=>(0,we.string)(yl(t).timezone)).collect()},pOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.MD5).onString1Typed(()=>t=>(0,we.string)((0,fEe.hash)(t))).collect()},_Oe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.SHA1).onString1Typed(()=>t=>(0,we.string)((0,CS.sha1)().update(t).digest("hex"))).collect()},yOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.SHA256).onString1Typed(()=>t=>(0,we.string)((0,CS.sha256)().update(t).digest("hex"))).collect()},bOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.SHA384).onString1Typed(()=>t=>(0,we.string)((0,CS.sha384)().update(t).digest("hex"))).collect()},gOe={arity:1,overloads:(0,we.declare)(rt.RegularOperator.SHA512).onString1Typed(()=>t=>(0,we.string)((0,CS.sha512)().update(t).digest("hex"))).collect()};jS.definitions={"!":_Ee,UPLUS:yEe,UMINUS:bEe,"*":gEe,"/":mEe,"+":vEe,"-":wEe,"=":SEe,"!=":TEe,"<":EEe,">":OEe,"<=":REe,">=":AEe,isiri:xEe,isblank:IEe,isliteral:PEe,isnumeric:NEe,str:DEe,lang:CEe,datatype:jEe,iri:OX,uri:OX,strdt:qEe,strlang:LEe,uuid:MEe,struuid:FEe,strlen:BEe,substr:UEe,ucase:VEe,lcase:kEe,strstarts:HEe,strends:GEe,contains:QEe,strbefore:zEe,strafter:WEe,encode_for_uri:KEe,langmatches:XEe,regex:YEe,replace:ZEe,abs:eOe,round:tOe,ceil:rOe,floor:nOe,rand:iOe,now:aOe,year:sOe,month:oOe,day:uOe,hours:cOe,minutes:lOe,seconds:dOe,timezone:fOe,tz:hOe,md5:pOe,sha1:_Oe,sha256:yOe,sha384:bOe,sha512:gOe}});var jX=_(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.specialDefinitions=void 0;var mOe=(HD(),Wj(kD)),qS=Ma(),Ys=gi(),Ku=Qi(),Er=Xo(),LS=Jb(),vOe={arity:1,async applyAsync({args:t,mapping:e}){return IX({args:t,mapping:e})},applySync({args:t,mapping:e}){return IX({args:t,mapping:e})}};function IX({args:t,mapping:e}){let r=t[0];if(r.expressionType!==qS.ExpressionType.Variable)throw new Ku.InvalidArgumentTypes(t,Ys.SpecialOperator.BOUND);let n=e.has((0,Er.expressionToVar)(r));return(0,Er.bool)(n)}var wOe={arity:3,async applyAsync({args:t,mapping:e,evaluate:r}){let i=(await r(t[0],e)).coerceEBV();return r(i?t[1]:t[2],e)},applySync({args:t,mapping:e,evaluate:r}){let i=r(t[0],e).coerceEBV();return r(i?t[1]:t[2],e)}},SOe={arity:Number.POSITIVE_INFINITY,async applyAsync({args:t,mapping:e,evaluate:r}){let n=[];for(let i of t)try{return await r(i,e)}catch(a){n.push(a)}throw new Ku.CoalesceError(n)},applySync({args:t,mapping:e,evaluate:r}){let n=[];for(let i of t)try{return r(i,e)}catch(a){n.push(a)}throw new Ku.CoalesceError(n)}},TOe={arity:2,async applyAsync({args:t,mapping:e,evaluate:r}){let[n,i]=t;try{if((await r(n,e)).coerceEBV())return(0,Er.bool)(!0);let u=(await r(i,e)).coerceEBV();return(0,Er.bool)(u)}catch(a){if(!(await r(i,e)).coerceEBV())throw a;return(0,Er.bool)(!0)}},applySync({args:t,mapping:e,evaluate:r}){let[n,i]=t;try{if(r(n,e).coerceEBV())return(0,Er.bool)(!0);let u=r(i,e).coerceEBV();return(0,Er.bool)(u)}catch(a){if(!r(i,e).coerceEBV())throw a;return(0,Er.bool)(!0)}}},EOe={arity:2,async applyAsync({args:t,mapping:e,evaluate:r}){let[n,i]=t;try{if(!(await r(n,e)).coerceEBV())return(0,Er.bool)(!1);let u=(await r(i,e)).coerceEBV();return(0,Er.bool)(u)}catch(a){if((await r(i,e)).coerceEBV())throw a;return(0,Er.bool)(!1)}},applySync({args:t,mapping:e,evaluate:r}){let[n,i]=t;try{if(!r(n,e).coerceEBV())return(0,Er.bool)(!1);let u=r(i,e).coerceEBV();return(0,Er.bool)(u)}catch(a){if(r(i,e).coerceEBV())throw a;return(0,Er.bool)(!1)}}},OOe={arity:2,async applyAsync({args:t,mapping:e,evaluate:r}){let[n,i]=t.map(o=>r(o,e)),[a,s]=await Promise.all([n,i]);return(0,Er.bool)(a.toRDF().equals(s.toRDF()))},applySync({args:t,mapping:e,evaluate:r}){let[n,i]=t.map(a=>r(a,e));return(0,Er.bool)(n.toRDF().equals(i.toRDF()))}},ROe={arity:Number.POSITIVE_INFINITY,checkArity(t){return t.length>0},async applyAsync(t){let{args:e,mapping:r,evaluate:n}=t,[i,...a]=e,s=await n(i,r);return QD(s,Object.assign(Object.assign({},t),{args:a}),[])},applySync(t){let{args:e,mapping:r,evaluate:n}=t,[i,...a]=e,s=n(i,r);return zD(s,Object.assign(Object.assign({},t),{args:a}),[])}};async function QD(t,e,r){let{args:n,mapping:i,evaluate:a,overloadCache:s}=e;if(n.length===0)return r.every(u=>!u)?(0,Er.bool)(!1):Promise.reject(new Ku.InError(r));try{let o=n.shift(),u=await a(o,i);return LS.regularFunctions[Ys.RegularOperator.EQUAL].apply([t,u],e).typedValue?(0,Er.bool)(!0):QD(t,e,[...r,!1])}catch(o){return QD(t,e,[...r,o])}}function zD(t,e,r){let{args:n,mapping:i,evaluate:a,overloadCache:s}=e;if(n.length===0){if(r.every(u=>!u))return(0,Er.bool)(!1);throw new Ku.InError(r)}try{let o=n.shift(),u=a(o,i);return LS.regularFunctions[Ys.RegularOperator.EQUAL].apply([t,u],e).typedValue?(0,Er.bool)(!0):zD(t,e,[...r,!1])}catch(o){return zD(t,e,[...r,o])}}var AOe={arity:Number.POSITIVE_INFINITY,checkArity(t){return t.length>0},async applyAsync(t){let r=await LS.specialFunctions[Ys.SpecialOperator.IN].applyAsync(t);return(0,Er.bool)(!r.typedValue)},applySync(t){let r=LS.specialFunctions[Ys.SpecialOperator.IN].applySync(t);return(0,Er.bool)(!r.typedValue)}},PX=(0,Er.declare)(Ys.SpecialOperator.CONCAT).onStringly1(()=>t=>t).collect().experimentalTree,xOe={arity:Number.POSITIVE_INFINITY,async applyAsync(t){let{args:e,mapping:r,evaluate:n,overloadCache:i,superTypeProvider:a}=t,s=e.map(async p=>n(p,r)).map(async p=>{let y=PX.search([await p],a,i);if(!y)throw new Ku.InvalidArgumentTypes(e,Ys.SpecialOperator.CONCAT);return y(t)([await p])}),o=await Promise.all(s),d=o.map(p=>p.typedValue).join(""),f=NX(o)?o[0].language:void 0;return f?(0,Er.langString)(d,f):(0,Er.string)(d)},applySync(t){let{args:e,mapping:r,evaluate:n,superTypeProvider:i,overloadCache:a}=t,s=e.map(f=>n(f,r)).map(f=>{let p=PX.search([f],i,a);if(!p)throw new Ku.InvalidArgumentTypes(e,Ys.SpecialOperator.CONCAT);return p(t)([f])}),u=s.map(f=>f.typedValue).join(""),d=NX(s)?s[0].language:void 0;return d?(0,Er.langString)(u,d):(0,Er.string)(u)}};function NX(t){return t.length>0&&t.every(e=>e.language===t[0].language)}var DX=(0,Er.declare)(Ys.SpecialOperator.BNODE).onString1(()=>t=>t).collect().experimentalTree,IOe={arity:Number.POSITIVE_INFINITY,checkArity(t){return t.length===0||t.length===1},async applyAsync(t){let{args:e,mapping:r,evaluate:n,superTypeProvider:i,overloadCache:a}=t,s=e.length===1?await n(e[0],r):void 0,o;if(s){let u=DX.search([s],i,a);if(!u)throw new Ku.InvalidArgumentTypes(e,Ys.SpecialOperator.BNODE);o=u(t)([s]).str()}if(t.bnode){let u=await t.bnode(o);return new qS.BlankNode(u)}return CX(o)},applySync(t){let{args:e,mapping:r,evaluate:n,superTypeProvider:i,overloadCache:a}=t,s=e.length===1?n(e[0],r):void 0,o;if(s){let u=DX.search([s],i,a);if(!u)throw new Ku.InvalidArgumentTypes(e,Ys.SpecialOperator.BNODE);o=u(t)([s]).str()}if(t.bnode){let u=t.bnode(o);return new qS.BlankNode(u)}return CX(o)}};function CX(t){return new qS.BlankNode(t||mOe.v4())}MS.specialDefinitions={bound:vOe,if:wOe,coalesce:SOe,"&&":EOe,"||":TOe,sameterm:OOe,in:ROe,notin:AOe,concat:xOe,BNODE:IOe}});var Jb=_(zi=>{"use strict";var POe=zi&&zi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NOe=zi&&zi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&POe(e,t,r)};Object.defineProperty(zi,"__esModule",{value:!0});zi.OverloadTree=zi.namedFunctions=zi.specialFunctions=zi.regularFunctions=void 0;var WD=ID(),DOe=zK(),COe=xX(),jOe=jX();NOe(ID(),zi);zi.regularFunctions=Object.fromEntries(Object.entries(COe.definitions).map(([t,e])=>[t,new WD.RegularFunction(t,e)]));zi.specialFunctions=Object.fromEntries(Object.entries(jOe.specialDefinitions).map(([t,e])=>[t,new WD.SpecialFunction(t,e)]));zi.namedFunctions=Object.fromEntries(Object.entries(DOe.namedDefinitions).map(([t,e])=>[t,new WD.NamedFunction(t,e)]));var qOe=PD();Object.defineProperty(zi,"OverloadTree",{enumerable:!0,get:function(){return qOe.OverloadTree}})});var $D=_(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});FS.AlgebraTransformer=void 0;var LOe=jt(),bl=Ma(),KD=Jb(),XD=gi(),vh=Qi(),qX=Qi(),MOe=gh(),gl=class extends MOe.TermTransformer{constructor(e){super(e.superTypeProvider,e.enableExtendedXsdTypes),this.algebraConfig=e,this.creatorConfig={type:e.type,creator:e.creator}}transformAlgebra(e){if(!e)throw new vh.InvalidExpression(e);let r=LOe.Algebra.expressionTypes;switch(e.expressionType){case r.TERM:return this.transformTerm(e);case r.OPERATOR:return this.transformOperator(e);case r.NAMED:return this.transformNamed(e);case r.EXISTENCE:return gl.transformExistence(e);case r.AGGREGATE:return gl.transformAggregate(e);case r.WILDCARD:return gl.transformWildcard(e);default:throw new vh.InvalidExpressionType(e)}}static transformWildcard(e){if(!e.wildcard)throw new vh.InvalidExpression(e);return new bl.NamedNode(e.wildcard.value)}transformOperator(e){if(XD.SpecialOperators.has(e.operator)){let a=e.operator,s=e.args.map(u=>this.transformAlgebra(u)),o=KD.specialFunctions[a];if(!o.checkArity(s))throw new vh.InvalidArity(s,a);return new bl.SpecialOperator(s,o.applyAsync,o.applySync)}if(!XD.Operators.has(e.operator))throw new vh.UnknownOperator(e.operator);let r=e.operator,n=e.args.map(a=>this.transformAlgebra(a)),i=KD.regularFunctions[r];if(!gl.hasCorrectArity(n,i.arity))throw new vh.InvalidArity(n,r);return new bl.Operator(n,a=>i.apply(a,this.algebraConfig))}wrapSyncFunction(e,r){return n=>{try{let i=e(n.map(a=>a.toRDF()));return this.transformRDFTermUnsafe(i)}catch(i){throw new qX.ExtensionFunctionError(r,i)}}}wrapAsyncFunction(e,r){return async n=>{try{let i=await e(n.map(a=>a.toRDF()));return this.transformRDFTermUnsafe(i)}catch(i){throw new qX.ExtensionFunctionError(r,i)}}}transformNamed(e){let r=e.name.value,n=e.args.map(i=>this.transformAlgebra(i));if(XD.NamedOperators.has(r)){let i=e.name.value,a=KD.namedFunctions[i];return new bl.Named(e.name,n,s=>a.apply(s,this.algebraConfig))}if(this.creatorConfig.type==="sync"){let i=this.creatorConfig.creator(e.name);if(i){let a=this.wrapSyncFunction(i,e.name.value);return new bl.SyncExtension(e.name,n,a)}}else{let i=this.creatorConfig.creator(e.name);if(i){let a=this.wrapAsyncFunction(i,e.name.value);return new bl.AsyncExtension(e.name,n,a)}}throw new vh.UnknownNamedOperator(e.name.value)}static hasCorrectArity(e,r){return r===Number.POSITIVE_INFINITY?!0:Array.isArray(r)?r.includes(e.length):e.length===r}static transformAggregate(e){let r=e.aggregator;return new bl.Aggregate(r,e)}static transformExistence(e){return new bl.Existence(e)}};FS.AlgebraTransformer=gl});var YD=_(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.BaseExpressionEvaluator=void 0;var FOe=Xo(),BOe=Qi(),JD=class{constructor(e){this.termTransformer=e}term(e,r){return e}variable(e,r){let n=r.get((0,FOe.expressionToVar)(e));if(!n)throw new BOe.UnboundVariableError(e.name,r);return this.termTransformer.transformRDFTermUnsafe(n)}};BS.BaseExpressionEvaluator=JD});var LX=_(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.AsyncRecursiveEvaluator=void 0;var Xu=Ma(),UOe=gh(),ZD=Qi(),VOe=YD(),e8=class extends VOe.BaseExpressionEvaluator{constructor(e,r){super(r||new UOe.TermTransformer(e.superTypeProvider,e.enableExtendedXsdTypes)),this.context=e,this.subEvaluators={[Xu.ExpressionType.Term]:this.term.bind(this),[Xu.ExpressionType.Variable]:this.variable.bind(this),[Xu.ExpressionType.Operator]:this.evalOperator.bind(this),[Xu.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[Xu.ExpressionType.Named]:this.evalNamed.bind(this),[Xu.ExpressionType.Existence]:this.evalExistence.bind(this),[Xu.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[Xu.ExpressionType.AsyncExtension]:this.evalAsyncExtension.bind(this)}}async evaluate(e,r){let n=this.subEvaluators[e.expressionType];if(!n)throw new ZD.InvalidExpressionType(e);return n.bind(this)(e,r)}async evalOperator(e,r){let n=e.args.map(a=>this.evaluate(a,r)),i=await Promise.all(n);return e.apply(i)}async evalSpecialOperator(e,r){let n=this.evaluate.bind(this),i={args:e.args,mapping:r,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,overloadCache:this.context.overloadCache,evaluate:n,bnode:this.context.bnode,enableExtendedXsdTypes:this.context.enableExtendedXsdTypes};return e.applyAsync(i)}async _evalAsyncArgs(e,r){let n=e.map(i=>this.evaluate(i,r));return await Promise.all(n)}async evalNamed(e,r){return e.apply(await this._evalAsyncArgs(e.args,r))}async evalAsyncExtension(e,r){return await e.apply(await this._evalAsyncArgs(e.args,r))}async evalExistence(e,r){if(!this.context.exists)throw new ZD.NoExistenceHook;return new Xu.BooleanLiteral(await this.context.exists(e.expression,r))}async evalAggregate(e,r){if(!this.context.aggregate)throw new ZD.NoExistenceHook;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(e.expression))}};US.AsyncRecursiveEvaluator=e8});var t8=_(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.AsyncEvaluator=void 0;var MX=ul(),kOe=$D(),HOe=LX(),Yb=class{constructor(e,r={}){this.algExpr=e;let n=r.extensionFunctionCreator||(()=>{}),i=Yb.completeContext(r),a=new kOe.AlgebraTransformer(Object.assign({type:"async",creator:n},i));this.expr=a.transformAlgebra(e),this.evaluator=new HOe.AsyncRecursiveEvaluator(i,a)}static completeContext(e){return{now:e.now||new Date(Date.now()),baseIRI:e.baseIRI||void 0,overloadCache:e.overloadCache||new MX,superTypeProvider:{cache:e.typeCache||new MX,discoverer:e.getSuperType||(()=>"term")},extensionFunctionCreator:e.extensionFunctionCreator,exists:e.exists,aggregate:e.aggregate,bnode:e.bnode,enableExtendedXsdTypes:e.enableExtendedXsdTypes||!1}}async evaluate(e){return(await this.evaluator.evaluate(this.expr,e)).toRDF()}async evaluateAsEBV(e){return(await this.evaluator.evaluate(this.expr,e)).coerceEBV()}async evaluateAsInternal(e){return await this.evaluator.evaluate(this.expr,e)}};VS.AsyncEvaluator=Yb});var FX=_(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.SyncRecursiveEvaluator=void 0;var $u=Ma(),GOe=gh(),r8=Qi(),QOe=YD(),n8=class extends QOe.BaseExpressionEvaluator{constructor(e,r){super(r||new GOe.TermTransformer(e.superTypeProvider,e.enableExtendedXsdTypes)),this.context=e,this.subEvaluators={[$u.ExpressionType.Term]:this.term.bind(this),[$u.ExpressionType.Variable]:this.variable.bind(this),[$u.ExpressionType.Operator]:this.evalOperator.bind(this),[$u.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[$u.ExpressionType.Named]:this.evalNamed.bind(this),[$u.ExpressionType.Existence]:this.evalExistence.bind(this),[$u.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[$u.ExpressionType.SyncExtension]:this.evalSyncExtension.bind(this)}}evaluate(e,r){let n=this.subEvaluators[e.expressionType];if(!n)throw new r8.InvalidExpressionType(e);return n.bind(this)(e,r)}evalOperator(e,r){let n=e.args.map(i=>this.evaluate(i,r));return e.apply(n)}evalSpecialOperator(e,r){let n=this.evaluate.bind(this),i={args:e.args,mapping:r,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,overloadCache:this.context.overloadCache,evaluate:n,bnode:this.context.bnode,enableExtendedXsdTypes:this.context.enableExtendedXsdTypes};return e.applySync(i)}evalNamed(e,r){let n=e.args.map(i=>this.evaluate(i,r));return e.apply(n)}evalSyncExtension(e,r){let n=e.args.map(i=>this.evaluate(i,r));return e.apply(n)}evalExistence(e,r){if(!this.context.exists)throw new r8.NoExistenceHook;return new $u.BooleanLiteral(this.context.exists(e.expression,r))}evalAggregate(e,r){if(!this.context.aggregate)throw new r8.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(e.expression))}};kS.SyncRecursiveEvaluator=n8});var i8=_(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});HS.SyncEvaluator=void 0;var BX=ul(),zOe=$D(),WOe=FX(),Zb=class{constructor(e,r={}){this.algExpr=e,this.context=r;let n=r.extensionFunctionCreator||(()=>{}),i=Zb.completeContext(r),a=new zOe.AlgebraTransformer(Object.assign({type:"sync",creator:n},i));this.expr=a.transformAlgebra(e),this.evaluator=new WOe.SyncRecursiveEvaluator(i,a)}static completeContext(e){return{now:e.now||new Date(Date.now()),baseIRI:e.baseIRI||void 0,overloadCache:e.overloadCache||new BX,superTypeProvider:{cache:e.typeCache||new BX,discoverer:e.getSuperType||(()=>"term")},extensionFunctionCreator:e.extensionFunctionCreator,exists:e.exists,aggregate:e.aggregate,bnode:e.bnode,enableExtendedXsdTypes:e.enableExtendedXsdTypes||!1}}evaluate(e){return this.evaluator.evaluate(this.expr,e).toRDF()}evaluateAsEBV(e){return this.evaluator.evaluate(this.expr,e).coerceEBV()}evaluateAsInternal(e){return this.evaluator.evaluate(this.expr,e)}};HS.SyncEvaluator=Zb});var ml=_(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.BaseAggregator=void 0;var KOe=gh(),XOe=gi(),$Oe=hh(),a8=class{constructor(e,r){this.sharedContext=r,this.distinct=e.distinct,this.separator=e.separator||" ",this.termTransformer=new KOe.TermTransformer(r.superTypeProvider,r.enableExtendedXsdTypes)}termToNumericOrError(e){if(e.termType!=="Literal")throw new Error(`Term with value ${e.value} has type ${e.termType} and is not a numeric literal`);if(!(0,$Oe.isSubTypeOf)(e.datatype.value,XOe.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw new Error(`Term datatype ${e.datatype.value} with value ${e.value} has type ${e.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(e)}extractValue(e){if(e.termType!=="Literal")throw new Error(`Term with value ${e.value} has type ${e.termType} and is not a literal`);let r=this.termTransformer.transformLiteral(e);return{type:r.dataType,value:r.typedValue}}static emptyValue(){}};GS.BaseAggregator=a8});var kX=_(QS=>{"use strict";Object.defineProperty(QS,"__esModule",{value:!0});QS.Average=void 0;var JOe=Ma(),UX=Jb(),YOe=Xo(),VX=gi(),ZOe=ml(),s8=class extends ZOe.BaseAggregator{constructor(){super(...arguments),this.summer=UX.regularFunctions[VX.RegularOperator.ADDITION],this.divider=UX.regularFunctions[VX.RegularOperator.DIVISION]}static emptyValue(){return(0,YOe.integer)(0).toRDF()}init(e){return{sum:this.termToNumericOrError(e),count:1}}put(e,r){let n=this.termToNumericOrError(r);return{sum:this.summer.apply([e.sum,n],this.sharedContext),count:e.count+1}}result(e){let r=new JOe.IntegerLiteral(e.count);return this.divider.apply([e.sum,r],this.sharedContext).toRDF()}};QS.Average=s8});var GX=_(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.Count=void 0;var HX=Xo(),eRe=ml(),o8=class extends eRe.BaseAggregator{static emptyValue(){return(0,HX.integer)(0).toRDF()}init(e){return 1}put(e,r){return e+1}result(e){return(0,HX.integer)(e).toRDF()}};zS.Count=o8});var zX=_(WS=>{"use strict";Object.defineProperty(WS,"__esModule",{value:!0});WS.GroupConcat=void 0;var QX=Xo(),tRe=ml(),u8=class extends tRe.BaseAggregator{static emptyValue(){return(0,QX.string)("").toRDF()}init(e){return e.value}put(e,r){return e+this.separator+r.value}result(e){return(0,QX.string)(e).toRDF()}};WS.GroupConcat=u8});var WX=_(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.Max=void 0;var rRe=ml(),c8=class extends rRe.BaseAggregator{init(e){let{value:r}=this.extractValue(e);if(e.termType==="Literal")return{extremeValue:r,term:e};throw new Error("Term should be a literal")}put(e,r){let n=this.extractValue(r);return n.value>e.extremeValue&&r.termType==="Literal"?{extremeValue:n.value,term:r}:e}result(e){return e.term}};KS.Max=c8});var KX=_(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});XS.Min=void 0;var nRe=ml(),l8=class extends nRe.BaseAggregator{init(e){let{value:r}=this.extractValue(e);if(e.termType==="Literal")return{extremeValue:r,term:e};throw new Error("Term should be a literal")}put(e,r){let n=this.extractValue(r);return n.value<e.extremeValue&&r.termType==="Literal"?{extremeValue:n.value,term:r}:e}result(e){return e.term}};XS.Min=l8});var XX=_($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.Sample=void 0;var iRe=ml(),d8=class extends iRe.BaseAggregator{init(e){return e}put(e,r){return e}result(e){return e}};$S.Sample=d8});var $X=_(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});JS.Sum=void 0;var aRe=Jb(),sRe=Xo(),oRe=gi(),uRe=ml(),f8=class extends uRe.BaseAggregator{constructor(){super(...arguments),this.summer=aRe.regularFunctions[oRe.RegularOperator.ADDITION]}static emptyValue(){return(0,sRe.integer)(0).toRDF()}init(e){return this.termToNumericOrError(e)}put(e,r){let n=this.termToNumericOrError(r);return this.summer.apply([e,n],this.sharedContext)}result(e){return e.toRDF()}};JS.Sum=f8});var JX=_(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});YS.aggregators=void 0;var cRe=kX(),lRe=GX(),dRe=zX(),fRe=WX(),hRe=KX(),pRe=XX(),_Re=$X();YS.aggregators={count:lRe.Count,sum:_Re.Sum,min:hRe.Min,max:fRe.Max,avg:cRe.Average,group_concat:dRe.GroupConcat,sample:pRe.Sample}});var p8=_(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});ZS.BaseAggregateEvaluator=void 0;var YX=JX(),yRe=Qi(),h8=class{constructor(e,r,n){this.throwError=!1,this.expression=e,this.aggregator=new YX.aggregators[e.aggregator](e,r),this.throwError=n||!1}static emptyValue(e,r=!1){let n=YX.aggregators[e.aggregator].emptyValue();if(n===void 0&&r)throw new yRe.EmptyAggregateError;return n}result(){return this.aggregator.constructor.emptyValue()}__result(){return this.aggregator.result(this.state)}};ZS.BaseAggregateEvaluator=h8});var e$=_(eT=>{"use strict";Object.defineProperty(eT,"__esModule",{value:!0});eT.AggregateEvaluator=void 0;var bRe=p8(),ZX=i8(),_8=class extends bRe.BaseAggregateEvaluator{constructor(e,r,n){super(e,ZX.SyncEvaluator.completeContext(r||{}),n),this.evaluator=new ZX.SyncEvaluator(e.expression,r)}put(e){this.init(e)}__put(e){try{let r=this.evaluator.evaluate(e);this.state=this.aggregator.put(this.state,r)}catch(r){this.safeThrow(r)}}safeThrow(e){if(this.throwError)throw e;this.put=()=>{},this.result=()=>{}}init(e){try{let r=this.evaluator.evaluate(e);this.state=this.aggregator.init(r),this.state&&(this.put=this.__put.bind(this),this.result=this.__result.bind(this))}catch(r){this.safeThrow(r)}}};eT.AggregateEvaluator=_8});var n$=_(tT=>{"use strict";Object.defineProperty(tT,"__esModule",{value:!0});tT.orderTypes=void 0;var gRe=ul(),mRe=gh();function vRe(t,e,r,n,i,a){return t===e?0:t===void 0?r?-1:1:e===void 0?r?1:-1:t.equals(e)?0:wRe(t,e,n,i,a)===r?-1:1}tT.orderTypes=vRe;function wRe(t,e,r,n,i){return t.termType!==e.termType?t$[t.termType]<t$[e.termType]:t.termType==="Literal"?SRe(t,e,r,n,i):t.value<e.value}function SRe(t,e,r,n,i){let a={discoverer:r||(()=>"term"),cache:n||new gRe},s=new mRe.TermTransformer(a,i||!1),o=s.transformLiteral(t),u=s.transformLiteral(e),d=r$[o.mainSparqlType],f=r$[u.mainSparqlType];if(d!==f)return d<f;switch(d){case"boolean":case"dateTime":case"decimal":case"integer":case"float":case"double":case"string":return o.typedValue<u.typedValue;case"langString":return o.typedValue<u.typedValue||o.typedValue===u.typedValue&&(o.language||"")<(u.language||"");case"other":case"nonlexical":return o.dataType<u.dataType||o.dataType===u.dataType&&o.str()<u.str()}}var t$={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5},r$={string:"string",langString:"langString",dateTime:"dateTime",boolean:"boolean",integer:"decimal",decimal:"decimal",float:"decimal",double:"decimal",other:"other",nonlexical:"other"}});var a$=_(rT=>{"use strict";Object.defineProperty(rT,"__esModule",{value:!0});rT.AsyncAggregateEvaluator=void 0;var i$=t8(),TRe=p8(),y8=class extends TRe.BaseAggregateEvaluator{constructor(e,r,n){super(e,i$.AsyncEvaluator.completeContext(r||{}),n),this.evaluator=new i$.AsyncEvaluator(e.expression,r),this.errorOccurred=!1}put(e){return this.init(e)}async __put(e){try{let r=await this.evaluator.evaluate(e);this.state=this.aggregator.put(this.state,r)}catch(r){this.safeThrow(r)}}safeThrow(e){if(this.throwError)throw e;this.put=async()=>{},this.result=()=>{},this.errorOccurred=!0}async init(e){try{let r=await this.evaluator.evaluate(e);if(!r||this.errorOccurred)return;if(this.state){this.state=this.aggregator.put(this.state,r);return}this.state=this.aggregator.init(r),this.state&&(this.put=this.__put.bind(this),this.result=this.__result.bind(this))}catch(r){this.safeThrow(r)}}};rT.AsyncAggregateEvaluator=y8});var wh=_(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.AsyncAggregateEvaluator=Ri.orderTypes=Ri.isExpressionError=Ri.ExpressionError=Ri.AggregateEvaluator=Ri.SyncEvaluator=Ri.AsyncEvaluator=void 0;var ERe=t8();Object.defineProperty(Ri,"AsyncEvaluator",{enumerable:!0,get:function(){return ERe.AsyncEvaluator}});var ORe=i8();Object.defineProperty(Ri,"SyncEvaluator",{enumerable:!0,get:function(){return ORe.SyncEvaluator}});var RRe=e$();Object.defineProperty(Ri,"AggregateEvaluator",{enumerable:!0,get:function(){return RRe.AggregateEvaluator}});var s$=Qi();Object.defineProperty(Ri,"ExpressionError",{enumerable:!0,get:function(){return s$.ExpressionError}});Object.defineProperty(Ri,"isExpressionError",{enumerable:!0,get:function(){return s$.isExpressionError}});var ARe=n$();Object.defineProperty(Ri,"orderTypes",{enumerable:!0,get:function(){return ARe.orderTypes}});var xRe=a$();Object.defineProperty(Ri,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return xRe.AsyncAggregateEvaluator}})});var o$=_(iT=>{"use strict";Object.defineProperty(iT,"__esModule",{value:!0});iT.ActorQueryOperationExtend=void 0;var IRe=Kn(),nT=dt(),b8=wh(),g8=class extends nT.ActorQueryOperationTypedMediated{constructor(e){super(e,"extend")}async testOperation(e,r){let n=Boolean(new b8.AsyncEvaluator(e.expression,nT.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)));return!0}async runOperation(e,r){let{expression:n,input:i,variable:a}=e,s=nT.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:i,context:r})),o={...nT.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)},u=new b8.AsyncEvaluator(n,o),d=async(p,y,g)=>{try{let v=await u.evaluate(p),E=p.set(a,v);g(E)}catch(v){(0,b8.isExpressionError)(v)?(g(p),this.logWarn(r,`Expression error for extend operation with bindings '${(0,IRe.bindingsToString)(p)}'`)):f.emit("error",v)}y()},f=s.bindingsStream.transform({autoStart:!1,transform:d});return{type:"bindings",bindingsStream:f,async metadata(){let p=await s.metadata();return{...p,variables:[...p.variables,a]}}}}};iT.ActorQueryOperationExtend=g8});var u$=_(Sh=>{"use strict";var PRe=Sh&&Sh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NRe=Sh&&Sh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&PRe(e,t,r)};Object.defineProperty(Sh,"__esModule",{value:!0});NRe(o$(),Sh)});var c$=_(aT=>{"use strict";Object.defineProperty(aT,"__esModule",{value:!0});aT.ActorQueryOperationFilterSparqlee=void 0;var DRe=Kn(),eg=dt(),m8=wh(),v8=class extends eg.ActorQueryOperationTypedMediated{constructor(e){super(e,"filter")}async testOperation(e,r){let n={...eg.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)},i=new m8.AsyncEvaluator(e.expression,n);return!0}async runOperation(e,r){let n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r}),i=eg.ActorQueryOperation.getSafeBindings(n);eg.ActorQueryOperation.validateQueryOutput(i,"bindings");let a={...eg.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)},s=new m8.AsyncEvaluator(e.expression,a),o=async(d,f,p)=>{try{await s.evaluateAsEBV(d)&&p(d)}catch(y){(0,m8.isExpressionError)(y)?this.logWarn(r,"Error occurred while filtering.",()=>({error:y,bindings:(0,DRe.bindingsToString)(d)})):u.emit("error",y)}f()},u=i.bindingsStream.transform({transform:o});return{type:"bindings",bindingsStream:u,metadata:i.metadata}}};aT.ActorQueryOperationFilterSparqlee=v8});var l$=_(Th=>{"use strict";var CRe=Th&&Th.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jRe=Th&&Th.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&CRe(e,t,r)};Object.defineProperty(Th,"__esModule",{value:!0});jRe(c$(),Th)});var d$=_(sT=>{"use strict";Object.defineProperty(sT,"__esModule",{value:!0});sT.ActorQueryOperationFromQuad=void 0;var qRe=dt(),tg=jt(),fr=class extends qRe.ActorQueryOperationTypedMediated{constructor(e){super(e,"from")}static copyOperation(e,r){let n={};for(let i of Object.keys(e))Array.isArray(e[i])&&i!=="template"?i==="variables"?n[i]=e[i]:n[i]=e[i].map(r):fr.ALGEBRA_TYPES.includes(e[i].type)?n[i]=r(e[i]):n[i]=e[i];return n}static applyOperationDefaultGraph(e,r){if(e.type==="bgp"&&e.patterns.length>0||e.type==="path"||e.type==="pattern"){if(e.type==="bgp")return fr.joinOperations(e.patterns.map(i=>{if(i.graph.termType!=="DefaultGraph")return fr.FACTORY.createBgp([i]);let a=r.map(s=>fr.FACTORY.createBgp([fr.FACTORY.createPattern(i.subject,i.predicate,i.object,s)]));return fr.unionOperations(a)}));if(e.graph.termType!=="DefaultGraph")return e;let n=r.map(i=>e.type==="path"?fr.FACTORY.createPath(e.subject,e.predicate,e.object,i):fr.FACTORY.createPattern(e.subject,e.predicate,e.object,i));return fr.unionOperations(n)}return fr.copyOperation(e,n=>this.applyOperationDefaultGraph(n,r))}static applyOperationNamedGraph(e,r,n){if(e.type==="bgp"&&e.patterns.length>0||e.type==="path"||e.type==="pattern"){let i=e.type==="bgp"?e.patterns[0].graph:e.graph;if(i.termType==="DefaultGraph")return{type:tg.Algebra.types.BGP,patterns:[]};if(i.termType==="Variable"){if(r.length===1){let s=r[0],o={};o[`?${i.value}`]=s;let u=fr.FACTORY.createValues([i],[o]),d;return e.type==="bgp"?d=fr.FACTORY.createBgp(e.patterns.map(f=>fr.FACTORY.createPattern(f.subject,f.predicate,f.object,s))):e.type==="path"?d=fr.FACTORY.createPath(e.subject,e.predicate,e.object,s):d=fr.FACTORY.createPattern(e.subject,e.predicate,e.object,s),fr.FACTORY.createJoin([u,d])}return fr.unionOperations(r.map(s=>fr.applyOperationNamedGraph(e,[s],n)))}return[...r,...n].some(s=>s.equals(i))?e:{type:tg.Algebra.types.BGP,patterns:[]}}return fr.copyOperation(e,i=>this.applyOperationNamedGraph(i,r,n))}static joinOperations(e){if(e.length===1)return e[0];if(e.length>1)return fr.FACTORY.createJoin(e);throw new Error("A join can only be applied on at least one operation")}static unionOperations(e){if(e.length===1)return e[0];if(e.length>1)return fr.FACTORY.createUnion(e);throw new Error("A union can only be applied on at least one operation")}static createOperation(e){let r=e.input;return e.default.length>0&&(r=fr.applyOperationDefaultGraph(r,e.default)),(e.named.length>0||e.default.length>0)&&(r=fr.applyOperationNamedGraph(r,e.named,e.default)),r}async testOperation(e,r){return!0}async runOperation(e,r){let n=fr.createOperation(e);return this.mediatorQueryOperation.mediate({operation:n,context:r})}};sT.ActorQueryOperationFromQuad=fr;fr.FACTORY=new tg.Factory;fr.ALGEBRA_TYPES=Object.keys(tg.Algebra.types).map(t=>tg.Algebra.types[t])});var f$=_(Eh=>{"use strict";var LRe=Eh&&Eh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MRe=Eh&&Eh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&LRe(e,t,r)};Object.defineProperty(Eh,"__esModule",{value:!0});MRe(d$(),Eh)});var p$=_(oT=>{"use strict";Object.defineProperty(oT,"__esModule",{value:!0});oT.GroupsState=void 0;var FRe=Kn(),BRe=Bt(),h$=wh(),URe=new BRe.DataFactory,VRe=new FRe.BindingsFactory,w8=class{constructor(e,r,n){this.hashFunction=e,this.pattern=r,this.sparqleeConfig=n,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(i=>i.value)),this.distinctHashes=r.aggregates.some(({distinct:i})=>i)?new Map:null,this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(e){let r=this.resultCheck();if(r)return r;this.waitCounter++;let n=e.filter((o,u)=>this.groupVariables.has(u.value)),i=this.hashBindings(n),a=this.groupsInitializer.get(i),s;if(!a)a=(async()=>{let o={};if(await Promise.all(this.pattern.aggregates.map(async d=>{let f=d.variable.value;o[f]=new h$.AsyncAggregateEvaluator(d,this.sparqleeConfig),await o[f].put(e)})),this.distinctHashes){let d=this.hashBindings(e);this.distinctHashes.set(i,new Set([d]))}let u={aggregators:o,bindings:n};return this.groups.set(i,u),this.subtractWaitCounterAndCollect(),u})(),this.groupsInitializer.set(i,a),s=a;else{let o=a;s=(async()=>{let u=await o;await Promise.all(this.pattern.aggregates.map(async d=>{if(d.distinct){let p=this.hashBindings(e);if(this.distinctHashes.get(i).has(p))return;this.distinctHashes.get(i).add(p)}let f=d.variable.value;await u.aggregators[f].put(e)}))})().then(()=>{this.subtractWaitCounterAndCollect()})}return s}subtractWaitCounterAndCollect(){--this.waitCounter===0&&this.handleResultCollection()}handleResultCollection(){let e=[...this.groups].map(([r,n])=>{let{bindings:i,aggregators:a}=n,s=i;for(let o in a){let u=a[o].result();u&&(s=s.set(URe.variable(o),u))}return s});if(e.length===0&&this.groupVariables.size===0){let r=[];for(let n of this.pattern.aggregates){let i=n.variable,a=h$.AsyncAggregateEvaluator.emptyValue(n);a!==void 0&&r.push([i,a])}e=[VRe.bindings(r)]}this.waitResolver(e)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}collectResults(){let e=this.resultCheck();if(e)return e;this.resultHasBeenCalled=!0;let r=new Promise(n=>{this.waitResolver=n});return this.subtractWaitCounterAndCollect(),r}hashBindings(e){return this.hashFunction(e)}};oT.GroupsState=w8});var _$=_(cT=>{"use strict";Object.defineProperty(cT,"__esModule",{value:!0});cT.ActorQueryOperationGroup=void 0;var uT=dt(),kRe=er(),HRe=wh(),GRe=p$(),S8=class extends uT.ActorQueryOperationTypedMediated{constructor(e){super(e,"group")}async testOperation(e,r){for(let n of e.aggregates){let i=new HRe.AsyncEvaluator(n.expression,uT.ActorQueryOperation.getAsyncExpressionContext(r))}return!0}async runOperation(e,r){let{hashFunction:n}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:r}),{input:i,aggregates:a}=e,s=await this.mediatorQueryOperation.mediate({operation:i,context:r}),o=uT.ActorQueryOperation.getSafeBindings(s),u=[...e.variables,...a.map(f=>f.variable)],d=uT.ActorQueryOperation.getAsyncExpressionContext(r);return new Promise((f,p)=>{let y=new GRe.GroupsState(n,e,d);o.bindingsStream.on("end",async()=>{try{let g=new kRe.ArrayIterator(await y.collectResults(),{autoStart:!1});f({type:"bindings",bindingsStream:g,metadata:async()=>({...await o.metadata(),variables:u})})}catch(g){p(g)}}),o.bindingsStream.on("error",p),o.bindingsStream.on("data",g=>{y.consumeBindings(g).catch(p)})})}};cT.ActorQueryOperationGroup=S8});var y$=_(Oh=>{"use strict";var QRe=Oh&&Oh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zRe=Oh&&Oh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&QRe(e,t,r)};Object.defineProperty(Oh,"__esModule",{value:!0});zRe(_$(),Oh)});var b$=_(lT=>{"use strict";Object.defineProperty(lT,"__esModule",{value:!0});lT.ActorQueryOperationNop=void 0;var WRe=Kn(),KRe=dt(),XRe=er(),$Re=new WRe.BindingsFactory,T8=class extends KRe.ActorQueryOperationTypedMediated{constructor(e){super(e,"nop")}async testOperation(e,r){return!0}async runOperation(e,r){return{bindingsStream:new XRe.SingletonIterator($Re.bindings()),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}};lT.ActorQueryOperationNop=T8});var g$=_(Rh=>{"use strict";var JRe=Rh&&Rh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YRe=Rh&&Rh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&JRe(e,t,r)};Object.defineProperty(Rh,"__esModule",{value:!0});YRe(b$(),Rh)});var m$=_(dT=>{"use strict";Object.defineProperty(dT,"__esModule",{value:!0});dT.SortIterator=void 0;var ZRe=er(),E8=class extends ZRe.TransformIterator{constructor(e,r,n){super(e,n);let i=n&&n.window;this.windowLength=Number.isFinite(i)&&i>0?i:Number.POSITIVE_INFINITY,this.sort=r,this.sorted=[]}_read(e,r){let n,{length:i}=this.sorted;for(;i!==this.windowLength&&(n=this.source.read(),n!==null);){let a=0,s=i-1,o,u;for(;a<=s;)o=Math.trunc((a+s)/2),u=this.sort(n,this.sorted[o]),u<0?a=o+1:u>0?s=o-1:(a=o,s=-1);this.sorted.splice(a,0,n),i++}i===this.windowLength&&this._push(this.sorted.pop()),r()}_flush(e){let{length:r}=this.sorted;for(;r--;)this._push(this.sorted.pop());e()}};dT.SortIterator=E8});var w$=_(pT=>{"use strict";Object.defineProperty(pT,"__esModule",{value:!0});pT.ActorQueryOperationOrderBySparqlee=void 0;var fT=dt(),v$=jt(),hT=wh(),eAe=m$(),O8=class extends fT.ActorQueryOperationTypedMediated{constructor(e){super(e,"orderby"),this.window=e.window??Number.POSITIVE_INFINITY}async testOperation(e,r){for(let n of e.expressions){n=this.extractSortExpression(n);let i=new hT.AsyncEvaluator(n,fT.ActorQueryOperation.getAsyncExpressionContext(r))}return!0}async runOperation(e,r){let n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r}),i=fT.ActorQueryOperation.getSafeBindings(n),a={window:this.window},s={...fT.ActorQueryOperation.getAsyncExpressionContext(r)},{bindingsStream:o}=i;for(let u=e.expressions.length-1;u>=0;u--){let d=e.expressions[u],f=this.isAscending(d);d=this.extractSortExpression(d);let p=new hT.AsyncEvaluator(d,s),y=async(E,D,O)=>{try{let C=await p.evaluate(E);O({bindings:E,result:C})}catch(C){(0,hT.isExpressionError)(C)||o.emit("error",C),O({bindings:E,result:void 0})}D()},g=o.transform({transform:y});o=new eAe.SortIterator(g,(E,D)=>(0,hT.orderTypes)(E.result,D.result,f),a).map(({bindings:E,result:D})=>E)}return{type:"bindings",bindingsStream:o,metadata:i.metadata}}extractSortExpression(e){let{expressionType:r,operator:n}=e;return r!==v$.Algebra.expressionTypes.OPERATOR?e:n==="desc"?e.args[0]:e}isAscending(e){let{expressionType:r,operator:n}=e;return r!==v$.Algebra.expressionTypes.OPERATOR?!0:n!=="desc"}};pT.ActorQueryOperationOrderBySparqlee=O8});var S$=_(Ah=>{"use strict";var tAe=Ah&&Ah.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rAe=Ah&&Ah.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tAe(e,t,r)};Object.defineProperty(Ah,"__esModule",{value:!0});rAe(w$(),Ah)});var E$=_(_T=>{"use strict";Object.defineProperty(_T,"__esModule",{value:!0});_T.ActorQueryOperationProject=void 0;var T$=dt(),nAe=Xg(),iAe=Bt(),aAe=new iAe.DataFactory,R8=class extends T$.ActorQueryOperationTypedMediated{constructor(e){super(e,"project")}async testOperation(e,r){return!0}async runOperation(e,r){let n=T$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:r})),i=await n.metadata(),a=e.variables,s=i.variables.filter(f=>!a.some(p=>f.value===p.value)),o=a.filter(f=>!i.variables.some(p=>f.value===p.value));if(o.length>0)throw new Error(`Variables '${o.map(f=>`?${f.value}`)}' are used in the projection result, but are not assigned.`);let u=s.length===0?n.bindingsStream:n.bindingsStream.transform({map(f){for(let p of s)f=f.delete(p);return f},autoStart:!1}),d=0;return u=u.transform({map(f){d++;let p=new Map;return f.map(y=>{if(y instanceof nAe.BlankNodeBindingsScoped){let g=p.get(y.value);return g||(g=aAe.blankNode(`${y.value}${d}`),p.set(y.value,g)),g}return y})},autoStart:!1}),{type:"bindings",bindingsStream:u,metadata:async()=>({...i,variables:a})}}};_T.ActorQueryOperationProject=R8});var O$=_(xh=>{"use strict";var sAe=xh&&xh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oAe=xh&&xh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sAe(e,t,r)};Object.defineProperty(xh,"__esModule",{value:!0});oAe(E$(),xh)});var A$=_(yT=>{"use strict";Object.defineProperty(yT,"__esModule",{value:!0});yT.ActorQueryOperationReducedHash=void 0;var R$=dt(),uAe=ul(),A8=class extends R$.ActorQueryOperationTypedMediated{constructor(e){super(e,"reduced")}async testOperation(e,r){return!0}async runOperation(e,r){let n=R$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:r})),i=n.bindingsStream.filter(await this.newHashFilter(r));return{type:"bindings",bindingsStream:i,metadata:n.metadata}}async newHashFilter(e){let{hashFunction:r}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:e}),n=new uAe({max:this.cacheSize});return i=>{let a=r(i);return!n.has(a)&&n.set(a,!0)}}};yT.ActorQueryOperationReducedHash=A8});var x$=_(Ih=>{"use strict";var cAe=Ih&&Ih.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lAe=Ih&&Ih.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cAe(e,t,r)};Object.defineProperty(Ih,"__esModule",{value:!0});lAe(A$(),Ih)});var P$=_(gT=>{"use strict";Object.defineProperty(gT,"__esModule",{value:!0});gT.ActorQueryOperationService=void 0;var dAe=Kn(),I$=dt(),bT=Cr(),fAe=er(),hAe=new dAe.BindingsFactory,x8=class extends I$.ActorQueryOperationTypedMediated{constructor(e){super(e,"service")}async testOperation(e,r){if(e.name.termType!=="NamedNode")throw new Error(`${this.name} can only query services by IRI, while a ${e.name.termType} was given.`);return!0}async runOperation(e,r){let n=e.name.value,i=r.delete(bT.KeysRdfResolveQuadPattern.source).delete(bT.KeysRdfResolveQuadPattern.sources).delete(bT.KeysInitQuery.queryString),a=this.forceSparqlEndpoint?"sparql":void 0;i=i.set(bT.KeysRdfResolveQuadPattern.sources,[{type:a,value:n}]);let s;try{s=I$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:i}))}catch(o){if(e.silent)s={bindingsStream:new fAe.SingletonIterator(hAe.bindings()),type:"bindings",metadata:async()=>({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};else throw o}return s}};gT.ActorQueryOperationService=x8});var N$=_(Ph=>{"use strict";var pAe=Ph&&Ph.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Ae=Ph&&Ph.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pAe(e,t,r)};Object.defineProperty(Ph,"__esModule",{value:!0});_Ae(P$(),Ph)});var D$=_(mT=>{"use strict";Object.defineProperty(mT,"__esModule",{value:!0});mT.ActorQueryOperationSlice=void 0;var yAe=dt(),bAe=Cr(),I8=class extends yAe.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,r){return!0}async runOperation(e,r){e.length&&(r=r.set(bAe.KeysQueryOperation.limitIndicator,e.length));let n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r});if(n.type==="bindings"){let i=this.sliceStream(n.bindingsStream,e);return{type:"bindings",bindingsStream:i,metadata:this.sliceMetadata(n,e)}}if(n.type==="quads"){let i=this.sliceStream(n.quadStream,e);return{type:"quads",quadStream:i,metadata:this.sliceMetadata(n,e)}}throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${n.type}'`)}sliceStream(e,r){let n=Boolean(r.length)||r.length===0,{start:i}=r,a=n?r.start+r.length-1:Number.POSITIVE_INFINITY;return e.transform({offset:i,limit:Math.max(a-i+1,0),autoStart:!1})}sliceMetadata(e,r){let n=Boolean(r.length)||r.length===0;return()=>e.metadata().then(i=>{let a={...i.cardinality};return Number.isFinite(a.value)&&(a.value=Math.max(0,a.value-r.start),n&&(a.value=Math.min(a.value,r.length))),{...i,cardinality:a}})}};mT.ActorQueryOperationSlice=I8});var C$=_(Nh=>{"use strict";var gAe=Nh&&Nh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mAe=Nh&&Nh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gAe(e,t,r)};Object.defineProperty(Nh,"__esModule",{value:!0});mAe(D$(),Nh)});var N8=_(vT=>{"use strict";Object.defineProperty(vT,"__esModule",{value:!0});vT.PathVariableObjectIterator=void 0;var vAe=dt(),wAe=er(),SAe=Bt(),TAe=On(),EAe=jt(),OAe=new SAe.DataFactory,RAe=new EAe.Factory,P8=class extends wAe.BufferedIterator{constructor(e,r,n,i,a,s,o=16){super({autoStart:!0}),this.subject=e,this.predicate=r,this.graph=n,this.context=i,this.mediatorQueryOperation=a,this.maxRunningOperations=o,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,s)}_end(e){for(let r of this.runningOperations)r.destroy();super._end(e)}_push(e,r=!0){let n;if(r&&(n=(0,TAe.termToString)(e),this.termHashes.has(n)))return;let i=OAe.variable("b");this.pendingOperations.push({variable:i,operation:RAe.createPath(e,this.predicate,i,this.graph)}),n&&(this.termHashes.set(n,e),super._push(e))}_read(e,r){let n=this;(async function(){for(;n.runningOperations.length<n.maxRunningOperations&&n.pendingOperations.length!==0;){let s=n.pendingOperations.pop(),o=vAe.ActorQueryOperation.getSafeBindings(await n.mediatorQueryOperation.mediate({operation:s.operation,context:n.context})),u=o.bindingsStream.transform({autoStart:!1,transform(d,f,p){let y=d.get(s.variable);p(y),f()}});u.done||(n.runningOperations.push(u),u.on("error",d=>n.destroy(d)),u.on("readable",()=>{n.readable=!0,n._fillBufferAsync()}),u.on("end",()=>{n.runningOperations.splice(n.runningOperations.indexOf(u),1),n.readable=!0,n._fillBufferAsync()})),n.setProperty("metadata",o.metadata)}let i=0,a;for(;i!==(i=e);)for(let s=0;s<n.runningOperations.length&&e>0;s++)(a=n.runningOperations[s].read())!==null&&(e--,n._push(a));n.runningOperations.length===0&&n.pendingOperations.length===0&&n.close()})().then(()=>{r()},i=>this.destroy(i))}};vT.PathVariableObjectIterator=P8});var j$=_(ST=>{"use strict";Object.defineProperty(ST,"__esModule",{value:!0});ST.ActorAbstractPath=void 0;var AAe=Kn(),rg=dt(),D8=Cr(),wT=er(),xAe=Bt(),C8=On(),IAe=jt(),PAe=N8(),NAe=new xAe.DataFactory,j8=new AAe.BindingsFactory,ms=class extends rg.ActorQueryOperationTypedMediated{constructor(e,r){super(e,"path"),this.predicateType=r}async testOperation(e,r){if(e.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(e,r){return r?e&&(e.subject.value===r||e.object.value===r)?this.generateVariable(e,`${r}b`):NAe.variable(r):this.generateVariable(e,"b")}async isPathArbitraryLengthDistinct(e,r){return e.get(D8.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(e=e.set(D8.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:e,operation:void 0}):(e=e.set(D8.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:e,operation:rg.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:ms.FACTORY.createDistinct(r),context:e}))})}async predicateStarGraphVariable(e,r,n,i,a){let s=this.generateVariable(ms.FACTORY.createPath(e,n,r,i)),o=ms.FACTORY.createUnion([ms.FACTORY.createPattern(e,s,r,i),ms.FACTORY.createPattern(r,s,e,i)]),u=rg.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:a,operation:o})),d=new Set;return{bindingsStream:new wT.MultiTransformIterator(u.bindingsStream,{multiTransform:p=>{let y=p.get(i);return d.has(y.value)?new wT.EmptyIterator:(d.add(y.value),new wT.TransformIterator(async()=>{let g=new wT.BufferedIterator;return await this.getObjectsPredicateStar(e,n,y,a,{},g,{count:0}),g.transform({transform(v,E,D){D(j8.bindings([[r,v],[i,y]])),E()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:u.metadata}}async getObjectsPredicateStarEval(e,r,n,i,a,s){if(i.termType==="Variable")return this.predicateStarGraphVariable(e,n,r,i,a);let o=new PAe.PathVariableObjectIterator(e,r,i,a,this.mediatorQueryOperation,s);return{bindingsStream:o.transform({autoStart:!1,transform(d,f,p){p(j8.bindings([[n,d]])),f()}}),metadata:()=>new Promise(d=>o.getProperty("metadata",f=>d(f())))}}async getObjectsPredicateStar(e,r,n,i,a,s,o){let u=(0,C8.termToString)(e);if(a[u])return;s._push(e),a[u]=e,o.count++;let d=this.generateVariable(),f=ms.FACTORY.createPath(e,r,d,n),p=rg.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:f,context:i}));return p.bindingsStream.on("data",async y=>{let g=y.get(d);await this.getObjectsPredicateStar(g,r,n,i,a,s,o)}),p.bindingsStream.on("end",()=>{--o.count===0&&s.close()}),p.metadata}async getSubjectAndObjectBindingsPredicateStar(e,r,n,i,a,s,o,u,d,f,p){let y=(0,C8.termToString)(i)+(0,C8.termToString)(s);if(d[y])return;if(p.count++,d[y]=!0,f._push(j8.bindings([[e,n],[r,i]])),y in u){let v=await u[y];for(let E of v)await this.getSubjectAndObjectBindingsPredicateStar(e,r,n,E,a,s,o,u,d,f,p);--p.count===0&&f.close();return}let g=new Promise(async(v,E)=>{let D=[],O=this.generateVariable(),C=ms.FACTORY.createPath(i,a,O,s),R=rg.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:C,context:o}));R.bindingsStream.on("data",async w=>{let P=w.get(O);D.push(P),await this.getSubjectAndObjectBindingsPredicateStar(e,r,n,P,a,s,o,u,d,f,p)}),R.bindingsStream.on("error",E),R.bindingsStream.on("end",()=>{--p.count===0&&f.close(),v(D)})});u[y]=g}};ST.ActorAbstractPath=ms;ms.FACTORY=new IAe.Factory});var Ju=_(vl=>{"use strict";var DAe=vl&&vl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q$=vl&&vl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&DAe(e,t,r)};Object.defineProperty(vl,"__esModule",{value:!0});q$(j$(),vl);q$(N8(),vl)});var M$=_(TT=>{"use strict";Object.defineProperty(TT,"__esModule",{value:!0});TT.ActorQueryOperationPathAlt=void 0;var L$=Ju(),CAe=aS(),jAe=dt(),qAe=er(),LAe=jt(),q8=class extends L$.ActorAbstractPath{constructor(e){super(e,LAe.Algebra.types.ALT)}async runOperation(e,r){let n=e.predicate,i=(await Promise.all(n.input.map(o=>this.mediatorQueryOperation.mediate({context:r,operation:L$.ActorAbstractPath.FACTORY.createPath(e.subject,o,e.object,e.graph)})))).map(jAe.ActorQueryOperation.getSafeBindings),a=new qAe.UnionIterator(i.map(o=>o.bindingsStream),{autoStart:!1});return{type:"bindings",bindingsStream:a,metadata:()=>Promise.all(i.map(o=>o.metadata())).then(o=>CAe.ActorQueryOperationUnion.unionMetadata(o,!0))}}};TT.ActorQueryOperationPathAlt=q8});var F$=_(Dh=>{"use strict";var MAe=Dh&&Dh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FAe=Dh&&Dh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&MAe(e,t,r)};Object.defineProperty(Dh,"__esModule",{value:!0});FAe(M$(),Dh)});var U$=_(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0});ET.ActorQueryOperationPathInv=void 0;var B$=Ju(),BAe=jt(),L8=class extends B$.ActorAbstractPath{constructor(e){super(e,BAe.Algebra.types.INV)}async runOperation(e,r){let n=e.predicate,i=B$.ActorAbstractPath.FACTORY.createPath(e.object,n.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:r})}};ET.ActorQueryOperationPathInv=L8});var V$=_(Ch=>{"use strict";var UAe=Ch&&Ch.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VAe=Ch&&Ch.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UAe(e,t,r)};Object.defineProperty(Ch,"__esModule",{value:!0});VAe(U$(),Ch)});var H$=_(OT=>{"use strict";Object.defineProperty(OT,"__esModule",{value:!0});OT.ActorQueryOperationPathLink=void 0;var k$=Ju(),kAe=jt(),M8=class extends k$.ActorAbstractPath{constructor(e){super(e,kAe.Algebra.types.LINK)}async runOperation(e,r){let n=e.predicate,i=k$.ActorAbstractPath.FACTORY.createPattern(e.subject,n.iri,e.object,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:r})}};OT.ActorQueryOperationPathLink=M8});var G$=_(jh=>{"use strict";var HAe=jh&&jh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GAe=jh&&jh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HAe(e,t,r)};Object.defineProperty(jh,"__esModule",{value:!0});GAe(H$(),jh)});var z$=_(RT=>{"use strict";Object.defineProperty(RT,"__esModule",{value:!0});RT.ActorQueryOperationPathNps=void 0;var Q$=Ju(),QAe=dt(),zAe=jt(),F8=class extends Q$.ActorAbstractPath{constructor(e){super(e,zAe.Algebra.types.NPS)}async runOperation(e,r){let n=e.predicate,i=this.generateVariable(e),a=Q$.ActorAbstractPath.FACTORY.createPattern(e.subject,i,e.object,e.graph),s=QAe.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a,context:r})),o=s.bindingsStream.transform({filter(u){return!n.iris.some(d=>d.equals(u.get(i)))},transform(u,d,f){f(u.delete(i)),d()}});return{type:"bindings",bindingsStream:o,metadata:s.metadata}}};RT.ActorQueryOperationPathNps=F8});var W$=_(qh=>{"use strict";var WAe=qh&&qh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KAe=qh&&qh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WAe(e,t,r)};Object.defineProperty(qh,"__esModule",{value:!0});KAe(z$(),qh)});var $$=_(AT=>{"use strict";Object.defineProperty(AT,"__esModule",{value:!0});AT.ActorQueryOperationPathOneOrMore=void 0;var Lh=Ju(),XAe=Kn(),K$=dt(),B8=er(),$Ae=jt(),X$=new XAe.BindingsFactory,U8=class extends Lh.ActorAbstractPath{constructor(e){super(e,$Ae.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(e,r){let n=await this.isPathArbitraryLengthDistinct(r,e);if(n.operation)return n.operation;r=n.context;let i=e.predicate;if(e.subject.termType!=="Variable"&&e.object.termType==="Variable"){let u=e.object,d=await this.getObjectsPredicateStarEval(e.subject,i.path,u,e.graph,r,!1),f=e.graph.termType==="Variable"?[u,e.graph]:[u];return{type:"bindings",bindingsStream:d.bindingsStream,metadata:async()=>({...await d.metadata(),variables:f})}}if(e.subject.termType==="Variable"&&e.object.termType==="Variable"){let u=Lh.ActorAbstractPath.FACTORY.createDistinct(Lh.ActorAbstractPath.FACTORY.createPath(e.subject,e.predicate.path,e.object,e.graph)),d=K$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:u})),f=e.subject,p=e.object,y={},g=new B8.MultiTransformIterator(d.bindingsStream,{multiTransform:E=>{let D=E.get(f),O=E.get(p),C=e.graph.termType==="Variable"?E.get(e.graph):e.graph;return new B8.TransformIterator(async()=>{let R=new B8.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(f,p,D,O,i.path,C,r,y,{},R,{count:0}),R.transform({transform(w,P,T){e.graph.termType==="Variable"&&(w=w.set(e.graph,C)),T(w),P()}})},{maxBufferSize:128})},autoStart:!1}),v=e.graph.termType==="Variable"?[f,p,e.graph]:[f,p];return{type:"bindings",bindingsStream:g,metadata:async()=>({...await d.metadata(),variables:v})}}if(e.subject.termType==="Variable"&&e.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:r,operation:Lh.ActorAbstractPath.FACTORY.createPath(e.object,Lh.ActorAbstractPath.FACTORY.createOneOrMorePath(Lh.ActorAbstractPath.FACTORY.createInv(i.path)),e.subject,e.graph)});let a=this.generateVariable(),s=K$.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:Lh.ActorAbstractPath.FACTORY.createPath(e.subject,i,a,e.graph)})),o=s.bindingsStream.transform({filter:u=>e.object.equals(u.get(a)),transform(u,d,f){let p=e.graph.termType==="Variable"?X$.bindings([[e.graph,u.get(e.graph)]]):X$.bindings();f(p),d()}});return{type:"bindings",bindingsStream:o,metadata:async()=>({...await s.metadata(),variables:e.graph.termType==="Variable"?[e.graph]:[]})}}};AT.ActorQueryOperationPathOneOrMore=U8});var J$=_(Mh=>{"use strict";var JAe=Mh&&Mh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YAe=Mh&&Mh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&JAe(e,t,r)};Object.defineProperty(Mh,"__esModule",{value:!0});YAe($$(),Mh)});var Z$=_(PT=>{"use strict";Object.defineProperty(PT,"__esModule",{value:!0});PT.ActorQueryOperationPathZeroOrMore=void 0;var V8=Ju(),ZAe=Kn(),exe=dt(),xT=er(),IT=On(),txe=jt(),Y$=new ZAe.BindingsFactory,k8=class extends V8.ActorAbstractPath{constructor(e){super(e,txe.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(e,r){let n=await this.isPathArbitraryLengthDistinct(r,e);if(n.operation)return n.operation;r=n.context;let i=e.predicate,a=e.subject.termType==="Variable",s=e.object.termType==="Variable";if(e.subject.termType==="Variable"&&e.object.termType==="Variable"){let y=this.generateVariable(e),g=V8.ActorAbstractPath.FACTORY.createPattern(e.subject,y,e.object,e.graph),v=exe.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:g})),E=e.subject,D=e.object,O=new Set,C={},R=new xT.MultiTransformIterator(v.bindingsStream,{multiTransform:P=>{let T=P.get(E),te=P.get(D),ee=e.graph.termType==="Variable"?P.get(e.graph):e.graph,Y=(0,IT.termToString)(T)+(0,IT.termToString)(ee),x=(0,IT.termToString)(te)+(0,IT.termToString)(ee);return new xT.TransformIterator(async()=>{if(O.has(Y)&&O.has(x))return new xT.EmptyIterator;let H=new xT.BufferedIterator,se={count:0};return O.has(Y)||(O.add(Y),await this.getSubjectAndObjectBindingsPredicateStar(E,D,T,T,i.path,ee,r,C,{},H,se)),O.has(x)||(O.add(x),await this.getSubjectAndObjectBindingsPredicateStar(E,D,te,te,i.path,ee,r,C,{},H,se)),H.transform({transform(Ne,Me,J){e.graph.termType==="Variable"&&(Ne=Ne.set(e.graph,ee)),J(Ne),Me()}})})}}),w=e.graph.termType==="Variable"?[E,e.object,e.graph]:[E,e.object];return{type:"bindings",bindingsStream:R,metadata:async()=>({...await v.metadata(),variables:w})}}if(!a&&!s){let y=this.generateVariable(),g=await this.getObjectsPredicateStarEval(e.subject,i.path,y,e.graph,r,!0),v=g.bindingsStream.transform({filter:E=>e.object.equals(E.get(y)),transform(E,D,O){let C=e.graph.termType==="Variable"?Y$.bindings([[e.graph,E.get(e.graph)]]):Y$.bindings();O(C),D()}});return{type:"bindings",bindingsStream:v,metadata:async()=>({...await g.metadata(),variables:e.graph.termType==="Variable"?[e.graph]:[]})}}let o=a?e.object:e.subject,u=a?e.subject:e.object,d=a?V8.ActorAbstractPath.FACTORY.createInv(i.path):i.path,f=await this.getObjectsPredicateStarEval(o,d,u,e.graph,r,!0),p=e.graph.termType==="Variable"?[u,e.graph]:[u];return{type:"bindings",bindingsStream:f.bindingsStream,metadata:async()=>({...await f.metadata(),variables:p})}}};PT.ActorQueryOperationPathZeroOrMore=k8});var eJ=_(Fh=>{"use strict";var rxe=Fh&&Fh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nxe=Fh&&Fh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rxe(e,t,r)};Object.defineProperty(Fh,"__esModule",{value:!0});nxe(Z$(),Fh)});var rJ=_(NT=>{"use strict";Object.defineProperty(NT,"__esModule",{value:!0});NT.ActorQueryOperationPathZeroOrOne=void 0;var tJ=Ju(),ixe=Kn(),axe=dt(),sxe=er(),oxe=jt(),H8=new ixe.BindingsFactory,G8=class extends tJ.ActorAbstractPath{constructor(e){super(e,oxe.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(e,r){let n=e.predicate,i=e.subject.termType==="Variable",a=e.object.termType==="Variable",s=[];if(!i&&!a&&e.subject.equals(e.object))return{type:"bindings",bindingsStream:new sxe.SingletonIterator(H8.bindings()),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};if(i&&a)throw new Error("ZeroOrOne path expressions with 2 variables not supported yet");let o=await this.isPathArbitraryLengthDistinct(r,e);if(o.operation)return o.operation;r=o.context,e.subject.termType==="Variable"&&s.push(H8.bindings([[e.subject,e.object]])),e.object.termType==="Variable"&&s.push(H8.bindings([[e.object,e.subject]]));let u=axe.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:tJ.ActorAbstractPath.FACTORY.createPath(e.subject,n.path,e.object,e.graph)})),d=u.bindingsStream.prepend(s);return{type:"bindings",bindingsStream:d,metadata:u.metadata}}};NT.ActorQueryOperationPathZeroOrOne=G8});var nJ=_(Bh=>{"use strict";var uxe=Bh&&Bh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cxe=Bh&&Bh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uxe(e,t,r)};Object.defineProperty(Bh,"__esModule",{value:!0});cxe(rJ(),Bh)});var aJ=_(DT=>{"use strict";Object.defineProperty(DT,"__esModule",{value:!0});DT.ActorQueryOperationAddRewrite=void 0;var iJ=dt(),lxe=Bt(),dxe=jt(),wl=new lxe.DataFactory,Q8=class extends iJ.ActorQueryOperationTypedMediated{constructor(e){super(e,"add"),this.factory=new dxe.Factory}async testOperation(e,r){return iJ.ActorQueryOperation.throwOnReadOnly(r),!0}runOperation(e,r){let n=e.destination==="DEFAULT"?wl.defaultGraph():e.destination,i=e.source==="DEFAULT"?wl.defaultGraph():e.source,a=this.factory.createDeleteInsert(void 0,[this.factory.createPattern(wl.variable("s"),wl.variable("p"),wl.variable("o"),n)],this.factory.createPattern(wl.variable("s"),wl.variable("p"),wl.variable("o"),i));return this.mediatorQueryOperation.mediate({operation:a,context:r})}};DT.ActorQueryOperationAddRewrite=Q8});var sJ=_(Uh=>{"use strict";var fxe=Uh&&Uh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hxe=Uh&&Uh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&fxe(e,t,r)};Object.defineProperty(Uh,"__esModule",{value:!0});hxe(aJ(),Uh)});var oJ=_(CT=>{"use strict";Object.defineProperty(CT,"__esModule",{value:!0});CT.ActorQueryOperationUpdateCompositeUpdate=void 0;var z8=dt(),W8=class extends z8.ActorQueryOperationTypedMediated{constructor(e){super(e,"compositeupdate")}async testOperation(e,r){return z8.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){return{type:"void",execute:()=>(async()=>{for(let i of e.updates)await z8.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:i,context:r})).execute()})()}}};CT.ActorQueryOperationUpdateCompositeUpdate=W8});var uJ=_(Vh=>{"use strict";var pxe=Vh&&Vh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_xe=Vh&&Vh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pxe(e,t,r)};Object.defineProperty(Vh,"__esModule",{value:!0});_xe(oJ(),Vh)});var lJ=_(jT=>{"use strict";Object.defineProperty(jT,"__esModule",{value:!0});jT.ActorQueryOperationCopyRewrite=void 0;var cJ=dt(),yxe=jt(),K8=class extends cJ.ActorQueryOperationTypedMediated{constructor(e){super(e,"copy"),this.factory=new yxe.Factory}async testOperation(e,r){return cJ.ActorQueryOperation.throwOnReadOnly(r),!0}runOperation(e,r){if(typeof e.destination=="string"&&typeof e.source=="string"&&e.destination===e.source||typeof e.destination!="string"&&typeof e.source!="string"&&e.destination.equals(e.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});let n=this.factory.createCompositeUpdate([this.factory.createDrop(e.destination,!0),this.factory.createAdd(e.source,e.destination,e.silent)]);return this.mediatorQueryOperation.mediate({operation:n,context:r})}};jT.ActorQueryOperationCopyRewrite=K8});var dJ=_(kh=>{"use strict";var bxe=kh&&kh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gxe=kh&&kh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bxe(e,t,r)};Object.defineProperty(kh,"__esModule",{value:!0});gxe(lJ(),kh)});var hJ=_(qT=>{"use strict";Object.defineProperty(qT,"__esModule",{value:!0});qT.ActorQueryOperationMoveRewrite=void 0;var fJ=dt(),mxe=jt(),X8=class extends fJ.ActorQueryOperationTypedMediated{constructor(e){super(e,"move"),this.factory=new mxe.Factory}async testOperation(e,r){return fJ.ActorQueryOperation.throwOnReadOnly(r),!0}runOperation(e,r){if(typeof e.destination=="string"&&typeof e.source=="string"&&e.destination===e.source||typeof e.destination!="string"&&typeof e.source!="string"&&e.destination.equals(e.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});let n=[this.factory.createDrop(e.destination,!0),this.factory.createAdd(e.source,e.destination,e.silent),this.factory.createDrop(e.source)],i=this.factory.createCompositeUpdate(n);return this.mediatorQueryOperation.mediate({operation:i,context:r})}};qT.ActorQueryOperationMoveRewrite=X8});var pJ=_(Hh=>{"use strict";var vxe=Hh&&Hh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wxe=Hh&&Hh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vxe(e,t,r)};Object.defineProperty(Hh,"__esModule",{value:!0});wxe(hJ(),Hh)});var _J=_(LT=>{"use strict";Object.defineProperty(LT,"__esModule",{value:!0});LT.ActionObserverHttp=void 0;var Sxe=Je(),$8=class extends Sxe.ActionObserver{constructor(e){super(e),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(e,r,n){this.requests++}};LT.ActionObserverHttp=$8});var yJ=_(MT=>{"use strict";Object.defineProperty(MT,"__esModule",{value:!0});MT.ActorQueryResultSerializeSparqlJson=void 0;var Txe=Us(),Exe=qr(),ng=class extends Txe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToJsonBindings(e){if(e.termType==="Literal"){let r=e,n={value:r.value,type:"literal"},{language:i}=r,{datatype:a}=r;return i?n["xml:lang"]=i:a&&a.value!=="http://www.w3.org/2001/XMLSchema#string"&&(n.datatype=a.value),n}return e.termType==="BlankNode"?{value:e.value,type:"bnode"}:{value:e.value,type:"uri"}}async testHandleChecked(e,r){if(!["bindings","boolean"].includes(e.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(e,r,n){let i=new Exe.Readable;i._read=()=>{};let a={};if(e.type==="bindings"){let o=await e.metadata();o.variables.length>0&&(a.vars=o.variables.map(u=>u.value))}i.push(`{"head": ${JSON.stringify(a)},
`);let s=!0;if(e.type==="bindings"){let o=e.bindingsStream;o.on("error",u=>{i.emit("error",u)}),o.on("data",u=>{s?i.push(`"results": { "bindings": [
`):i.push(`,
`);let d=Object.fromEntries([...u].map(([f,p])=>[f.value,ng.bindingToJsonBindings(p)]));i.push(JSON.stringify(d)),s=!1}),o.on("end",()=>{s&&i.push(`"results": { "bindings": [
`),i.push(`
]}`),this.emitMetadata&&i.push(`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`),i.push(`}
`),i.push(null)})}else try{i.push(`"boolean":${await e.execute()}
}
`),i.push(null)}catch(o){i.once("newListener",()=>i.emit("error",o))}return{data:i}}};MT.ActorQueryResultSerializeSparqlJson=ng});var J8=_(Sl=>{"use strict";var Oxe=Sl&&Sl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bJ=Sl&&Sl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Oxe(e,t,r)};Object.defineProperty(Sl,"__esModule",{value:!0});bJ(_J(),Sl);bJ(yJ(),Sl)});var gJ=_(FT=>{"use strict";Object.defineProperty(FT,"__esModule",{value:!0});FT.ActionObserverHttp=void 0;var Rxe=Je(),Y8=class extends Rxe.ActionObserver{constructor(e){super(e),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(e,r,n){this.requests++}};FT.ActionObserverHttp=Y8});var mJ=_(BT=>{"use strict";Object.defineProperty(BT,"__esModule",{value:!0});BT.ActorQueryResultSerializeStats=void 0;var Axe=Us(),xxe=qr(),Z8=class extends Axe.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,r){if(!["bindings","quads"].includes(e.type))throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(e){let r=["Result","Delay (ms)","HTTP requests"].join(",");e.push(`${r}
`)}pushStat(e,r,n){let i=[n,this.delay(r),this.httpObserver.requests].join(",");e.push(`${i}
`)}pushFooter(e,r){let n=["TOTAL",this.delay(r),this.httpObserver.requests].join(",");e.push(`${n}
`),e.push(null)}async runHandle(e,r,n){let i=new xxe.Readable;i._read=()=>{};let a=e.type==="bindings"?e.bindingsStream:e.quadStream,s=this.now(),o=1;return this.pushHeader(i),a.on("error",u=>i.emit("error",u)),a.on("data",()=>this.pushStat(i,s,o++)),a.on("end",()=>this.pushFooter(i,s)),{data:i}}now(){if(typeof performance>"u"){let e=process.hrtime();return e[0]*1e3+e[1]/1e6}return performance.now()}delay(e){return this.now()-e}};BT.ActorQueryResultSerializeStats=Z8});var eC=_(Tl=>{"use strict";var Ixe=Tl&&Tl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vJ=Tl&&Tl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ixe(e,t,r)};Object.defineProperty(Tl,"__esModule",{value:!0});vJ(gJ(),Tl);vJ(mJ(),Tl)});var wJ=_(UT=>{"use strict";Object.defineProperty(UT,"__esModule",{value:!0});UT.ActorQueryResultSerializeRdf=void 0;var Pxe=Us(),tC=class extends Pxe.ActorQueryResultSerialize{constructor(e){super(e)}async testHandle(e,r,n){if(e.type!=="quads")throw new Error(`Actor ${this.name} can only handle quad streams`);let{mediaTypes:i}=await this.mediatorMediaTypeCombiner.mediate({context:n,mediaTypes:!0});if(!(r in i))throw new Error(`Actor ${this.name} can not handle media type ${r}. All available types: ${Object.keys(i)}`);return!0}async runHandle(e,r,n){return(await this.mediatorRdfSerialize.mediate({context:n,handle:{context:n,quadStream:e.quadStream},handleMediaType:r})).handle}async testMediaType(e){return!0}async getMediaTypes(e){return(await this.mediatorMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(e){return!0}async getMediaTypeFormats(e){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}};UT.ActorQueryResultSerializeRdf=tC});var SJ=_(Gh=>{"use strict";var Nxe=Gh&&Gh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dxe=Gh&&Gh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Nxe(e,t,r)};Object.defineProperty(Gh,"__esModule",{value:!0});Dxe(wJ(),Gh)});var TJ=_(VT=>{"use strict";Object.defineProperty(VT,"__esModule",{value:!0});VT.ContainerHandlerIdentifier=void 0;var rC=class{canCombineWithGraph(){return!0}async handle(e,r,n,i,a,s){let o;if(r.emittedStack[s+1]&&r.idStack[s+1])o=r.idStack[s+1][0];else{let f=await n.getContainerKey(i[s],i,s)!==null?await n.resourceToTerm(await r.getContext(i),i[s]):n.dataFactory.blankNode();if(!f){r.emittedStack[s]=!1;return}o=f,r.idStack[s+1]=[o]}let u=r.idStack[s];u||(u=r.idStack[s]=[]),u.some(d=>d.equals(o))||u.push(o),await r.handlePendingContainerFlushBuffers()||(r.emittedStack[s]=!1)}};VT.ContainerHandlerIdentifier=rC});var ag=_(kT=>{"use strict";Object.defineProperty(kT,"__esModule",{value:!0});kT.EntryHandlerPredicate=void 0;var EJ=Zn(),nC=El(),ig=class{static async handlePredicateObject(e,r,n,i,a,s,o){let u=await r.getPropertiesDepth(n,i),d=await r.getDepthOffsetGraph(i,n),f=i-d,p=e.idStack[u];if(p)for(let y of p)if(d>=0){let v=e.idStack[f-1];if(v)for(let E of v)o?(r.validateReverseSubject(s),e.emitQuad(i,r.dataFactory.quad(s,a,y,E))):e.emitQuad(i,r.dataFactory.quad(y,a,s,E));else o?(r.validateReverseSubject(s),e.getUnidentifiedGraphBufferSafe(f-1).push({subject:s,predicate:a,object:y})):e.getUnidentifiedGraphBufferSafe(f-1).push({subject:y,predicate:a,object:s})}else{let v=await r.getGraphContainerValue(n,u);o?(r.validateReverseSubject(s),e.emitQuad(i,r.dataFactory.quad(s,a,y,v))):e.emitQuad(i,r.dataFactory.quad(y,a,s,v))}else o&&r.validateReverseSubject(s),e.getUnidentifiedValueBufferSafe(u).push({predicate:a,object:s,reverse:o})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(e,r,n,i,a){let s=n[i];if(s){let o=await e.getContext(n);if(!e.jsonLiteralStack[i]&&await r.predicateToTerm(o,n[i]))return nC.Util.getContextValueType(o,s)==="@json"&&(e.jsonLiteralStack[i+1]=!0),!0}return!1}async test(e,r,n,i,a){return i[a]}async handle(e,r,n,i,a,s,o){let u=i[s],d=await e.getContext(i),f=await r.predicateToTerm(d,n);if(f){let p=await r.valueToTerm(d,n,a,s,i);if(p.length)for(let y of p){let g=nC.Util.isPropertyReverse(d,u,await r.unaliasKeywordParent(i,s));if(a){let v="@list"in nC.Util.getContextValueContainer(d,n);if(v||a["@list"]){if((v&&!Array.isArray(a)&&!a["@list"]||a["@list"]&&!Array.isArray(a["@list"]))&&y!==r.rdfNil){let E=r.dataFactory.blankNode();e.emitQuad(s,r.dataFactory.quad(E,r.rdfRest,r.rdfNil,r.getDefaultGraph())),e.emitQuad(s,r.dataFactory.quad(E,r.rdfFirst,y,r.getDefaultGraph())),y=E}if(g&&!e.allowSubjectList)throw new EJ.ErrorCoded(`Found illegal list value in subject position at ${n}`,EJ.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await ig.handlePredicateObject(e,r,i,s,f,y,g)}}}};kT.EntryHandlerPredicate=ig});var RJ=_(HT=>{"use strict";Object.defineProperty(HT,"__esModule",{value:!0});HT.ContainerHandlerIndex=void 0;var Qh=Zn(),Cxe=ag(),OJ=El(),iC=class{canCombineWithGraph(){return!0}async handle(e,r,n,i,a,s){if(!Array.isArray(a)){let o="@graph"in e,u=await r.getContext(i),d=i[s-1],f=OJ.Util.getContextValueIndex(u,d);if(f){if(Qh.Util.isPotentialKeyword(f))throw new Qh.ErrorCoded(`Keywords can not be used as @index value, got: ${f}`,Qh.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof f!="string")throw new Qh.ErrorCoded(`@index values must be strings, got: ${f}`,Qh.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof a!="object"){if(OJ.Util.getContextValueType(u,d)!=="@id")throw new Qh.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${a}`,Qh.ERROR_CODES.INVALID_VALUE_OBJECT);let g=n.resourceToTerm(u,a);g&&(r.idStack[s+1]=[g])}let y=n.createVocabOrBaseTerm(u,f);if(y){let g=await n.valueToTerm(u,f,await n.getContainerKey(i[s],i,s),s,i);if(o){let v=await n.getGraphContainerValue(i,s+1);for(let E of g)r.emitQuad(s,n.dataFactory.quad(v,y,E,n.getDefaultGraph()))}else for(let v of g)await Cxe.EntryHandlerPredicate.handlePredicateObject(r,n,i,s+1,y,v,!1)}}let p=o?2:1;await r.newOnValueJob(i.slice(0,i.length-p),a,s-p,!0),await r.handlePendingContainerFlushBuffers()}r.emittedStack[s]=!1}};HT.ContainerHandlerIndex=iC});var xJ=_(GT=>{"use strict";Object.defineProperty(GT,"__esModule",{value:!0});GT.ContainerHandlerLanguage=void 0;var AJ=Zn(),aC=class{canCombineWithGraph(){return!1}async handle(e,r,n,i,a,s){let o=await n.getContainerKey(i[s],i,s);if(Array.isArray(a))a=a.map(u=>({"@value":u,"@language":o}));else{if(typeof a!="string")throw new AJ.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(a)}', but expected string`,AJ.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);a={"@value":a,"@language":o}}await r.newOnValueJob(i.slice(0,i.length-1),a,s-1,!0),r.emittedStack[s]=!1}};GT.ContainerHandlerLanguage=aC});var IJ=_(QT=>{"use strict";Object.defineProperty(QT,"__esModule",{value:!0});QT.ContainerHandlerType=void 0;var jxe=ag(),qxe=El(),sC=class{canCombineWithGraph(){return!1}async handle(e,r,n,i,a,s){if(!Array.isArray(a)){if(typeof a=="string"){let d=await r.getContext(i),p=qxe.Util.getContextValueType(d,i[s-1])==="@vocab"?await n.createVocabOrBaseTerm(d,a):await n.resourceToTerm(d,a);if(p){let y={"@id":p.termType==="NamedNode"?p.value:a};await r.newOnValueJob(i.slice(0,i.length-1),y,s-1,!0),r.idStack[s+1]=[p]}}else{let d=!!r.idStack[s+1];d||delete r.idStack[s],await r.newOnValueJob(i.slice(0,i.length-1),a,s-1,!0),d||(r.idStack[s+1]=r.idStack[s])}let o=await n.getContainerKey(i[s],i,s),u=o!==null?n.createVocabOrBaseTerm(await r.getContext(i),o):null;u&&await jxe.EntryHandlerPredicate.handlePredicateObject(r,n,i,s+1,n.rdfType,u,!1),await r.handlePendingContainerFlushBuffers()}r.emittedStack[s]=!1}};QT.ContainerHandlerType=sC});var uC=_(zT=>{"use strict";Object.defineProperty(zT,"__esModule",{value:!0});zT.EntryHandlerContainer=void 0;var Lxe=TJ(),Mxe=RJ(),Fxe=xJ(),Bxe=IJ(),oC=El(),vs=class{static isSimpleGraphContainer(e){return"@graph"in e&&("@set"in e&&Object.keys(e).length===2||Object.keys(e).length===1)}static isComplexGraphContainer(e){return"@graph"in e&&("@set"in e&&Object.keys(e).length>2||!("@set"in e)&&Object.keys(e).length>1)}static getContainerGraphIndex(e,r,n){let i=vs.isSimpleGraphContainer(e),a="";for(let s=r;s<n.length;s++)(!i||typeof n[s]=="number")&&(a+=":"+n[s]),!i&&typeof n[s]!="number"&&(i=!0);return a}static async getContainerHandler(e,r,n){let i={containers:{"@set":!0},depth:n,fallback:!0},a=!1,s=await e.getContext(r,2);for(let o=n-1;o>=0;o--)if(typeof r[o]!="number"){let u=oC.Util.getContextValue(s,"@container",r[o],!1);if(u&&vs.isSimpleGraphContainer(u))return{containers:u,depth:o+1,fallback:!1};let d=oC.Util.getContextValue(s,"@container",r[o-1],!1);if(d){let f="@graph"in d;for(let p in vs.CONTAINER_HANDLERS)if(d[p])return f?vs.CONTAINER_HANDLERS[p].canCombineWithGraph()?{containers:d,depth:o,fallback:!1}:i:a?i:{containers:d,depth:o,fallback:!1};return i}else{if(a)return i;a=!0}}return i}static async isBufferableContainerHandler(e,r,n){let i=await vs.getContainerHandler(e,r,n);return!i.fallback&&!("@graph"in i.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,i,a){return!!await this.test(e,r,null,n,i)}async test(e,r,n,i,a){let s=oC.Util.getContextValueContainer(await e.getContext(i,2),i[a-1]);for(let o in vs.CONTAINER_HANDLERS)if(s[o])return{containers:s,handler:vs.CONTAINER_HANDLERS[o]};return null}async handle(e,r,n,i,a,s,o){return o.handler.handle(o.containers,e,r,i,a,s)}};zT.EntryHandlerContainer=vs;vs.CONTAINER_HANDLERS={"@id":new Lxe.ContainerHandlerIdentifier,"@index":new Mxe.ContainerHandlerIndex,"@language":new Fxe.ContainerHandlerLanguage,"@type":new Bxe.ContainerHandlerType}});var El=_(KT=>{"use strict";Object.defineProperty(KT,"__esModule",{value:!0});KT.Util=void 0;var Vt=Zn(),Uxe=Bt(),WT=uC(),Vxe=K1(),At=class{constructor(e){this.parsingContext=e.parsingContext,this.dataFactory=e.dataFactory||new Uxe.DataFactory,this.rdfFirst=this.dataFactory.namedNode(At.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(At.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(At.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(At.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(At.RDF+"JSON")}static getContextValue(e,r,n,i){let a=e.getContextRaw()[n];if(!a)return i;let s=a[r];return s===void 0?i:s}static getContextValueContainer(e,r){return At.getContextValue(e,"@container",r,{"@set":!0})}static getContextValueType(e,r){let n=At.getContextValue(e,"@type",r,null);return n==="@none"?null:n}static getContextValueLanguage(e,r){return At.getContextValue(e,"@language",r,e.getContextRaw()["@language"]||null)}static getContextValueDirection(e,r){return At.getContextValue(e,"@direction",r,e.getContextRaw()["@direction"]||null)}static isContextValueReverse(e,r){return!!At.getContextValue(e,"@reverse",r,null)}static getContextValueIndex(e,r){return At.getContextValue(e,"@index",r,e.getContextRaw()["@index"]||null)}static isPropertyReverse(e,r,n){return n==="@reverse"!==At.isContextValueReverse(e,r)}static isValidIri(e){return e!==null&&Vt.Util.isValidIri(e)}static isPrefixArray(e,r){if(e.length>r.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==r[n])return!1;return!0}async validateValueIndexes(e){if(this.parsingContext.validateValueIndexes){let r={};for(let n of e)if(n&&typeof n=="object"){let i=n["@id"],a=n["@index"];if(i&&a){let s=r[i];if(s&&s!==a)throw new Vt.ErrorCoded(`Conflicting @index value for ${i}`,Vt.ERROR_CODES.CONFLICTING_INDEXES);r[i]=a}}}}async valueToTerm(e,r,n,i,a){if(At.getContextValueType(e,r)==="@json")return[this.dataFactory.literal(this.valueToJsonString(n),this.rdfJson)];let s=typeof n;switch(s){case"object":if(n==null)return[];if(Array.isArray(n))return"@list"in At.getContextValueContainer(e,r)?n.length===0?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:(await this.validateValueIndexes(n),[]);if(e=await this.getContextSelfOrPropertyScoped(e,r),"@context"in n&&(e=await this.parsingContext.parseContext(n["@context"],(await this.parsingContext.getContext(a,0)).getContextRaw())),n=await this.unaliasKeywords(n,a,i,e),"@value"in n){let o,u,d,f,p;for(r in n){let y=n[r];switch(r){case"@value":o=y;break;case"@language":u=y;break;case"@direction":d=y;break;case"@type":f=y;break;case"@index":p=y;break;default:throw new Vt.ErrorCoded(`Unknown value entry '${r}' in @value: ${JSON.stringify(n)}`,Vt.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(f,a,i,!0,e)==="@json")return[this.dataFactory.literal(this.valueToJsonString(o),this.rdfJson)];if(o===null)return[];if(typeof o=="object")throw new Vt.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(o)}'`,Vt.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&p&&typeof p!="string")throw new Vt.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(p)}'`,Vt.ERROR_CODES.INVALID_INDEX_VALUE);if(u){if(typeof o!="string")throw new Vt.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(o)}'`,Vt.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!Vt.ContextParser.validateLanguage(u,this.parsingContext.strictValues,Vt.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(u=u.toLowerCase())}if(d){if(typeof o!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(o)}'`);if(!Vt.ContextParser.validateDirection(d,this.parsingContext.strictValues))return[]}if(u&&d&&this.parsingContext.rdfDirection){if(f)throw new Vt.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(n)}'`,Vt.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,o,u,d))}else if(u){if(f)throw new Vt.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(n)}'`,Vt.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(o,u)]}else if(d&&this.parsingContext.rdfDirection){if(f)throw new Vt.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(n)}'`,Vt.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(i,o,u,d))}else if(f){if(typeof f!="string")throw new Vt.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,Vt.ERROR_CODES.INVALID_TYPED_VALUE);let y=this.createVocabOrBaseTerm(e,f);if(!y)throw new Vt.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(f)}'`,Vt.ERROR_CODES.INVALID_TYPED_VALUE);if(y.termType!=="NamedNode")throw new Vt.ErrorCoded(`Illegal value type (${y.termType}): ${f}`,Vt.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(o,y)]}return await this.valueToTerm(new Vt.JsonLdContextNormalized({}),r,o,i,a)}else if("@set"in n){if(Object.keys(n).length>1)throw new Vt.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${r}'`,Vt.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in n){if(Object.keys(n).length>1)throw new Vt.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${r}'`,Vt.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);let o=n["@list"];return Array.isArray(o)?o.length===0?[this.rdfNil]:this.parsingContext.idStack[i+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(a),r,o,i-1,a.slice(0,-1))}else{if("@reverse"in n&&typeof n["@reverse"]=="boolean")return[];if("@graph"in At.getContextValueContainer(await this.parsingContext.getContext(a),r)){let o=this.parsingContext.graphContainerTermStack[i+1];return o?Object.values(o):[this.dataFactory.blankNode()]}else return"@id"in n?(Object.keys(n).length>1&&(e=await this.parsingContext.getContext(a,0)),"@context"in n&&(e=await this.parsingContext.parseContext(n["@context"],e.getContextRaw())),n["@type"]==="@vocab"?this.nullableTermToArray(this.createVocabOrBaseTerm(e,n["@id"])):this.nullableTermToArray(this.resourceToTerm(e,n["@id"]))):this.parsingContext.emittedStack[i+1]||n&&typeof n=="object"&&Object.keys(n).length===0?this.parsingContext.idStack[i+1]||(this.parsingContext.idStack[i+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(e,r),r,n,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(e,r),r,Boolean(n).toString(),this.dataFactory.namedNode(At.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(i,await this.getContextSelfOrPropertyScoped(e,r),r,n,this.dataFactory.namedNode(n%1===0&&n<1e21?At.XSD_INTEGER:At.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${s}`)),[]}}async getContextSelfOrPropertyScoped(e,r){let n=e.getContextRaw()[r];return n&&typeof n=="object"&&"@context"in n&&(e=await this.parsingContext.parseContext(n,e.getContextRaw(),!0)),e}nullableTermToArray(e){return e?[e]:[]}predicateToTerm(e,r){let n=e.expandTerm(r,!0,this.parsingContext.getExpandOptions());if(!n)return null;if(n[0]==="_"&&n[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(n.substr(2)):null;if(At.isValidIri(n))return this.dataFactory.namedNode(n);if(n&&this.parsingContext.strictValues)this.parsingContext.emitError(new Vt.ErrorCoded(`Invalid predicate IRI: ${n}`,Vt.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(e,r){if(r.startsWith("_:"))return this.dataFactory.blankNode(r.substr(2));let n=e.expandTerm(r,!1,this.parsingContext.getExpandOptions());if(!At.isValidIri(n))if(n&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${n}`));else return null;return this.dataFactory.namedNode(n)}createVocabOrBaseTerm(e,r){if(r.startsWith("_:"))return this.dataFactory.blankNode(r.substr(2));let n=this.parsingContext.getExpandOptions(),i=e.expandTerm(r,!0,n);if(i===r&&(i=e.expandTerm(r,!1,n)),!At.isValidIri(i))if(i&&this.parsingContext.strictValues&&!i.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${i}`));else return null;return this.dataFactory.namedNode(i)}intToString(e,r){return typeof e=="number"?Number.isFinite(e)?e%1===0&&(!r||r.value!==At.XSD_DOUBLE)?Number(e).toString():e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):e>0?"INF":"-INF":e}stringValueToTerm(e,r,n,i,a){let s=At.getContextValueType(r,n);if(s)if(s==="@id"){if(!a)return this.resourceToTerm(r,this.intToString(i,a))}else if(s==="@vocab"){if(!a)return this.createVocabOrBaseTerm(r,this.intToString(i,a))}else a=this.dataFactory.namedNode(s);if(!a){let o=At.getContextValueLanguage(r,n),u=At.getContextValueDirection(r,n);return u&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(e,this.intToString(i,a),o,u):this.dataFactory.literal(this.intToString(i,a),o)}return this.dataFactory.literal(this.intToString(i,a),a)}createLanguageDirectionLiteral(e,r,n,i){if(this.parsingContext.rdfDirection==="i18n-datatype")return n||(n=""),this.dataFactory.literal(r,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${n}_${i}`));{let a=this.dataFactory.blankNode(),s=this.getDefaultGraph();return this.parsingContext.emitQuad(e,this.dataFactory.quad(a,this.dataFactory.namedNode(At.RDF+"value"),this.dataFactory.literal(r),s)),n&&this.parsingContext.emitQuad(e,this.dataFactory.quad(a,this.dataFactory.namedNode(At.RDF+"language"),this.dataFactory.literal(n),s)),this.parsingContext.emitQuad(e,this.dataFactory.quad(a,this.dataFactory.namedNode(At.RDF+"direction"),this.dataFactory.literal(i),s)),a}}valueToJsonString(e){return Vxe(e)}async unaliasKeyword(e,r,n,i,a){if(Number.isInteger(e))return e;if(!i){let s=this.parsingContext.unaliasedKeywordCacheStack[n];if(s)return s}if(!Vt.Util.isPotentialKeyword(e)){a=a||await this.parsingContext.getContext(r);let s=a.getContextRaw()[e];s&&typeof s=="object"&&(s=s["@id"]),Vt.Util.isValidKeyword(s)&&(e=s)}return i?e:this.parsingContext.unaliasedKeywordCacheStack[n]=e}async unaliasKeywordParent(e,r){return await this.unaliasKeyword(r>0&&e[r-1],e,r-1)}async unaliasKeywords(e,r,n,i){let a={};for(let s in e)a[await this.unaliasKeyword(s,r,n+1,!0,i)]=e[s];return a}isLiteral(e){for(let r=e;r>=0;r--)if(this.parsingContext.literalStack[r]||this.parsingContext.jsonLiteralStack[r])return!0;return!1}async getDepthOffsetGraph(e,r){for(let n=e-1;n>0;n--)if(await this.unaliasKeyword(r[n],r,n)==="@graph"){let i=(await WT.EntryHandlerContainer.getContainerHandler(this.parsingContext,r,n)).containers;return WT.EntryHandlerContainer.isComplexGraphContainer(i)?-1:e-n-1}return-1}validateReverseSubject(e){if(e.termType==="Literal")throw new Vt.ErrorCoded(`Found illegal literal in subject position: ${e.value}`,Vt.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(e,r){let n=this.getDefaultGraph(),{containers:i,depth:a}=await WT.EntryHandlerContainer.getContainerHandler(this.parsingContext,e,r);if("@graph"in i){let s=WT.EntryHandlerContainer.getContainerGraphIndex(i,a,e),o=this.parsingContext.graphContainerTermStack[a];if(n=o?o[s]:null,!n){let u=null;if("@id"in i){let d=await this.getContainerKey(e[a],e,a);d!==null&&(u=await this.resourceToTerm(await this.parsingContext.getContext(e),d))}u||(u=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[a]||(this.parsingContext.graphContainerTermStack[a]={}),n=this.parsingContext.graphContainerTermStack[a][s]=u}}return n}async getPropertiesDepth(e,r){let n=r;for(let i=r-1;i>0;i--)if(typeof e[i]!="number"){let a=await this.unaliasKeyword(e[i],e,i);if(a==="@reverse")return i;if(a==="@nest")n=i;else return n}return n}async getContainerKey(e,r,n){let i=await this.unaliasKeyword(e,r,n);return i==="@none"?null:i}};KT.Util=At;At.XSD="http://www.w3.org/2001/XMLSchema#";At.XSD_BOOLEAN=At.XSD+"boolean";At.XSD_INTEGER=At.XSD+"integer";At.XSD_DOUBLE=At.XSD+"double";At.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#"});var PJ=_(XT=>{"use strict";Object.defineProperty(XT,"__esModule",{value:!0});XT.EntryHandlerArrayValue=void 0;var kxe=El(),cC=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,i,a){return this.test(e,r,null,n,i)}async test(e,r,n,i,a){return typeof i[a]=="number"}async handle(e,r,n,i,a,s){let o=await r.unaliasKeywordParent(i,s);if(o==="@list"){let u=null,d=0;for(let f=s-2;f>0;f--){let p=i[f];if(typeof p=="string"||typeof p=="number"){d=f,u=p;break}}if(u!==null){let f=await r.valueToTerm(await e.getContext(i),u,a,s,i);for(let p of f)await this.handleListElement(e,r,p,a,s,i.slice(0,d),d);f.length===0&&await this.handleListElement(e,r,null,a,s,i.slice(0,d),d)}}else if(o==="@set")await e.newOnValueJob(i.slice(0,-2),a,s-2,!1);else if(o!==void 0&&o!=="@type"){for(let d=s-1;d>0;d--)if(typeof i[d]!="number"){o=await r.unaliasKeyword(i[d],i,d);break}let u=await e.getContext(i.slice(0,-1));if("@list"in kxe.Util.getContextValueContainer(u,o)){e.emittedStack[s+1]=!0;let d=await r.valueToTerm(await e.getContext(i),o,a,s,i);for(let f of d)await this.handleListElement(e,r,f,a,s,i.slice(0,-1),s-1);d.length===0&&await this.handleListElement(e,r,null,a,s,i.slice(0,-1),s-1)}else e.shiftStack(s,1),await e.newOnValueJob(i.slice(0,-1),a,s-1,!1),e.contextTree.removeContext(i.slice(0,-1))}}async handleListElement(e,r,n,i,a,s,o){let u=e.listPointerStack[a];if(i!==null&&(await r.unaliasKeywords(i,s,a))["@value"]!==null){if(!u||!u.value){let d=r.dataFactory.blankNode();u={value:d,listRootDepth:o,listId:d}}else{let d=r.dataFactory.blankNode();e.emitQuad(a,r.dataFactory.quad(u.value,r.rdfRest,d,r.getDefaultGraph())),u.value=d}n&&e.emitQuad(a,r.dataFactory.quad(u.value,r.rdfFirst,n,r.getDefaultGraph()))}else u||(u={listRootDepth:o,listId:r.rdfNil});e.listPointerStack[a]=u}};XT.EntryHandlerArrayValue=cC});var NJ=_($T=>{"use strict";Object.defineProperty($T,"__esModule",{value:!0});$T.EntryHandlerInvalidFallback=void 0;var lC=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,i,a){return!1}async test(e,r,n,i,a){return!0}async handle(e,r,n,i,a,s){e.emittedStack[s]=!1}};$T.EntryHandlerInvalidFallback=lC});var Ol=_(JT=>{"use strict";Object.defineProperty(JT,"__esModule",{value:!0});JT.EntryHandlerKeyword=void 0;var dC=class{constructor(e){this.keyword=e}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,i,a){return!1}async test(e,r,n,i,a){return n===this.keyword}};JT.EntryHandlerKeyword=dC});var CJ=_(YT=>{"use strict";Object.defineProperty(YT,"__esModule",{value:!0});YT.EntryHandlerKeywordContext=void 0;var DJ=Zn(),Hxe=Ol(),fC=class extends Hxe.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(e,r,n,i,a,s){e.streamingProfile&&(e.processingStack[s]||e.processingType[s]||e.idStack[s]!==void 0)&&e.emitError(new DJ.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",DJ.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));let o=e.getContext(i),u=e.parseContext(a,(await o).getContextRaw());e.contextTree.setContext(i.slice(0,-1),u),e.emitContext(a),await e.validateContext(await u)}};YT.EntryHandlerKeywordContext=fC});var jJ=_(ZT=>{"use strict";Object.defineProperty(ZT,"__esModule",{value:!0});ZT.EntryHandlerKeywordGraph=void 0;var Gxe=Ol(),hC=class extends Gxe.EntryHandlerKeyword{constructor(){super("@graph")}async handle(e,r,n,i,a,s){e.graphStack[s+1]=!0}};ZT.EntryHandlerKeywordGraph=hC});var qJ=_(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});eE.EntryHandlerKeywordId=void 0;var F_=Zn(),Qxe=Ol(),pC=class extends Qxe.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(e,r,n,i,a,s){typeof a!="string"&&e.emitError(new F_.ErrorCoded(`Found illegal @id '${a}'`,F_.ERROR_CODES.INVALID_ID_VALUE));let o=await r.getPropertiesDepth(i,s);e.idStack[o]!==void 0&&(e.idStack[o][0].listHead?e.emitError(new F_.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${i[s-1]}'`,F_.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):e.emitError(new F_.ErrorCoded(`Found duplicate @ids '${e.idStack[o][0].value}' and '${a}'`,F_.ERROR_CODES.COLLIDING_KEYWORDS))),e.idStack[o]=r.nullableTermToArray(await r.resourceToTerm(await e.getContext(i),a))}};eE.EntryHandlerKeywordId=pC});var LJ=_(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.EntryHandlerKeywordIncluded=void 0;var B_=Zn(),zxe=Ol(),_C=class extends zxe.EntryHandlerKeyword{constructor(){super("@included")}async handle(e,r,n,i,a,s){typeof a!="object"&&e.emitError(new B_.ErrorCoded(`Found illegal @included '${a}'`,B_.ERROR_CODES.INVALID_INCLUDED_VALUE));let o=await r.unaliasKeywords(a,i,s,await e.getContext(i));"@value"in o&&e.emitError(new B_.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(a)}'`,B_.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in o&&e.emitError(new B_.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(a)}'`,B_.ERROR_CODES.INVALID_INCLUDED_VALUE)),e.emittedStack[s]=!1}};tE.EntryHandlerKeywordIncluded=_C});var MJ=_(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});nE.EntryHandlerKeywordNest=void 0;var rE=Zn(),Wxe=Ol(),yC=class extends Wxe.EntryHandlerKeyword{constructor(){super("@nest")}async handle(e,r,n,i,a,s){typeof a!="object"&&e.emitError(new rE.ErrorCoded(`Found invalid @nest entry for '${n}': '${a}'`,rE.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await r.unaliasKeywords(a,i,s,await e.getContext(i))&&e.emitError(new rE.ErrorCoded(`Found an invalid @value node for '${n}'`,rE.ERROR_CODES.INVALID_NEST_VALUE)),e.emittedStack[s]=!1}};nE.EntryHandlerKeywordNest=yC});var BJ=_(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.EntryHandlerKeywordType=void 0;var iE=Zn(),FJ=El(),Kxe=ag(),Xxe=Ol(),bC=class extends Xxe.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(e,r,n,i,a,s){let o=i[s],u=await e.getContext(i),d=r.rdfType,f=FJ.Util.isPropertyReverse(u,o,await r.unaliasKeywordParent(i,s)),p=Array.isArray(a)?a:[a];for(let v of p){typeof v!="string"&&e.emitError(new iE.ErrorCoded(`Found illegal @type '${v}'`,iE.ERROR_CODES.INVALID_TYPE_VALUE));let E=r.createVocabOrBaseTerm(u,v);E&&await Kxe.EntryHandlerPredicate.handlePredicateObject(e,r,i,s,d,E,f)}let y=Promise.resolve(u),g=!1;for(let v of p.sort()){let E=FJ.Util.getContextValue(u,"@context",v,null);E&&(g=!0,y=y.then(D=>e.parseContext(E,D.getContextRaw())))}e.streamingProfile&&(g||!e.streamingProfileAllowOutOfOrderPlainType)&&(e.processingStack[s]||e.idStack[s])&&e.emitError(new iE.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",iE.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),g&&(y=y.then(v=>("@propagate"in v.getContextRaw()||(v.getContextRaw()["@propagate"]=!1),v.getContextRaw()["@propagate"]===!1&&(v.getContextRaw()["@__propagateFallback"]=u.getContextRaw()),v)),e.contextTree.setContext(i.slice(0,i.length-1),y)),e.processingType[s]=!0}};aE.EntryHandlerKeywordType=bC});var UJ=_(sE=>{"use strict";Object.defineProperty(sE,"__esModule",{value:!0});sE.EntryHandlerKeywordUnknownFallback=void 0;var sg=Zn(),U_=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,i,a){let s=await r.unaliasKeyword(n[i],n,i);return sg.Util.isPotentialKeyword(s)?!(!a&&s==="@list"):!1}async test(e,r,n,i,a){return sg.Util.isPotentialKeyword(n)}async handle(e,r,n,i,a,s){let o=U_.VALID_KEYWORDS_TYPES[n];o!==void 0?o&&typeof a!==o.type&&e.emitError(new sg.ErrorCoded(`Invalid value type for '${n}' with value '${a}'`,o.errorCode)):e.strictValues&&e.emitError(new Error(`Unknown keyword '${n}' with value '${a}'`)),e.emittedStack[s]=!1}};sE.EntryHandlerKeywordUnknownFallback=U_;U_.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:sg.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:sg.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null}});var VJ=_(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.EntryHandlerKeywordValue=void 0;var $xe=Ol(),gC=class extends $xe.EntryHandlerKeyword{constructor(){super("@value")}async validate(e,r,n,i,a){let s=n[i];return s&&!e.literalStack[i]&&await this.test(e,r,s,n,i)&&(e.literalStack[i]=!0),super.validate(e,r,n,i,a)}async test(e,r,n,i,a){return await r.unaliasKeyword(i[a],i.slice(0,i.length-1),a-1,!0)==="@value"}async handle(e,r,n,i,a,s){e.literalStack[s]=!0,delete e.unidentifiedValuesBuffer[s],delete e.unidentifiedGraphsBuffer[s],e.emittedStack[s]=!1}};oE.EntryHandlerKeywordValue=gC});var kJ=_(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.ContextTree=void 0;var og=class{constructor(){this.subTrees={}}getContext(e){if(e.length>0){let[r,...n]=e,i=this.subTrees[r];if(i){let a=i.getContext(n);if(a)return a.then(({context:s,depth:o})=>({context:s,depth:o+1}))}}return this.context?this.context.then(r=>({context:r,depth:0})):null}setContext(e,r){if(e.length===0)this.context=r;else{let[n,...i]=e,a=this.subTrees[n];a||(a=this.subTrees[n]=new og),a.setContext(i,r)}}removeContext(e){this.setContext(e,null)}};uE.ContextTree=og});var HJ=_(lE=>{"use strict";Object.defineProperty(lE,"__esModule",{value:!0});lE.ParsingContext=void 0;var V_=Zn(),cE=E0(),Jxe=kJ(),Yxe=mC(),k_=class{constructor(e){this.contextParser=new V_.ContextParser({documentLoader:e.documentLoader,skipValidation:e.skipContextValidation}),this.streamingProfile=!!e.streamingProfile,this.baseIRI=e.baseIRI,this.produceGeneralizedRdf=!!e.produceGeneralizedRdf,this.allowSubjectList=!!e.allowSubjectList,this.processingMode=e.processingMode||Yxe.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!e.strictValues,this.validateValueIndexes=!!e.validateValueIndexes,this.defaultGraph=e.defaultGraph,this.rdfDirection=e.rdfDirection,this.normalizeLanguageTags=e.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=e.streamingProfileAllowOutOfOrderPlainType,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new Jxe.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=e.parser,e.context?(this.rootContext=this.parseContext(e.context),this.rootContext.then(r=>this.validateContext(r))):this.rootContext=Promise.resolve(new V_.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(e,r,n){return this.contextParser.parse(e,{baseIRI:this.baseIRI,ignoreProtection:n,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:r,processingMode:this.activeProcessingMode})}validateContext(e){let r=e.getContextRaw()["@version"];if(r){if(this.activeProcessingMode&&r>this.activeProcessingMode)throw new cE.ErrorCoded(`Unsupported JSON-LD version '${r}' under active processing mode ${this.activeProcessingMode}.`,cE.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&r<this.activeProcessingMode)throw new cE.ErrorCoded(`Invalid JSON-LD version ${r} under active processing mode ${this.activeProcessingMode}.`,cE.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=r}}async getContext(e,r=1){let n=e;for(;typeof e[e.length-1]=="number";)e=e.slice(0,e.length-1);r&&(e=e.slice(0,-r));let i=await this.getContextPropagationAware(e),s=i.context.getContextRaw();for(let o=i.depth;o<n.length-r;o++){let u=n[o],d=s[u];if(d&&typeof d=="object"&&"@context"in d){let f=(await this.parseContext(d,s,!0)).getContextRaw(),p=!(u in f)||f[u]["@context"]["@propagate"];(p!==!1||o===n.length-1-r)&&(s=f,delete s["@propagate"],s[u]=Object.assign({},s[u]),"@id"in d&&(s[u]["@id"]=d["@id"]),delete s[u]["@context"],p!==!1&&this.contextTree.setContext(n.slice(0,o+r),Promise.resolve(new V_.JsonLdContextNormalized(s))))}}return new V_.JsonLdContextNormalized(s)}async getContextPropagationAware(e){let r=e.length,n=null,i;do{i=!1,n&&"@__propagateFallback"in n.context.getContextRaw()?n.context=new V_.JsonLdContextNormalized(n.context.getContextRaw()["@__propagateFallback"]):(n&&(e=e.slice(0,n.depth-1)),n=await this.contextTree.getContext(e)||{context:await this.rootContext,depth:0});let a=e[e.length-1];if(a in n.context.getContextRaw()){let s=n.context.getContextRaw()[a];s&&typeof s=="object"&&"@context"in s&&(i=!0)}}while(n.depth>0&&n.context.getContextRaw()["@propagate"]===!1&&n.depth!==r&&!i);return n.depth===0&&n.context.getContextRaw()["@propagate"]===!1&&n.depth!==r&&(n.context=new V_.JsonLdContextNormalized({})),n}async newOnValueJob(e,r,n,i){await this.parser.newOnValueJob(e,r,n,i)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(let e of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(e.depth,e.keys),this.parser.flushStacks(e.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(e,r){e===1&&(this.topLevelProperties=!0),this.parser.push(r)}emitError(e){this.parser.emit("error",e)}emitContext(e){this.parser.emit("context",e)}getUnidentifiedValueBufferSafe(e){let r=this.unidentifiedValuesBuffer[e];return r||(r=[],this.unidentifiedValuesBuffer[e]=r),r}getUnidentifiedGraphBufferSafe(e){let r=this.unidentifiedGraphsBuffer[e];return r||(r=[],this.unidentifiedGraphsBuffer[e]=r),r}getExpandOptions(){return k_.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(e,r){let n=this.idStack[e+r];if(n&&(this.idStack[e]=n,this.emittedStack[e]=!0,delete this.idStack[e+r]),this.pendingContainerFlushBuffers.length)for(let i of this.pendingContainerFlushBuffers)i.depth>=e+r&&(i.depth-=r,i.keys.splice(e,r));this.unidentifiedValuesBuffer[e+r]&&(this.unidentifiedValuesBuffer[e]=this.unidentifiedValuesBuffer[e+r],delete this.unidentifiedValuesBuffer[e+r])}};lE.ParsingContext=k_;k_.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}});var mC=_(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});dE.JsonLdParser=void 0;var Zxe=QI(),Yu=Zn(),GJ=qr(),eIe=PJ(),zJ=uC(),tIe=NJ(),rIe=ag(),nIe=CJ(),iIe=jJ(),aIe=qJ(),sIe=LJ(),oIe=MJ(),uIe=BJ(),cIe=UJ(),lIe=VJ(),dIe=HJ(),QJ=El(),fIe=gx(),Jo=class extends GJ.Transform{constructor(e){super({readableObjectMode:!0}),e=e||{},this.options=e,this.parsingContext=new dIe.ParsingContext(Object.assign({parser:this},e)),this.util=new QJ.Util({dataFactory:e.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new Zxe,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(e,r,n,i){let a;if(r!=="application/ld+json"){if(r!=="application/json"&&!r.endsWith("+json"))throw new Yu.ErrorCoded(`Unsupported JSON-LD media type ${r}`,Yu.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(n&&n.has("Link")&&n.forEach((o,u)=>{if(u==="link"){let d=(0,fIe.parse)(o);for(let f of d.get("rel","http://www.w3.org/ns/json-ld#context")){if(a)throw new Yu.ErrorCoded("Multiple JSON-LD context link headers were found on "+e,Yu.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);a=f.uri}}}),!a&&!i?.ignoreMissingContextLinkHeader)throw new Yu.ErrorCoded(`Missing context link header for media type ${r} on ${e}`,Yu.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let s;if(n&&n.has("Content-Type")){let o=n.get("Content-Type"),u=/; *profile=([^"]*)/.exec(o);u&&u[1]==="http://www.w3.org/ns/json-ld#streaming"&&(s=!0)}return new Jo(Object.assign({baseIRI:e,context:a,streamingProfile:s},i||{}))}import(e){let r=new GJ.PassThrough({readableObjectMode:!0});e.on("error",i=>n.emit("error",i)),e.on("data",i=>r.push(i)),e.on("end",()=>r.push(null));let n=r.pipe(new Jo(this.options));return n}_transform(e,r,n){this.jsonParser.write(e),this.lastOnValueJob.then(()=>n(),i=>n(i))}async newOnValueJob(e,r,n,i){let a=!0;if(i&&n<this.lastDepth){let f=this.parsingContext.listPointerStack[this.lastDepth];f&&(f.value&&this.emit("data",this.util.dataFactory.quad(f.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),f.listId.listHead=!0,this.parsingContext.idStack[f.listRootDepth+1]=[f.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await zJ.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),a=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}let s=await this.util.unaliasKeyword(e[n],e,n),o=await this.util.unaliasKeywordParent(e,n);this.parsingContext.emittedStack[n]=!0;let u=!0;Yu.Util.isValidKeyword(s)&&o==="@reverse"&&s!=="@context"&&this.emit("error",new Yu.ErrorCoded(`Found the @id '${r}' inside an @reverse property`,Yu.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let d=!1;this.parsingContext.validationStack.length>1&&(d=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let f=Math.max(1,this.parsingContext.validationStack.length-1);f<e.length-1;f++){let p=this.parsingContext.validationStack[f]||(this.parsingContext.validationStack[f]=await this.validateKey(e.slice(0,f+1),f,d));if(p.valid)!d&&p.property&&(d=!0);else{this.parsingContext.emittedStack[n]=!1,u=!1;break}}if(this.util.isLiteral(n)&&(u=!1),u)for(let f of Jo.ENTRY_HANDLERS){let p=await f.test(this.parsingContext,this.util,s,e,n);if(p){await f.handle(this.parsingContext,this.util,s,e,r,n,p),f.isStackProcessor()&&(this.parsingContext.processingStack[n]=!0);break}}n===0&&Array.isArray(r)&&await this.util.validateValueIndexes(r),a&&n<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=n,this.lastKeys=e,this.parsingContext.unaliasedKeywordCacheStack.splice(n-1)}flushStacks(e){this.parsingContext.processingStack.splice(e,1),this.parsingContext.processingType.splice(e,1),this.parsingContext.emittedStack.splice(e,1),this.parsingContext.idStack.splice(e,1),this.parsingContext.graphStack.splice(e+1,1),this.parsingContext.graphContainerTermStack.splice(e,1),this.parsingContext.jsonLiteralStack.splice(e,1),this.parsingContext.validationStack.splice(e-1,2),this.parsingContext.literalStack.splice(e,this.parsingContext.literalStack.length-e)}async flushBuffer(e,r){let n=this.parsingContext.idStack[e];n||(n=this.parsingContext.idStack[e]=[this.util.dataFactory.blankNode()]);let i=this.parsingContext.unidentifiedValuesBuffer[e];if(i){for(let s of n){let o=await this.util.getDepthOffsetGraph(e,r),u=this.parsingContext.graphStack[e]||o>=0?this.parsingContext.idStack[e-o-1]:[await this.util.getGraphContainerValue(r,e)];if(u)for(let d of u){this.parsingContext.emittedStack[e]=!0;for(let f of i)f.reverse?this.parsingContext.emitQuad(e,this.util.dataFactory.quad(f.object,f.predicate,s,d)):this.parsingContext.emitQuad(e,this.util.dataFactory.quad(s,f.predicate,f.object,d))}else{let d=this.parsingContext.getUnidentifiedGraphBufferSafe(e-await this.util.getDepthOffsetGraph(e,r)-1);for(let f of i)f.reverse?d.push({object:s,predicate:f.predicate,subject:f.object}):d.push({object:f.object,predicate:f.predicate,subject:s})}}this.parsingContext.unidentifiedValuesBuffer.splice(e,1),this.parsingContext.literalStack.splice(e,1),this.parsingContext.jsonLiteralStack.splice(e,1)}let a=this.parsingContext.unidentifiedGraphsBuffer[e];if(a){for(let s of n){let o=e===1&&s.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():s;this.parsingContext.emittedStack[e]=!0;for(let u of a)this.parsingContext.emitQuad(e,this.util.dataFactory.quad(u.subject,u.predicate,u.object,o))}this.parsingContext.unidentifiedGraphsBuffer.splice(e,1)}}async validateKey(e,r,n){for(let i of Jo.ENTRY_HANDLERS)if(await i.validate(this.parsingContext,this.util,e,r,n))return{valid:!0,property:n||i.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=e=>{let r=this.jsonParser.stack.length,n=new Array(r+1).fill(0).map((i,a)=>a===r?this.jsonParser.key:this.jsonParser.stack[a].key);if(!this.isParsingContextInner(r)){let i=()=>this.newOnValueJob(n,e,r,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(n.slice(0,-1)))if(n[r]==="@context"){let a=this.contextJobs[r];a||(a=this.contextJobs[r]=[]),a.push(i)}else n[r]==="@type"||typeof n[r]=="number"&&n[r-1]==="@type"?this.typeJobs.push({job:i,keys:n.slice(0,n.length-1)}):this.contextAwaitingJobs.push({job:i,keys:n});else this.lastOnValueJob=this.lastOnValueJob.then(i);!this.parsingContext.streamingProfile&&r===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=e=>{this.emit("error",e)}}isParsingContextInner(e){for(let r=e;r>0;r--)if(this.jsonParser.stack[r-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(let e of this.contextJobs)if(e)for(let r of e)await r();this.parsingContext.unaliasedKeywordCacheStack.splice(0);for(let e of this.contextAwaitingJobs){if(this.typeJobs.length>0){let r=[],n=[];for(let s=0;s<this.typeJobs.length;s++){let o=this.typeJobs[s];QJ.Util.isPrefixArray(o.keys,e.keys)&&(r.push(o),n.push(s))}let i=r.sort((s,o)=>s.keys.length-o.keys.length);for(let s of i)await s.job();let a=n.sort().reverse();for(let s of a)this.typeJobs.splice(s,1)}await e.job()}}};dE.JsonLdParser=Jo;Jo.DEFAULT_PROCESSING_MODE="1.1";Jo.ENTRY_HANDLERS=[new eIe.EntryHandlerArrayValue,new nIe.EntryHandlerKeywordContext,new aIe.EntryHandlerKeywordId,new sIe.EntryHandlerKeywordIncluded,new iIe.EntryHandlerKeywordGraph,new oIe.EntryHandlerKeywordNest,new uIe.EntryHandlerKeywordType,new lIe.EntryHandlerKeywordValue,new zJ.EntryHandlerContainer,new cIe.EntryHandlerKeywordUnknownFallback,new rIe.EntryHandlerPredicate,new tIe.EntryHandlerInvalidFallback]});var WJ=_(zh=>{"use strict";var hIe=zh&&zh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pIe=zh&&zh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hIe(e,t,r)};Object.defineProperty(zh,"__esModule",{value:!0});pIe(mC(),zh)});var vC=_(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});fE.DocumentLoaderMediated=void 0;var _Ie=zc(),yIe=Zn(),bIe=O_(),ug=class extends yIe.FetchDocumentLoader{constructor(e,r){super(ug.createFetcher(e,r)),this.mediatorHttp=e,this.context=r}static createFetcher(e,r){return async(n,i)=>{let a=await e.mediate({input:n,init:i,context:r});return a.json=async()=>JSON.parse(await bIe(_Ie.ActorHttp.toNodeReadable(a.body))),a}}};fE.DocumentLoaderMediated=ug});var KJ=_(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});pE.ActorRdfParseJsonLd=void 0;var gIe=a_(),hE=Cr(),mIe=WJ(),vIe=vC(),wC=class extends gIe.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async testHandle(e,r,n){if(n.has(hE.KeysRdfParseHtmlScript.processingHtmlScript)&&r!=="application/ld+json")throw new Error("JSON-LD in script tags can only have media type 'application/ld+json'");if(!(r in this.mediaTypePriorities)&&!r.endsWith("+json"))throw new Error(`Unrecognized media type: ${r}`);return await this.testHandleChecked(e)}async runHandle(e,r,n){return{data:mIe.JsonLdParser.fromHttpResponse(e.metadata?.baseIRI??"",r,e.headers,{documentLoader:n.get(hE.KeysRdfParseJsonLd.documentLoader)||new vIe.DocumentLoaderMediated(this.mediatorHttp,n),strictValues:n.get(hE.KeysRdfParseJsonLd.strictValues),...n.get(hE.KeysRdfParseJsonLd.parserOptions)}).import(e.data)}}};pE.ActorRdfParseJsonLd=wC});var $J=_(Rl=>{"use strict";var wIe=Rl&&Rl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XJ=Rl&&Rl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wIe(e,t,r)};Object.defineProperty(Rl,"__esModule",{value:!0});XJ(KJ(),Rl);XJ(vC(),Rl)});var YJ=_(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0});_E.SparqlXmlParser=void 0;var SIe=Bt(),JJ=G4(),TIe=qr(),SC=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||new SIe.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseXmlResultsStream(e){let r=v=>g.emit("error",v);e.on("error",r);let n=new JJ.SaxesParser,i=[],a=!1,s=!1,o=[],u={},d="",f="",p,y="";n.on("error",r),n.on("opentag",v=>{v.name==="variable"&&this.stackEquals(i,["sparql","head"])?o.push(this.dataFactory.variable(v.attributes.name)):v.name==="results"&&this.stackEquals(i,["sparql"])?s=!0:v.name==="result"&&this.stackEquals(i,["sparql","results"])?u={}:v.name==="binding"&&this.stackEquals(i,["sparql","results","result"])?(d=v.attributes.name||"",f="",p="",y=""):this.stackEquals(i,["sparql","results","result","binding"])&&(f=v.name,"xml:lang"in v.attributes?p=v.attributes["xml:lang"]:"datatype"in v.attributes?p=this.dataFactory.namedNode(v.attributes.datatype):p=void 0),i.push(v.name)}),n.on("closetag",v=>{if(this.stackEquals(i,["sparql","head"])&&(g.emit("variables",o),a=!0),this.stackEquals(i,["sparql","results","result"])&&g.push(u),this.stackEquals(i,["sparql","results","result","binding"])){let E=this.prefixVariableQuestionMark?"?"+d:d;!d&&f?r(new Error(`Terms should have a name on line ${n.line+1}`)):f==="uri"?u[E]=this.dataFactory.namedNode(y):f==="bnode"?u[E]=this.dataFactory.blankNode(y):f==="literal"?u[E]=this.dataFactory.literal(y,p):f&&r(new Error(`Invalid term type '${f}' on line ${n.line+1}`))}i.pop()}),n.on("text",v=>{this.stackEquals(i,["sparql","results","result","binding",f])&&(y=v)});let g=e.on("end",v=>{s?a||g.emit("variables",[]):g.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new TIe.Transform({objectMode:!0,transform(v,E,D){n.write(v),D()}}));return g}parseXmlBooleanStream(e){return new Promise((r,n)=>{let i=new JJ.SaxesParser,a=[];i.on("error",n),i.on("opentag",s=>{a.push(s.name)}),i.on("closetag",s=>{a.pop()}),i.on("text",s=>{this.stackEquals(a,["sparql","boolean"])&&r(s==="true")}),e.on("error",n).on("data",s=>i.write(s)).on("end",()=>n(new Error("No valid ASK response was found.")))})}stackEquals(e,r){return e.length===r.length&&e.every((n,i)=>r[i]===n)}};_E.SparqlXmlParser=SC});var ZJ=_(Wh=>{"use strict";var EIe=Wh&&Wh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OIe=Wh&&Wh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&EIe(e,t,r)};Object.defineProperty(Wh,"__esModule",{value:!0});OIe(YJ(),Wh)});var tY=_(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0});yE.SparqlEndpointFetcher=void 0;qy();var RIe=Uy(),eY=r0(),AIe=WI(),xIe=ZJ(),IIe=O_(),PIe=f4(),NIe=gb(),DIe=p4(),Ai=class{constructor(e){e=e||{},this.method=e.method||"POST",this.additionalUrlParams=e.additionalUrlParams||new URLSearchParams,this.fetchCb=e.fetch,this.sparqlJsonParser=new AIe.SparqlJsonParser(e),this.sparqlXmlParser=new xIe.SparqlXmlParser(e),this.sparqlParsers={[Ai.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:r=>this.sparqlJsonParser.parseJsonBooleanStream(r),parseResultsStream:r=>this.sparqlJsonParser.parseJsonResultsStream(r)},[Ai.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:r=>this.sparqlXmlParser.parseXmlBooleanStream(r),parseResultsStream:r=>this.sparqlXmlParser.parseXmlResultsStream(r)}}}getQueryType(e){let r=new eY.Parser().parse(e);return r.type==="query"?r.queryType==="DESCRIBE"?"CONSTRUCT":r.queryType:"UNKNOWN"}getUpdateTypes(e){let r=new eY.Parser().parse(e);if(r.type==="update"){let n={};for(let i of r.updates)"type"in i?n[i.type]=!0:n[i.updateType]=!0;return n}else return"UNKNOWN"}async fetchBindings(e,r){let[n,i]=await this.fetchRawStream(e,r,Ai.CONTENTTYPE_SPARQL),a=this.sparqlParsers[n];if(!a)throw new Error("Unknown SPARQL results content type: "+n);return a.parseResultsStream(i)}async fetchAsk(e,r){let[n,i]=await this.fetchRawStream(e,r,Ai.CONTENTTYPE_SPARQL),a=this.sparqlParsers[n];if(!a)throw new Error("Unknown SPARQL results content type: "+n);return a.parseBooleanStream(i)}async fetchTriples(e,r){return(await this.fetchRawStream(e,r,Ai.CONTENTTYPE_TURTLE))[1].pipe(new NIe.StreamParser({format:Ai.CONTENTTYPE_TURTLE}))}async fetchUpdate(e,r){let n=new RIe.default,i={method:"POST",headers:{"content-type":"application/sparql-update"},body:r,signal:n.signal};await this.handleFetchCall(e,i,{ignoreBody:!0}),n.abort()}async fetchRawStream(e,r,n){let i=this.method==="POST"?e:e+"?query="+encodeURIComponent(r),a=new Headers,s;return a.append("Accept",n),this.method==="POST"?(a.append("Content-Type","application/x-www-form-urlencoded"),s=new URLSearchParams,s.set("query",r),this.additionalUrlParams.forEach((o,u)=>{s.set(u,o)}),a.append("Content-Length",s.toString().length.toString())):this.additionalUrlParams.toString()!==""&&(i+=`&${this.additionalUrlParams.toString()}`),this.handleFetchCall(i,{headers:a,method:this.method,body:s})}async handleFetchCall(e,r,n={}){let i=await(this.fetchCb||fetch)(e,r),a;n.ignoreBody||(a=DIe(i.body)?i.body:new PIe.ReadableWebToNodeStream(i.body));let s=i.headers.get("Content-Type")||"";if(s.indexOf(";")>0&&(s=s.substr(0,s.indexOf(";"))),!i.ok){let o=/^[^?]*/u.exec(e)[0],u="empty response";throw a&&(u=await IIe(a)),new Error(`Invalid SPARQL endpoint response from ${o} (HTTP status ${i.status}):
${u}`)}return[s,a]}};yE.SparqlEndpointFetcher=Ai;Ai.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json";Ai.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml";Ai.CONTENTTYPE_SPARQL=`${Ai.CONTENTTYPE_SPARQL_JSON};q=1.0,${Ai.CONTENTTYPE_SPARQL_XML};q=0.7`;Ai.CONTENTTYPE_TURTLE="text/turtle"});var bE=_(Kh=>{"use strict";var CIe=Kh&&Kh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jIe=Kh&&Kh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&CIe(e,t,r)};Object.defineProperty(Kh,"__esModule",{value:!0});jIe(tY(),Kh)});var rY=_(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});gE.RdfSourceSparql=void 0;var qIe=Kn(),LIe=er(),MIe=bE(),FIe=Bt(),H_=vo(),TC=jt(),Xh=new FIe.DataFactory,BIe=new qIe.BindingsFactory,UIe=Xh.variable("count"),vn=class{constructor(e,r,n,i){this.url=e,this.context=r,this.mediatorHttp=n,this.endpointFetcher=new MIe.SparqlEndpointFetcher({method:i?"GET":"POST",fetch:(a,s)=>this.mediatorHttp.mediate({input:a,init:s,context:this.context}),prefixVariableQuestionMark:!0})}static replaceBlankNodes(e){let r=(0,H_.getVariables)((0,H_.getTerms)(e)).map(s=>s.value),n={},i=!1,a=(0,H_.mapTerms)(e,s=>{if(s.termType==="BlankNode"){let o=s.value;if(n[o])o=n[o];else{if(r.includes(o)){let u=0;for(;r.includes(`${o}${u}`);)++u;o+=u}n[s.value]=o,r.push(o)}return i=!0,Xh.variable(o)}return s});return i?a:e}static patternToBgp(e){return vn.FACTORY.createBgp([vn.FACTORY.createPattern(e.subject,e.predicate,e.object,e.graph)])}static patternToSelectQuery(e){let r=(0,H_.getVariables)((0,H_.getTerms)(e));return(0,TC.toSparql)(vn.FACTORY.createProject(vn.patternToBgp(e),r))}static patternToCountQuery(e){return(0,TC.toSparql)(vn.FACTORY.createProject(vn.FACTORY.createExtend(vn.FACTORY.createGroup(vn.patternToBgp(e),[],[vn.FACTORY.createBoundAggregate(Xh.variable("var0"),"count",vn.FACTORY.createWildcardExpression(),!1)]),Xh.variable("count"),vn.FACTORY.createTermExpression(Xh.variable("var0"))),[Xh.variable("count")]))}queryBindings(e,r){let n=this.endpointFetcher.fetchBindings(e,r);return(0,LIe.wrap)(n,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(i=>BIe.bindings(Object.entries(i).map(([a,s])=>[Xh.variable(a.slice(1)),s])))}match(e,r,n,i){let a=vn.replaceBlankNodes(vn.FACTORY.createPattern(e,r,n,i)),s=vn.patternToCountQuery(a),o=vn.patternToSelectQuery(a);new Promise(d=>{let f=this.queryBindings(this.url,s);f.on("data",p=>{let y=p.get(UIe);if(y){let g=Number.parseInt(y.value,10);return Number.isNaN(g)?d({cardinality:Number.POSITIVE_INFINITY}):d({cardinality:g})}return d({cardinality:Number.POSITIVE_INFINITY})}),f.on("error",()=>d({cardinality:Number.POSITIVE_INFINITY})),f.on("end",()=>d({cardinality:Number.POSITIVE_INFINITY}))}).then(d=>u.setProperty("metadata",{...d,canContainUndefs:!0}));let u=this.queryBindings(this.url,o).map(d=>(0,H_.mapTerms)(a,f=>{if(f.termType==="Variable"){let p=d.get(f);return p||u.destroy(new Error(`The endpoint ${this.url} failed to provide a binding for ${f.value}.`)),p}return f}));return u}};gE.RdfSourceSparql=vn;vn.FACTORY=new TC.Factory});var nY=_(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});mE.ActorRdfResolveHypermediaSparql=void 0;var VIe=L3(),kIe=rY(),EC=class extends VIe.ActorRdfResolveHypermedia{constructor(e){super(e,"sparql")}async testMetadata(e){if(!e.forceSourceType&&!e.metadata.sparqlService&&!(this.checkUrlSuffix&&e.url.endsWith("/sparql")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`);return{filterFactor:1}}async run(e){return this.logInfo(e.context,`Identified as sparql source: ${e.url}`),{source:new kIe.RdfSourceSparql(e.metadata.sparqlService||e.url,e.context,this.mediatorHttp,this.forceHttpGet)}}};mE.ActorRdfResolveHypermediaSparql=EC});var iY=_($h=>{"use strict";var HIe=$h&&$h.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GIe=$h&&$h.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HIe(e,t,r)};Object.defineProperty($h,"__esModule",{value:!0});GIe(nY(),$h)});var aY=_(vE=>{"use strict";Object.defineProperty(vE,"__esModule",{value:!0});vE.ActorRdfUpdateHypermedia=void 0;var QIe=Je(),OC=class extends QIe.Actor{constructor(e,r){super(e),this.destinationType=r}async test(e){if(e.forceDestinationType&&this.destinationType!==e.forceDestinationType)throw new Error(`Actor ${this.name} is not able to handle destination type ${e.forceDestinationType}.`);return this.testMetadata(e)}};vE.ActorRdfUpdateHypermedia=OC});var wE=_(Jh=>{"use strict";var zIe=Jh&&Jh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WIe=Jh&&Jh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zIe(e,t,r)};Object.defineProperty(Jh,"__esModule",{value:!0});WIe(aY(),Jh)});var TE=_((Zu,oY)=>{var sY=typeof self<"u"?self:Zu,SE=function(){function t(){this.fetch=!1,this.DOMException=sY.DOMException}return t.prototype=sY,new t}();(function(t){var e=function(r){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function i(x){return x&&DataView.prototype.isPrototypeOf(x)}if(n.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(x){return x&&a.indexOf(Object.prototype.toString.call(x))>-1};function o(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(x))throw new TypeError("Invalid character in header field name");return x.toLowerCase()}function u(x){return typeof x!="string"&&(x=String(x)),x}function d(x){var H={next:function(){var se=x.shift();return{done:se===void 0,value:se}}};return n.iterable&&(H[Symbol.iterator]=function(){return H}),H}function f(x){this.map={},x instanceof f?x.forEach(function(H,se){this.append(se,H)},this):Array.isArray(x)?x.forEach(function(H){this.append(H[0],H[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(H){this.append(H,x[H])},this)}f.prototype.append=function(x,H){x=o(x),H=u(H);var se=this.map[x];this.map[x]=se?se+", "+H:H},f.prototype.delete=function(x){delete this.map[o(x)]},f.prototype.get=function(x){return x=o(x),this.has(x)?this.map[x]:null},f.prototype.has=function(x){return this.map.hasOwnProperty(o(x))},f.prototype.set=function(x,H){this.map[o(x)]=u(H)},f.prototype.forEach=function(x,H){for(var se in this.map)this.map.hasOwnProperty(se)&&x.call(H,this.map[se],se,this)},f.prototype.keys=function(){var x=[];return this.forEach(function(H,se){x.push(se)}),d(x)},f.prototype.values=function(){var x=[];return this.forEach(function(H){x.push(H)}),d(x)},f.prototype.entries=function(){var x=[];return this.forEach(function(H,se){x.push([se,H])}),d(x)},n.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function p(x){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}function y(x){return new Promise(function(H,se){x.onload=function(){H(x.result)},x.onerror=function(){se(x.error)}})}function g(x){var H=new FileReader,se=y(H);return H.readAsArrayBuffer(x),se}function v(x){var H=new FileReader,se=y(H);return H.readAsText(x),se}function E(x){for(var H=new Uint8Array(x),se=new Array(H.length),Ne=0;Ne<H.length;Ne++)se[Ne]=String.fromCharCode(H[Ne]);return se.join("")}function D(x){if(x.slice)return x.slice(0);var H=new Uint8Array(x.byteLength);return H.set(new Uint8Array(x)),H.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(x){this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:n.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:n.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():n.arrayBuffer&&n.blob&&i(x)?(this._bodyArrayBuffer=D(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||s(x))?this._bodyArrayBuffer=D(x):this._bodyText=x=Object.prototype.toString.call(x):this._bodyText="",this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var x=p(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var x=p(this);if(x)return x;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function R(x){var H=x.toUpperCase();return C.indexOf(H)>-1?H:x}function w(x,H){H=H||{};var se=H.body;if(x instanceof w){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,H.headers||(this.headers=new f(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!se&&x._bodyInit!=null&&(se=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=H.credentials||this.credentials||"same-origin",(H.headers||!this.headers)&&(this.headers=new f(H.headers)),this.method=R(H.method||this.method||"GET"),this.mode=H.mode||this.mode||null,this.signal=H.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&se)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(se)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function P(x){var H=new FormData;return x.trim().split("&").forEach(function(se){if(se){var Ne=se.split("="),Me=Ne.shift().replace(/\+/g," "),J=Ne.join("=").replace(/\+/g," ");H.append(decodeURIComponent(Me),decodeURIComponent(J))}}),H}function T(x){var H=new f,se=x.replace(/\r?\n[\t ]+/g," ");return se.split(/\r?\n/).forEach(function(Ne){var Me=Ne.split(":"),J=Me.shift().trim();if(J){var re=Me.join(":").trim();H.append(J,re)}}),H}O.call(w.prototype);function te(x,H){H||(H={}),this.type="default",this.status=H.status===void 0?200:H.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in H?H.statusText:"OK",this.headers=new f(H.headers),this.url=H.url||"",this._initBody(x)}O.call(te.prototype),te.prototype.clone=function(){return new te(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},te.error=function(){var x=new te(null,{status:0,statusText:""});return x.type="error",x};var ee=[301,302,303,307,308];te.redirect=function(x,H){if(ee.indexOf(H)===-1)throw new RangeError("Invalid status code");return new te(null,{status:H,headers:{location:x}})},r.DOMException=t.DOMException;try{new r.DOMException}catch{r.DOMException=function(H,se){this.message=H,this.name=se;var Ne=Error(H);this.stack=Ne.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function Y(x,H){return new Promise(function(se,Ne){var Me=new w(x,H);if(Me.signal&&Me.signal.aborted)return Ne(new r.DOMException("Aborted","AbortError"));var J=new XMLHttpRequest;function re(){J.abort()}J.onload=function(){var de={status:J.status,statusText:J.statusText,headers:T(J.getAllResponseHeaders()||"")};de.url="responseURL"in J?J.responseURL:de.headers.get("X-Request-URL");var _e="response"in J?J.response:J.responseText;se(new te(_e,de))},J.onerror=function(){Ne(new TypeError("Network request failed"))},J.ontimeout=function(){Ne(new TypeError("Network request failed"))},J.onabort=function(){Ne(new r.DOMException("Aborted","AbortError"))},J.open(Me.method,Me.url,!0),Me.credentials==="include"?J.withCredentials=!0:Me.credentials==="omit"&&(J.withCredentials=!1),"responseType"in J&&n.blob&&(J.responseType="blob"),Me.headers.forEach(function(de,_e){J.setRequestHeader(_e,de)}),Me.signal&&(Me.signal.addEventListener("abort",re),J.onreadystatechange=function(){J.readyState===4&&Me.signal.removeEventListener("abort",re)}),J.send(typeof Me._bodyInit>"u"?null:Me._bodyInit)})}return Y.polyfill=!0,t.fetch||(t.fetch=Y,t.Headers=f,t.Request=w,t.Response=te),r.Headers=f,r.Request=w,r.Response=te,r.fetch=Y,Object.defineProperty(r,"__esModule",{value:!0}),r}({})})(SE);SE.fetch.ponyfill=!0;delete SE.fetch.polyfill;var G_=SE;Zu=G_.fetch;Zu.default=G_.fetch;Zu.fetch=G_.fetch;Zu.Headers=G_.Headers;Zu.Request=G_.Request;Zu.Response=G_.Response;oY.exports=Zu});var AC=_(OE=>{"use strict";Object.defineProperty(OE,"__esModule",{value:!0});OE.QuadDestinationPatchSparqlUpdate=void 0;var KIe=zc(),XIe=R_(),$Ie=TE(),EE=zv(),JIe=qr(),RC=class{constructor(e,r,n){this.url=e,this.context=r,this.mediatorHttp=n}insert(e){return this.wrapSparqlUpdateRequest("INSERT",e)}async delete(e){return this.wrapSparqlUpdateRequest("DELETE",e)}async wrapSparqlUpdateRequest(e,r){let n=r.map(o=>{let u=`${(0,EE.termToString)(o.subject)} ${(0,EE.termToString)(o.predicate)} ${(0,EE.termToString)(o.object)} .`;return o.graph.termType!=="DefaultGraph"?u=`  GRAPH ${(0,EE.termToString)(o.graph)} { ${u} }
`:u=`  ${u}
`,u}).prepend([`${e} DATA {
`]).append(["}"]),i=new JIe.Readable;i._read=()=>!0,n.on("data",o=>i.push(o)),n.on("end",()=>i.push(null));let a=new $Ie.Headers({"content-type":"application/sparql-update"}),s=await this.mediatorHttp.mediate({context:this.context,init:{headers:a,method:"PATCH",body:KIe.ActorHttp.toWebReadableStream(i)},input:this.url});await(0,XIe.validateHttpResponse)(this.url,s)}async deleteGraphs(e,r,n){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(e,r){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}};OE.QuadDestinationPatchSparqlUpdate=RC});var uY=_(RE=>{"use strict";Object.defineProperty(RE,"__esModule",{value:!0});RE.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;var YIe=wE(),ZIe=AC(),xC=class extends YIe.ActorRdfUpdateHypermedia{constructor(e){super(e,"patchSparqlUpdate")}async testMetadata(e){if(!e.forceDestinationType&&!e.metadata.patchSparqlUpdate)throw new Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);if(!e.forceDestinationType&&!e.exists)throw new Error(`Actor ${this.name} can only patch a destination that already exists.`);return!0}async run(e){return this.logInfo(e.context,`Identified as patchSparqlUpdate destination: ${e.url}`),{destination:new ZIe.QuadDestinationPatchSparqlUpdate(e.url,e.context,this.mediatorHttp)}}};RE.ActorRdfUpdateHypermediaPatchSparqlUpdate=xC});var lY=_(Al=>{"use strict";var ePe=Al&&Al.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cY=Al&&Al.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ePe(e,t,r)};Object.defineProperty(Al,"__esModule",{value:!0});cY(uY(),Al);cY(AC(),Al)});var PC=_(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0});AE.QuadDestinationPutLdp=void 0;var tPe=zc(),rPe=R_(),nPe=TE(),IC=class{constructor(e,r,n,i,a,s){this.url=e,this.context=r,this.mediaTypes=n,this.mediatorHttp=i,this.mediatorRdfSerializeMediatypes=a,this.mediatorRdfSerialize=s}insert(e){return this.wrapRdfUpdateRequest("INSERT",e)}async delete(e){throw new Error("Put-based LDP destinations don't support deletions")}async wrapRdfUpdateRequest(e,r){let{mediaTypes:n}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),i=this.mediaTypes.filter(d=>d in n),a=i.length>0?i[0]:Object.keys(n).sort((d,f)=>n[f]-n[d])[0],{handle:{data:s}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:r,context:this.context},handleMediaType:a}),o=new nPe.Headers({"content-type":a}),u=await this.mediatorHttp.mediate({context:this.context,init:{headers:o,method:"PUT",body:tPe.ActorHttp.toWebReadableStream(s)},input:this.url});await(0,rPe.validateHttpResponse)(this.url,u)}async deleteGraphs(e,r,n){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(e,r){throw new Error("Put-based LDP destinations don't support named graphs")}};AE.QuadDestinationPutLdp=IC});var dY=_(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});xE.ActorRdfUpdateHypermediaPutLdp=void 0;var iPe=wE(),aPe=PC(),NC=class extends iPe.ActorRdfUpdateHypermedia{constructor(e){super(e,"putLdp")}async testMetadata(e){if(!e.forceDestinationType){if(!e.metadata.allowHttpMethods||!e.metadata.allowHttpMethods.includes("PUT"))throw new Error(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(e.exists)throw new Error(`Actor ${this.name} can only put on a destination that does not already exists.`)}return!0}async run(e){return this.logInfo(e.context,`Identified as putLdp destination: ${e.url}`),{destination:new aPe.QuadDestinationPutLdp(e.url,e.context,e.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}};xE.ActorRdfUpdateHypermediaPutLdp=NC});var hY=_(xl=>{"use strict";var sPe=xl&&xl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fY=xl&&xl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sPe(e,t,r)};Object.defineProperty(xl,"__esModule",{value:!0});fY(dY(),xl);fY(PC(),xl)});var CC=_(PE=>{"use strict";Object.defineProperty(PE,"__esModule",{value:!0});PE.QuadDestinationSparql=void 0;var oPe=bE(),IE=zv(),uPe=O_(),DC=class{constructor(e,r,n){this.url=e,this.context=r,this.mediatorHttp=n,this.endpointFetcher=new oPe.SparqlEndpointFetcher({fetch:(i,a)=>this.mediatorHttp.mediate({input:i,init:a,context:this.context}),prefixVariableQuestionMark:!0})}insert(e){return this.wrapSparqlUpdateRequest("INSERT",e)}async delete(e){return this.wrapSparqlUpdateRequest("DELETE",e)}async wrapSparqlUpdateRequest(e,r){let n=r.map(a=>{let s=`${(0,IE.termToString)(a.subject)} ${(0,IE.termToString)(a.predicate)} ${(0,IE.termToString)(a.object)} .`;return a.graph.termType!=="DefaultGraph"?s=`  GRAPH ${(0,IE.termToString)(a.graph)} { ${s} }
`:s=`  ${s}
`,s}).prepend([`${e} DATA {
`]).append(["}"]),i=await uPe(n);await this.endpointFetcher.fetchUpdate(this.url,i)}async deleteGraphs(e,r,n){let i=Array.isArray(e)?e:[e],a=[];for(let s of i){let o;typeof s=="string"?o=s:s.termType==="DefaultGraph"?o="DEFAULT":o=`GRAPH <${s.value}>`,a.push(`${n?"DROP":"CLEAR"} ${r?"":"SILENT "}${o}`)}await this.endpointFetcher.fetchUpdate(this.url,a.join("; "))}async createGraphs(e,r){let n=[];for(let i of e)n.push(`CREATE${r?"":" SILENT"} GRAPH <${i.value}>`);await this.endpointFetcher.fetchUpdate(this.url,n.join("; "))}};PE.QuadDestinationSparql=DC});var pY=_(NE=>{"use strict";Object.defineProperty(NE,"__esModule",{value:!0});NE.ActorRdfUpdateHypermediaSparql=void 0;var cPe=wE(),lPe=CC(),jC=class extends cPe.ActorRdfUpdateHypermedia{constructor(e){super(e,"sparql")}async testMetadata(e){if(!e.forceDestinationType&&!e.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&e.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&e.url.endsWith("/update")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`);return!0}async run(e){return this.logInfo(e.context,`Identified as sparql destination: ${e.url}`),{destination:new lPe.QuadDestinationSparql(e.metadata.sparqlService||e.url,e.context,this.mediatorHttp)}}};NE.ActorRdfUpdateHypermediaSparql=jC});var yY=_(Il=>{"use strict";var dPe=Il&&Il.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Y=Il&&Il.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dPe(e,t,r)};Object.defineProperty(Il,"__esModule",{value:!0});_Y(pY(),Il);_Y(CC(),Il)});var gY=_(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});DE.LazyCardinalityIterator=void 0;var Yh=er(),qC=class extends Yh.AsyncIterator{constructor(e){super(),this._source=e,this._count=0,this._buffering=!0,e[Yh.DESTINATION]=this,e.on("readable",Q_),e.on("end",Q_),e.on("error",bY),this.readable=e.readable}read(){if(this._buffer)return this._buffer.empty?(this._buffering||this.close(),this.readable=!1,null):this._buffer.shift();let e=null;return this._source.readable&&(e=this._source.read())!==null?this._count+=1:(this.readable=!1,this._source.done&&this.close()),e}getCardinality(){return this._cardinality?this._cardinality:this._error?Promise.reject(this._error):(this._source.done&&this.close(),this.done?this._cardinality=Promise.resolve(this._count):(this._buffer=new Yh.LinkedList,this._cardinality=new Promise((e,r)=>{this._source.removeListener("readable",Q_),this._source.removeListener("end",Q_);let n=()=>{this._source.removeListener("data",i),this._source.removeListener("end",a),this._source.removeListener("error",s)},i=o=>{this._buffer.push(o),this._count+=1,this.readable=!0},a=()=>{this._buffering=!1,n(),e(this._count)},s=o=>{this._buffering=!1,n(),r(o)};this._source.on("data",i),this._source.on("end",a),this._source.on("error",s)})),this._cardinality)}close(){this._source.removeListener("readable",Q_),this._source.removeListener("end",Q_),this._source.removeListener("error",bY),delete this._source[Yh.DESTINATION],this._source.destroy(),super.close()}};DE.LazyCardinalityIterator=qC;function Q_(){this[Yh.DESTINATION].readable=!0}function bY(t){this[Yh.DESTINATION]._error=t,this[Yh.DESTINATION].emit("error",t)}});var mY=_(CE=>{"use strict";Object.defineProperty(CE,"__esModule",{value:!0});CE.ActorQueryOperationSparqlEndpoint=void 0;var fPe=Kn(),hPe=dt(),cg=E_(),LC=R_(),pPe=Cr(),_Pe=er(),yPe=bE(),bPe=Bt(),lg=jt(),gPe=gY(),mPe=new fPe.BindingsFactory,vPe=new bPe.DataFactory,Zh=class extends hPe.ActorQueryOperation{constructor(e){super(e),this.endpointFetcher=new yPe.SparqlEndpointFetcher({method:e.forceHttpGet?"GET":"POST",fetch:(r,n)=>this.mediatorHttp.mediate({input:r,init:n,context:this.lastContext}),prefixVariableQuestionMark:!0})}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");let r=(0,cg.getContextSourceFirst)(e.context),n=(0,LC.getContextDestinationFirst)(e.context),i=r?(0,cg.getDataSourceType)(r):void 0,a=n?(0,LC.getDataDestinationType)(n):void 0,s=r?(0,cg.getDataSourceValue)(r):void 0,o=n?(0,LC.getDataDestinationValue)(n):void 0;if(r&&i==="sparql"&&(!n||a==="sparql"&&o===s)||r&&!i&&(!n||!a&&o===s)&&typeof s=="string"&&(this.checkUrlSuffixSparql&&s.endsWith("/sparql")||this.checkUrlSuffixUpdate&&s.endsWith("/update")))return{httpRequests:1};throw new Error(`${this.name} requires a single source with a 'sparql' endpoint to be present in the context or URL ending on /sparql or /update.`)}async run(e){let r=(0,cg.getContextSourceFirst)(e.context);if(!r)throw new Error("Illegal state: undefined sparql endpoint source.");let n=(0,cg.getDataSourceValue)(r);this.lastContext=e.context;let i,a,s;try{i=e.context.get(pPe.KeysInitQuery.queryString)??(0,lg.toSparql)(e.operation),a=this.endpointFetcher.getQueryType(i),a==="UNKNOWN"&&(a=this.endpointFetcher.getUpdateTypes(i))}catch{}switch((!a||a==="UNKNOWN")&&(s=lg.Util.inScopeVariables(e.operation),i=(0,lg.toSparql)(Zh.FACTORY.createProject(e.operation,s)),a="SELECT"),a){case"SELECT":return s||(s=lg.Util.inScopeVariables(e.operation)),this.executeQuery(n,i,!1,s);case"CONSTRUCT":return this.executeQuery(n,i,!0);case"ASK":return{type:"boolean",execute:()=>this.endpointFetcher.fetchAsk(n,i)};default:return{type:"void",execute:()=>this.endpointFetcher.fetchUpdate(n,i)}}}executeQuery(e,r,n,i){let a=n?this.endpointFetcher.fetchTriples(e,r):this.endpointFetcher.fetchBindings(e,r),s=(0,_Pe.wrap)(a,{autoStart:!1}).map(d=>n?d:mPe.bindings(Object.entries(d).map(([f,p])=>[vPe.variable(f.slice(1)),p]))),o=new gPe.LazyCardinalityIterator(s),u=Zh.cachifyMetadata(async()=>({cardinality:{type:"exact",value:await o.getCardinality()},canContainUndefs:!0,variables:i}));return n?{type:"quads",quadStream:o,metadata:u}:{type:"bindings",bindingsStream:o,metadata:u}}};CE.ActorQueryOperationSparqlEndpoint=Zh;Zh.FACTORY=new lg.Factory});var vY=_(ep=>{"use strict";var wPe=ep&&ep.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),SPe=ep&&ep.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wPe(e,t,r)};Object.defineProperty(ep,"__esModule",{value:!0});SPe(mY(),ep)});var wY=_(jE=>{"use strict";Object.defineProperty(jE,"__esModule",{value:!0});jE.ActorDereferenceRdf=void 0;var TPe=Sw(),MC=class extends TPe.ActorDereferenceParse{constructor(e){super(e)}};jE.ActorDereferenceRdf=MC});var SY=_(tp=>{"use strict";var EPe=tp&&tp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OPe=tp&&tp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&EPe(e,t,r)};Object.defineProperty(tp,"__esModule",{value:!0});OPe(wY(),tp)});var TY=_(qE=>{"use strict";Object.defineProperty(qE,"__esModule",{value:!0});qE.ActorDereferenceRdfParse=void 0;var RPe=SY(),FC=class extends RPe.ActorDereferenceRdf{constructor(e){super(e)}async getMetadata(e){return{baseIRI:e.url}}};qE.ActorDereferenceRdfParse=FC});var EY=_(rp=>{"use strict";var APe=rp&&rp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xPe=rp&&rp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&APe(e,t,r)};Object.defineProperty(rp,"__esModule",{value:!0});xPe(TY(),rp)});var RY=_(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0});LE.HtmlScriptListener=void 0;var OY=Cr(),IPe=qr(),PPe=is(),Pl=class{constructor(e,r,n,i,a,s,o,u){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=e,this.cbQuad=r,this.cbError=n,this.cbEnd=i,this.supportedTypes=a,this.context=s.set(OY.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=o,this.headers=u,this.onlyFirstScript=s.get(OY.KeysRdfParseHtmlScript.extractAllScripts)===!1;let d=this.baseIRI.indexOf("#");this.targetScriptId=d>0?this.baseIRI.slice(d+1,this.baseIRI.length):null}static newErrorCoded(e,r){let n=new Error(e);return n.code=r,n}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(Pl.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{let e=new IPe.Readable({objectMode:!0});e._read=()=>{};let r=this.textChunks,n={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:e,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(n).then(({handle:i})=>{i.data.on("error",a=>this.cbError(Pl.newErrorCoded(a.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(let a of r)e.push(a);e.push(null)}).catch(i=>{this.targetScriptId?this.cbError(Pl.newErrorCoded(i.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(e,r){e==="base"&&r.href&&(this.baseIRI=(0,PPe.resolve)(r.href,this.baseIRI)),e==="script"&&(!this.targetScriptId||r.id===this.targetScriptId)?this.supportedTypes[r.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=r.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(Pl.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(e){this.handleMediaType&&this.textChunks.push(e)}requiresCustomJsonLdHandling(e){return!this.onlyFirstScript&&!this.targetScriptId&&e==="application/ld+json"}};LE.HtmlScriptListener=Pl});var AY=_(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});ME.ActorRdfParseHtmlScript=void 0;var NPe=w3(),DPe=RY(),BC=class extends NPe.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){let r=(await this.mediatorRdfParseMediatypes.mediate({context:e.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new DPe.HtmlScriptListener(this.mediatorRdfParseHandle,e.emit,e.error,e.end,r,e.context,e.baseIRI,e.headers)}}};ME.ActorRdfParseHtmlScript=BC});var xY=_(np=>{"use strict";var CPe=np&&np.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jPe=np&&np.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&CPe(e,t,r)};Object.defineProperty(np,"__esModule",{value:!0});jPe(AY(),np)});var IY=_(BE=>{"use strict";Object.defineProperty(BE,"__esModule",{value:!0});BE.ActorRdfJoin=void 0;var qPe=dt(),FE=Cr(),LPe=Je(),MPe=Bt(),FPe=On(),BPe=new MPe.DataFactory,Yo=class extends LPe.Actor{constructor(e,r){super(e),this.includeInLogs=!0,this.logicalType=r.logicalType,this.physicalName=r.physicalName,this.limitEntries=r.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=r.limitEntriesMin??!1,this.canHandleUndefs=r.canHandleUndefs??!1}static hash(e,r){return r.filter(n=>e.has(n)).map(n=>(0,FPe.termToString)(e.get(n))).join("")}static overlappingVariables(e){let r=e.map(i=>i.variables),n=r[0];for(let i of r.slice(1))n=n.filter(a=>i.some(s=>s.value===a.value));return n}static joinVariables(e){return[...new Set(e.flatMap(r=>r.variables.map(n=>n.value)))].map(r=>BPe.variable(r))}static joinBindings(...e){if(e.length===0)return null;if(e.length===1)return e[0];let r=e[0];for(let n of e.slice(1)){let i=r.merge(n);if(!i)return null;r=i}return r}static getCardinality(e){return e.cardinality}static async getMetadatas(e){return await Promise.all(e.map(r=>r.output.metadata()))}static async getEntriesWithMetadatas(e){let r=await Yo.getMetadatas(e);return e.map((n,i)=>({...n,metadata:r[i]}))}static getRequestInitialTimes(e){return e.map(r=>r.pageSize?0:r.requestTime||0)}static getRequestItemTimes(e){return e.map(r=>r.pageSize?(r.requestTime||0)/r.pageSize:0)}async constructResultMetadata(e,r,n,i={}){let a;return i.cardinality?a=i.cardinality:(a=r.reduce((s,o)=>{let u=Yo.getCardinality(o);return{type:u.type==="estimate"?"estimate":s.type,value:s.value*u.value}},{type:"exact",value:1}),a.value*=(await this.mediatorJoinSelectivity.mediate({entries:e,context:n})).selectivity),{...i,cardinality:{type:a.type,value:a.value},canContainUndefs:i.canContainUndefs??r.some(s=>s.canContainUndefs),variables:Yo.joinVariables(r)}}async test(e){if(e.type!==this.logicalType)throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${e.type}' was given.`);if(e.entries.length<=1)throw new Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?e.entries.length<this.limitEntries:e.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${e.entries.length}.`);for(let n of e.entries)if(n.output.type!=="bindings")throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${n.output.type}'`);let r=await Yo.getMetadatas(e.entries);if(!this.canHandleUndefs){for(let n of r)if(n.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`)}return await this.getJoinCoefficients(e,r)}async run(e){let r;e.context.has(FE.KeysInitQuery.physicalQueryPlanLogger)&&(r=e.context.get(FE.KeysInitQuery.physicalQueryPlanNode),e.context=e.context.set(FE.KeysInitQuery.physicalQueryPlanNode,e));let n=e.context.get(FE.KeysInitQuery.physicalQueryPlanLogger),i;this.includeInLogs&&n&&(i={},n.logOperation(`join-${this.logicalType}`,this.physicalName,e,r,this.name,i));let{result:a,physicalPlanMetadata:s}=await this.getOutput(e),o=await Yo.getMetadatas(e.entries);return i&&(Object.assign(i,s),i.cardinalities=o.map(Yo.getCardinality),i.joinCoefficients=await this.getJoinCoefficients(e,o)),a.metadata=qPe.ActorQueryOperation.cachifyMetadata(a.metadata),a}};BE.ActorRdfJoin=Yo});var Fa=_(ip=>{"use strict";var UPe=ip&&ip.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VPe=ip&&ip.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UPe(e,t,r)};Object.defineProperty(ip,"__esModule",{value:!0});VPe(IY(),ip)});var PY=_(UE=>{"use strict";Object.defineProperty(UE,"__esModule",{value:!0});UE.ActorRdfJoinNone=void 0;var kPe=Kn(),HPe=Fa(),GPe=er(),QPe=new kPe.BindingsFactory,UC=class extends HPe.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(e){if(e.entries.length>0)throw new Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(e){return{result:{bindingsStream:new GPe.ArrayIterator([QPe.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};UE.ActorRdfJoinNone=UC});var NY=_(ap=>{"use strict";var zPe=ap&&ap.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WPe=ap&&ap.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zPe(e,t,r)};Object.defineProperty(ap,"__esModule",{value:!0});WPe(PY(),ap)});var DY=_(VE=>{"use strict";Object.defineProperty(VE,"__esModule",{value:!0});VE.ActorRdfJoinSingle=void 0;var KPe=Fa(),VC=class extends KPe.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(e){if(e.entries.length!==1)throw new Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(e){return{result:e.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};VE.ActorRdfJoinSingle=VC});var CY=_(sp=>{"use strict";var XPe=sp&&sp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$Pe=sp&&sp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XPe(e,t,r)};Object.defineProperty(sp,"__esModule",{value:!0});$Pe(DY(),sp)});var jY=_(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});kE.ActorRdfJoinMultiEmpty=void 0;var dg=Fa(),JPe=er(),kC=class extends dg.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"multi-empty"})}async test(e){if((await dg.ActorRdfJoin.getMetadatas(e.entries)).every(r=>dg.ActorRdfJoin.getCardinality(r).value>0))throw new Error(`Actor ${this.name} can only join entries where at least one is empty`);return super.test(e)}async getOutput(e){for(let r of e.entries)r.output.bindingsStream.close();return{result:{bindingsStream:new JPe.ArrayIterator([],{autoStart:!1}),metadata:async()=>({cardinality:{type:"exact",value:0},canContainUndefs:!1,variables:dg.ActorRdfJoin.joinVariables(await dg.ActorRdfJoin.getMetadatas(e.entries))}),type:"bindings"}}}async getJoinCoefficients(e,r){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}};kE.ActorRdfJoinMultiEmpty=kC});var qY=_(op=>{"use strict";var YPe=op&&op.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ZPe=op&&op.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YPe(e,t,r)};Object.defineProperty(op,"__esModule",{value:!0});ZPe(jY(),op)});var MY=_(GE=>{"use strict";Object.defineProperty(GE,"__esModule",{value:!0});GE.ActorRdfJoinMultiBind=void 0;var LY=dt(),HE=Fa(),HC=Cr(),GC=er(),QC=jt(),up=class extends HE.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0})}static createBindStream(e,r,n,i,a){let s=o=>{let u=n.map(f=>(0,LY.materializeOperation)(f,o,{bindFilter:!1})),d=f=>f.merge(o);return new GC.TransformIterator(async()=>(await i(u,o)).transform({map:d}),{maxBufferSize:128,autoStart:!1})};switch(e){case"depth-first":return new GC.MultiTransformIterator(r,{autoStart:!1,multiTransform:s,optional:a});case"breadth-first":return new GC.UnionIterator(r.transform({map:s,optional:a}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${e}`)}}async sortJoinEntries(e,r){if(e.some(o=>o.metadata.canContainUndefs))return e;let i={};for(let o of e)for(let u of o.metadata.variables){let d=i[u.value];d||(d=0),i[u.value]=++d}let a=[];for(let[o,u]of Object.entries(i))u>=2&&a.push(o);if(a.length===0)throw new Error("Bind join can only join entries with at least one common variable");let s=[];for(let o of e){let u=!1;for(let d of o.metadata.variables)if(a.includes(d.value)){u=!0;break}u||s.push(o)}return(await this.mediatorJoinEntriesSort.mediate({entries:e,context:r})).entries.sort((o,u)=>{let d=s.includes(o),f=s.includes(u);return d===f?0:d?1:-1})}async getOutput(e){let r=await HE.ActorRdfJoin.getEntriesWithMetadatas(e.entries),n=await this.sortJoinEntries(r,e.context);this.logDebug(e.context,"First entry for Bind Join: ",()=>({entry:n[0].operation,metadata:n[0].metadata}));for(let[u,d]of n.entries())u!==0&&d.output.bindingsStream.close();let i=n[0].output,a=[...n];a.splice(0,1);let s=e.context.set(HC.KeysQueryOperation.joinLeftMetadata,n[0].metadata).set(HC.KeysQueryOperation.joinRightMetadatas,a.map(u=>u.metadata)),o=up.createBindStream(this.bindOrder,i.bindingsStream,a.map(u=>u.operation),async(u,d)=>{let f=u.length===1?u[0]:up.FACTORY.createJoin(u);return LY.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:f,context:s?.set(HC.KeysQueryOperation.joinBindings,d)})).bindingsStream},!1);return{result:{type:"bindings",bindingsStream:o,metadata:()=>this.constructResultMetadata(n,n.map(u=>u.metadata),e.context)},physicalPlanMetadata:{bindIndex:r.indexOf(n[0]),bindOrder:this.bindOrder}}}async getJoinCoefficients(e,r){let n=await this.sortJoinEntries(e.entries.map((g,v)=>({...g,metadata:r[v]})),e.context);r=n.map(g=>g.metadata);let i=HE.ActorRdfJoin.getRequestInitialTimes(r),a=HE.ActorRdfJoin.getRequestItemTimes(r),s=[...n],o=[...i],u=[...a];if(s.splice(0,1),o.splice(0,1),u.splice(0,1),s.some(g=>g.operation.type===QC.Algebra.types.EXTEND||g.operation.type===QC.Algebra.types.GROUP))throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);let d=await Promise.all(s.map(async g=>(await this.mediatorJoinSelectivity.mediate({entries:[n[0],g],context:e.context})).selectivity*this.selectivityModifier)),f=s.map((g,v)=>g.metadata.cardinality.value*d[v]).reduce((g,v)=>g+v,0),p=o.reduce((g,v,E)=>g+v*d[E],0),y=u.reduce((g,v,E)=>g+v*d[E],0);return{iterations:r[0].cardinality.value*f,persistedItems:0,blockingItems:0,requestTime:i[0]+r[0].cardinality.value*(a[0]+p+f*y)}}};GE.ActorRdfJoinMultiBind=up;up.FACTORY=new QC.Factory});var zC=_(cp=>{"use strict";var e4e=cp&&cp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t4e=cp&&cp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&e4e(e,t,r)};Object.defineProperty(cp,"__esModule",{value:!0});t4e(MY(),cp)});var UY=_((SUe,BY)=>{var FY=er(),r4e=FY.MultiTransformIterator,n4e=FY.SimpleTransformIterator,WC=class extends r4e{constructor(e,r,n,i){super(e,i),this.funRight=r,this.funJoin=n}_createTransformer(e){return new n4e(this.funRight(e),{transform:(r,n,i)=>{let a=this.funJoin(e,r);a!==null&&i(a),n()}})}};BY.exports=WC});var kY=_((TUe,VY)=>{var i4e=er().AsyncIterator,KC=class extends i4e{constructor(e,r,n,i){super(),this.addedDataListener=!1,this.left=e,this.right=r,this.funHash=n,this.funJoin=i,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",s=>this.destroy(s)),this.right.on("error",s=>this.destroy(s)),this.readable=!1,this.left.on("end",a.bind(this));function a(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",s=>{s==="data"&&!this.addedDataListener&&(this.addedDataListener=!0,this._addDataListener())})}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this.addedDataListener||(this.addedDataListener=!0,this._addDataListener());;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let r=this.matches[this.matchIdx++],n=this.funJoin(r,this.match);if(n!==null)return n}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let e=this.funHash(this.match);this.matches=this.leftMap.get(e)||[],this.matchIdx=0}}_addDataListener(){this.left.on("data",e.bind(this));function e(r){let n=this.funHash(r);this.leftMap.has(n)||this.leftMap.set(n,[]),this.leftMap.get(n).push(r)}}};VY.exports=KC});var GY=_((EUe,HY)=>{var{MultiTransformIterator:a4e,SimpleTransformIterator:s4e,scheduleTask:o4e}=er(),XC=class extends a4e{constructor(e,r,n,i){super(e,i),this.right=r,this.funJoin=n,this.on("end",()=>this.right.close())}_end(){super._end(),o4e(()=>this.right.destroy())}_createTransformer(e){return new s4e(this.right.clone(),{transform:(r,n,i)=>{let a=this.funJoin(e,r);a!==null&&i(a),n()}})}};HY.exports=XC});var zY=_((OUe,QY)=>{var u4e=er().AsyncIterator,$C=class extends u4e{constructor(e,r,n,i){super(),this.left=e,this.right=r,this.funHash=n,this.funJoin=i,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",a=>this.destroy(a)),this.right.on("error",a=>this.destroy(a)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let a=this.matches[this.matchIdx++],s=this.usedLeft?this.funJoin(this.match,a):this.funJoin(a,this.match);if(s!==null)return s}this.hasResults()||this._end();let e=null;for(let a=0;a<2&&(e=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,e===null);++a);if(this.done||e===null)return this.readable=!1,null;let r=this.funHash(e),n=this.usedLeft?this.leftMap:this.rightMap;return n.has(r)||n.set(r,[]),n.get(r).push(e),this.match=e,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(r)||[],this.matchIdx=0,this.read()}};QY.exports=$C});var KY=_((RUe,WY)=>{var c4e=er().AsyncIterator,JC=class extends c4e{constructor(e){super(),Array.isArray(e)||(e=Array.prototype.slice.call(arguments)),this.streams=e;for(let r of e)r.on("readable",()=>this.emit("readable")),r.on("end",()=>this._removeStream(r));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(e){let r=this.streams.indexOf(e);r<0||(this.streams.splice(r,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let e of this.streams)e.close()}read(){for(let e=0;e<this.streams.length;++e){this.idx=(this.idx+1)%this.streams.length;let r=this.streams[this.idx].read();if(r!==null)return r}return null}};WY.exports=JC});var fg=_((AUe,XY)=>{var l4e=UY(),d4e=kY(),f4e=GY(),h4e=zY(),p4e=KY();XY.exports={DynamicNestedLoopJoin:l4e,HashJoin:d4e,NestedLoopJoin:f4e,SymmetricHashJoin:h4e,MergeStream:p4e}});var $Y=_(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0});QE.ActorRdfJoinHash=void 0;var lp=Fa(),_4e=fg(),YC=class extends lp.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"hash",limitEntries:2})}async getOutput(e){let r=await lp.ActorRdfJoin.getMetadatas(e.entries),n=lp.ActorRdfJoin.overlappingVariables(r),i=new _4e.HashJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,a=>lp.ActorRdfJoin.hash(a,n),lp.ActorRdfJoin.joinBindings);return{result:{type:"bindings",bindingsStream:i,metadata:async()=>await this.constructResultMetadata(e.entries,r,e.context)}}}async getJoinCoefficients(e,r){let n=lp.ActorRdfJoin.getRequestInitialTimes(r),i=lp.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:n[0]+r[0].cardinality.value*i[0]+n[1]+r[1].cardinality.value*i[1]}}};QE.ActorRdfJoinHash=YC});var JY=_(dp=>{"use strict";var y4e=dp&&dp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),b4e=dp&&dp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&y4e(e,t,r)};Object.defineProperty(dp,"__esModule",{value:!0});b4e($Y(),dp)});var YY=_(zE=>{"use strict";Object.defineProperty(zE,"__esModule",{value:!0});zE.ActorRdfJoinSymmetricHash=void 0;var z_=Fa(),g4e=fg(),hg=class extends z_.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2})}async getOutput(e){let r=await z_.ActorRdfJoin.getMetadatas(e.entries),n=z_.ActorRdfJoin.overlappingVariables(r),i=new g4e.SymmetricHashJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,a=>hg.hash(a,n),z_.ActorRdfJoin.joinBindings);return{result:{type:"bindings",bindingsStream:i,metadata:async()=>await this.constructResultMetadata(e.entries,r,e.context)}}}async getJoinCoefficients(e,r){let n=z_.ActorRdfJoin.getRequestInitialTimes(r),i=z_.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value+r[1].cardinality.value,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*i[0]+n[1]+r[1].cardinality.value*i[1]}}};zE.ActorRdfJoinSymmetricHash=hg});var ZY=_(fp=>{"use strict";var m4e=fp&&fp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v4e=fp&&fp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&m4e(e,t,r)};Object.defineProperty(fp,"__esModule",{value:!0});v4e(YY(),fp)});var eZ=_(WE=>{"use strict";Object.defineProperty(WE,"__esModule",{value:!0});WE.ActorRdfJoinNestedLoop=void 0;var pg=Fa(),w4e=fg(),ZC=class extends pg.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){let r=new w4e.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,pg.ActorRdfJoin.joinBindings,{autoStart:!1});return{result:{type:"bindings",bindingsStream:r,metadata:async()=>await this.constructResultMetadata(e.entries,await pg.ActorRdfJoin.getMetadatas(e.entries),e.context)}}}async getJoinCoefficients(e,r){let n=pg.ActorRdfJoin.getRequestInitialTimes(r),i=pg.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value*r[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*i[0]+n[1]+r[1].cardinality.value*i[1]}}};WE.ActorRdfJoinNestedLoop=ZC});var tZ=_(hp=>{"use strict";var S4e=hp&&hp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),T4e=hp&&hp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&S4e(e,t,r)};Object.defineProperty(hp,"__esModule",{value:!0});T4e(eZ(),hp)});var rZ=_(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0});KE.ActorRdfJoinMinusHash=void 0;var E4e=dt(),pp=Fa(),ej=class extends pp.ActorRdfJoin{constructor(e){super(e,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(e){let r=e.entries[1].output,n=e.entries[0].output,i=await pp.ActorRdfJoin.getMetadatas(e.entries),a=pp.ActorRdfJoin.overlappingVariables(i);if(a.length>0){let s={},o=new E4e.ClosableTransformIterator(async()=>(await new Promise(u=>{r.bindingsStream.on("data",d=>{s[pp.ActorRdfJoin.hash(d,a)]=!0}),r.bindingsStream.on("end",u)}),n.bindingsStream.filter(u=>!s[pp.ActorRdfJoin.hash(u,a)])),{autoStart:!1,onClose(){r.bindingsStream.destroy(),n.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:o,metadata:n.metadata}}}return{result:n}}async getJoinCoefficients(e,r){let n=pp.ActorRdfJoin.getRequestInitialTimes(r),i=pp.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:n[0]+r[0].cardinality.value*i[0]+n[1]+r[1].cardinality.value*i[1]}}};KE.ActorRdfJoinMinusHash=ej});var nZ=_(_p=>{"use strict";var O4e=_p&&_p.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),R4e=_p&&_p.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&O4e(e,t,r)};Object.defineProperty(_p,"__esModule",{value:!0});R4e(rZ(),_p)});var iZ=_(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0});XE.BindingsIndex=void 0;var A4e=On(),W_=class{constructor(e){this.data={},this.keys=e}static hashTerm(e){return e&&e.termType!=="Variable"?(0,A4e.termToString)(e):""}add(e){if(this.isBindingsValid(e)){let r=this.data;for(let n of this.keys){let i=W_.hashTerm(e.get(n)),a=r[i];a||(a=r[i]={}),r=a}}}contains(e){return this.isBindingsValid(e)?this.containsRecursive(e,this.keys,[this.data]):!1}isBindingsValid(e){let r=!1;for(let n of this.keys)if(e.get(n)){r=!0;break}return r}containsRecursive(e,r,n){if(r.length===0)return!0;let i;[i,...r]=r;for(let a of n){let s=W_.hashTerm(e.get(i));if(s){let o=[a[s],a[""]].filter(Boolean);if(o.length===0)continue;if(this.containsRecursive(e,r,o))return!0}else{let o=Object.keys(a).map(u=>a[u]);if(o.length===0&&(o=[{}]),this.containsRecursive(e,r,o))return!0}}return!1}};XE.BindingsIndex=W_});var aZ=_($E=>{"use strict";Object.defineProperty($E,"__esModule",{value:!0});$E.ActorRdfJoinMinusHashUndef=void 0;var x4e=dt(),_g=Fa(),I4e=iZ(),tj=class extends _g.ActorRdfJoin{constructor(e){super(e,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){let r=e.entries[1].output,n=e.entries[0].output,i=await _g.ActorRdfJoin.getMetadatas(e.entries),a=_g.ActorRdfJoin.overlappingVariables(i);if(a.length>0){let s=new I4e.BindingsIndex(a),o=new x4e.ClosableTransformIterator(async()=>(await new Promise(u=>{r.bindingsStream.on("data",d=>s.add(d)),r.bindingsStream.on("end",u)}),n.bindingsStream.filter(u=>!s.contains(u))),{autoStart:!1,onClose(){r.bindingsStream.destroy(),n.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:o,async metadata(){let u=await n.metadata(),d=await n.metadata();return{...d,canContainUndefs:u.canContainUndefs||d.canContainUndefs}}}}}return{result:n}}async getJoinCoefficients(e,r){let n=_g.ActorRdfJoin.getRequestInitialTimes(r),i=_g.ActorRdfJoin.getRequestItemTimes(r);return{iterations:(r[0].cardinality.value+r[1].cardinality.value)*1.01,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:n[0]+r[0].cardinality.value*i[0]+n[1]+r[1].cardinality.value*i[1]}}};$E.ActorRdfJoinMinusHashUndef=tj});var sZ=_(yp=>{"use strict";var P4e=yp&&yp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N4e=yp&&yp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&P4e(e,t,r)};Object.defineProperty(yp,"__esModule",{value:!0});N4e(aZ(),yp)});var uZ=_(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0});YE.ActorRdfJoinOptionalBind=void 0;var D4e=zC(),C4e=dt(),JE=Fa(),rj=Cr(),oZ=jt(),nj=class extends JE.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){e.entries[1].output.bindingsStream.close();let r=e.context.set(rj.KeysQueryOperation.joinLeftMetadata,await e.entries[0].output.metadata()).set(rj.KeysQueryOperation.joinRightMetadatas,[await e.entries[1].output.metadata()]),n=D4e.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,e.entries[0].output.bindingsStream,[e.entries[1].operation],async(i,a)=>{let s=i[0];return C4e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:s,context:r?.set(rj.KeysQueryOperation.joinBindings,a)})).bindingsStream},!0);return{result:{type:"bindings",bindingsStream:n,metadata:async()=>await this.constructResultMetadata(e.entries,await JE.ActorRdfJoin.getMetadatas(e.entries),e.context,{canContainUndefs:!0})}}}async getJoinCoefficients(e,r){let n=JE.ActorRdfJoin.getRequestInitialTimes(r),i=JE.ActorRdfJoin.getRequestItemTimes(r);if(e.entries[1].operation.type===oZ.Algebra.types.EXTEND||e.entries[1].operation.type===oZ.Algebra.types.GROUP)throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);let a=(await this.mediatorJoinSelectivity.mediate({entries:e.entries,context:e.context})).selectivity*this.selectivityModifier;return{iterations:r[0].cardinality.value*r[1].cardinality.value*a,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*a*(i[0]+n[1]+r[1].cardinality.value*i[1])}}};YE.ActorRdfJoinOptionalBind=nj});var cZ=_(bp=>{"use strict";var j4e=bp&&bp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q4e=bp&&bp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&j4e(e,t,r)};Object.defineProperty(bp,"__esModule",{value:!0});q4e(uZ(),bp)});var lZ=_(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});ZE.ActorRdfJoinOptionalNestedLoop=void 0;var yg=Fa(),L4e=fg(),ij=class extends yg.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){let r=new L4e.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,yg.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1});return{result:{type:"bindings",bindingsStream:r,metadata:async()=>await this.constructResultMetadata(e.entries,await yg.ActorRdfJoin.getMetadatas(e.entries),e.context,{canContainUndefs:!0})}}}async getJoinCoefficients(e,r){let n=yg.ActorRdfJoin.getRequestInitialTimes(r),i=yg.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value*r[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*i[0]+n[1]+r[1].cardinality.value*i[1]}}};ZE.ActorRdfJoinOptionalNestedLoop=ij});var dZ=_(gp=>{"use strict";var M4e=gp&&gp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F4e=gp&&gp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&M4e(e,t,r)};Object.defineProperty(gp,"__esModule",{value:!0});F4e(lZ(),gp)});var fZ=_(eO=>{"use strict";Object.defineProperty(eO,"__esModule",{value:!0});eO.RdfSourceQpf=void 0;var aj=er(),B4e=Bt(),bg=On(),sj=vo(),mp=new B4e.DataFactory,oj=class{constructor(e,r,n,i,a,s,o,u,d,f){this.mediatorMetadata=e,this.mediatorMetadataExtract=r,this.mediatorDereferenceRdf=n,this.subjectUri=i,this.predicateUri=a,this.objectUri=s,this.graphUri=o,this.context=d,this.cachedQuads={};let p=this.getSearchForm(u);if(!p)throw new Error("Illegal state: found no TPF/QPF search form anymore in metadata.");if(this.searchForm=p,this.defaultGraph=u.defaultGraph?mp.namedNode(u.defaultGraph):void 0,f){let y=(0,aj.wrap)(f);this.defaultGraph&&(y=this.reverseMapQuadsToDefaultGraph(y)),y.setProperty("metadata",u),this.cacheQuads(y,mp.variable(""),mp.variable(""),mp.variable(""),mp.variable(""))}}getSearchForm(e){if(!e.searchForms||!e.searchForms.values)return;let{searchForms:r}=e;for(let n of r.values)if(this.graphUri&&this.subjectUri in n.mappings&&this.predicateUri in n.mappings&&this.objectUri in n.mappings&&this.graphUri in n.mappings&&Object.keys(n.mappings).length===4||this.subjectUri in n.mappings&&this.predicateUri in n.mappings&&this.objectUri in n.mappings&&Object.keys(n.mappings).length===3)return n}createFragmentUri(e,r,n,i,a){let s={},o=[{uri:this.subjectUri,term:r},{uri:this.predicateUri,term:n},{uri:this.objectUri,term:i},{uri:this.graphUri,term:a}];for(let u of o)u.uri&&u.term.termType!=="Variable"&&(s[u.uri]=(0,bg.termToString)(u.term));return e.getUri(s)}match(e,r,n,i){let a=!1;this.defaultGraph&&i.termType==="DefaultGraph"&&(a=!0,i=this.defaultGraph);let s=this.getCachedQuads(e,r,n,i);if(s)return s;let o=new aj.TransformIterator(async()=>{let u=this.createFragmentUri(this.searchForm,e,r,n,i),d=await this.mediatorDereferenceRdf.mediate({context:this.context,url:u});u=d.url;let f=await this.mediatorMetadata.mediate({context:this.context,url:u,quads:d.data,triples:d.metadata?.triples}),p=this.mediatorMetadataExtract.mediate({context:this.context,url:u,metadata:f.metadata,requestTime:d.requestTime}).then(({metadata:v})=>o.setProperty("metadata",{...v,canContainUndefs:!1})),y=mp.defaultGraph(),g=(0,aj.wrap)(f.data).transform({filter(v){return(0,sj.matchPattern)(v,e,r,n,i)?!0:a&&(0,sj.matchPattern)(v,e,r,n,y)}});return(a||i.termType==="Variable")&&(g=this.reverseMapQuadsToDefaultGraph(g)),g.on("error",()=>{}),await p,g},{autoStart:!1});return this.cacheQuads(o,e,r,n,i),this.getCachedQuads(e,r,n,i)}reverseMapQuadsToDefaultGraph(e){let r=mp.defaultGraph();return e.map(n=>(0,sj.mapTerms)(n,(i,a)=>a==="graph"&&i.equals(this.defaultGraph)?r:i))}getPatternId(e,r,n,i){return JSON.stringify({s:e.termType==="Variable"?"":(0,bg.termToString)(e),p:r.termType==="Variable"?"":(0,bg.termToString)(r),o:n.termType==="Variable"?"":(0,bg.termToString)(n),g:i.termType==="Variable"?"":(0,bg.termToString)(i)})}cacheQuads(e,r,n,i,a){let s=this.getPatternId(r,n,i,a);this.cachedQuads[s]=e.clone()}getCachedQuads(e,r,n,i){let a=this.getPatternId(e,r,n,i),s=this.cachedQuads[a];if(s)return s.clone()}};eO.RdfSourceQpf=oj});var hZ=_(tO=>{"use strict";Object.defineProperty(tO,"__esModule",{value:!0});tO.ActorRdfResolveHypermediaQpf=void 0;var U4e=L3(),V4e=fZ(),uj=class extends U4e.ActorRdfResolveHypermedia{constructor(e){super(e,"qpf")}async testMetadata(e){let{searchForm:r}=this.createSource(e.metadata,e.context);if(e.handledDatasets&&e.handledDatasets[r.dataset])throw new Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);return{filterFactor:1}}async run(e){this.logInfo(e.context,`Identified as qpf source: ${e.url}`);let r=this.createSource(e.metadata,e.context,e.quads);return{source:r,dataset:r.searchForm.dataset}}createSource(e,r,n){return new V4e.RdfSourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,e,r,n)}};tO.ActorRdfResolveHypermediaQpf=uj});var pZ=_(vp=>{"use strict";var k4e=vp&&vp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),H4e=vp&&vp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&k4e(e,t,r)};Object.defineProperty(vp,"__esModule",{value:!0});H4e(hZ(),vp)});var _Z=_(rO=>{"use strict";Object.defineProperty(rO,"__esModule",{value:!0});rO.LinkedRdfSourcesAsyncRdfIterator=void 0;var G4e=er(),Q4e=ul(),cj=class extends G4e.BufferedIterator{constructor(e,r,n,i,a,s,o){if(super({autoStart:!0}),this.started=!1,this.cacheSize=e,this.subject=r,this.predicate=n,this.object=i,this.graph=a,this.firstUrl=s,this.maxIterators=o,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`);this.currentIterators=[],this.iteratorsPendingCreation=0}_end(e){for(let r of this.currentIterators)r.destroy();super._end(e)}setSourcesState(e){e?this.sourcesState=e:(this.sourcesState={sources:new Q4e({max:this.cacheSize})},this.getSourceCached({url:this.firstUrl},{}).catch(r=>this.destroy(r)))}getSourceCached(e,r){let n=this.sourcesState.sources.get(e.url);return n||(n=this.getSource(e,r),this.sourcesState.sources.set(e.url,n),n)}_read(e,r){if(!this.started)this.started=!0,this.sourcesState||this.setSourcesState(),this.getSourceCached({url:this.firstUrl},{}).then(n=>{this.startIterator(n,!0),r()}).catch(n=>{r()});else{for(let n of this.currentIterators){for(;e>0;){let i=n.read();if(i!==null)e--,this._push(i);else break}if(e<=0)break}e>=0&&this.canStartNewIterator()?this.getSourceCached({url:this.firstUrl},{}).then(n=>{this.startIteratorsForNextUrls(n.handledDatasets,!1),r()}).catch(n=>this.destroy(n)):r()}}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation<this.maxIterators&&!this.readable}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation>0}startIterator(e,r){let n=e.source.match(this.subject,this.predicate,this.object,this.graph);this.currentIterators.push(n);let i=!1;n._destination=this,n.on("error",a=>this.destroy(a)),n.on("readable",()=>this._fillBuffer()),n.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(n),1),i&&this.startIteratorsForNextUrls(e.handledDatasets,!0)}),n.getProperty("metadata",a=>{e.metadata={...e.metadata,...a},r&&this.setProperty("metadata",e.metadata),this.getSourceLinks(e.metadata).then(s=>Promise.all(s)).then(async s=>{let o=await this.getLinkQueue();for(let u of s)o.push(u,e.link);i=!0,this.startIteratorsForNextUrls(e.handledDatasets,!0)}).catch(s=>this.destroy(s))})}startIteratorsForNextUrls(e,r){this.getLinkQueue().then(n=>{for(;this.canStartNewIterator()&&!this.done;){let i=n.pop();if(i)this.iteratorsPendingCreation++,this.getSourceCached(i,e).then(a=>{this.iteratorsPendingCreation--,this.startIterator(a,!1)}).catch(a=>this.destroy(a));else break}r&&n.isEmpty()&&!this.areIteratorsRunning()&&this.close()}).catch(n=>this.destroy(n))}};rO.LinkedRdfSourcesAsyncRdfIterator=cj});var yZ=_(nO=>{"use strict";Object.defineProperty(nO,"__esModule",{value:!0});nO.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;var z4e=qr(),W4e=_Z(),lj=class extends W4e.LinkedRdfSourcesAsyncRdfIterator{constructor(e,r,n,i,a,s,o,u,d,f){super(e,i,a,s,o,u,d),this.context=r,this.forceSourceType=n,this.mediatorDereferenceRdf=f.mediatorDereferenceRdf,this.mediatorMetadata=f.mediatorMetadata,this.mediatorMetadataExtract=f.mediatorMetadataExtract,this.mediatorRdfResolveHypermedia=f.mediatorRdfResolveHypermedia,this.mediatorRdfResolveHypermediaLinks=f.mediatorRdfResolveHypermediaLinks,this.mediatorRdfResolveHypermediaLinksQueue=f.mediatorRdfResolveHypermediaLinksQueue,this.handledUrls={[u]:!0}}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(e=>e.linkQueue)),this.linkQueue}async getSourceLinks(e){try{let{links:r}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:e});return r.filter(n=>this.handledUrls[n.url]?!1:(this.handledUrls[n.url]=!0,!0))}catch{return[]}}async getSource(e,r){let n=this.context;e.context&&(n=n.merge(e.context));let i=e.url,a,s;try{let d=await this.mediatorDereferenceRdf.mediate({context:n,url:i});i=d.url;let f=await this.mediatorMetadata.mediate({context:n,url:i,quads:d.data,triples:d.metadata?.triples});f.data.on("error",()=>{}),s=(await this.mediatorMetadataExtract.mediate({context:n,url:i,metadata:f.metadata,headers:d.headers,requestTime:d.requestTime})).metadata,a=f.data,e.transform&&(a=await e.transform(a))}catch(d){a=new z4e.Readable,a.read=()=>(setTimeout(()=>a.emit("error",d)),null),s={}}let{source:o,dataset:u}=await this.mediatorRdfResolveHypermedia.mediate({context:n,forceSourceType:this.forceSourceType,handledDatasets:r,metadata:s,quads:a,url:i});return u&&(r[u]=!0),{link:e,source:o,metadata:s,handledDatasets:r}}};nO.MediatedLinkedRdfSourcesAsyncRdfIterator=lj});var fj=_(iO=>{"use strict";Object.defineProperty(iO,"__esModule",{value:!0});iO.MediatedQuadSource=void 0;var K4e=yZ(),dj=class{constructor(e,r,n,i,a,s){this.cacheSize=e,this.context=r,this.firstUrl=n,this.forceSourceType=i,this.maxIterators=a,this.mediators=s}match(e,r,n,i){let a=new K4e.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,this.context,this.forceSourceType,e,r,n,i,this.firstUrl,this.maxIterators,this.mediators);return this.sourcesState?a.setSourcesState(this.sourcesState):(a.setSourcesState(),this.sourcesState=a.sourcesState),a}};iO.MediatedQuadSource=dj});var bZ=_(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0});aO.ActorRdfResolveQuadPatternHypermedia=void 0;var gg=E_(),X4e=ul(),$4e=fj(),hj=class extends gg.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.cache=this.cacheSize?new X4e({max:this.cacheSize}):void 0;let r=this.cache;r&&this.httpInvalidator.addInvalidateListener(({url:n})=>n?r.del(n):r.reset())}async test(e){if(!(0,gg.hasContextSingleSource)(e.context))throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a single source.`);return!0}getSource(e,r){let n=(0,gg.getContextSource)(e),i=(0,gg.getContextSourceUrl)(n),a;return this.cache&&this.cache.has(i)?a=this.cache.get(i):(a=new $4e.MediatedQuadSource(this.cacheSize,e,i,(0,gg.getDataSourceType)(n),this.maxIterators,{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorRdfResolveHypermedia:this.mediatorRdfResolveHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue}),this.cache&&this.cache.set(i,a)),Promise.resolve(a)}};aO.ActorRdfResolveQuadPatternHypermedia=hj});var mZ=_(Nl=>{"use strict";var J4e=Nl&&Nl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gZ=Nl&&Nl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&J4e(e,t,r)};Object.defineProperty(Nl,"__esModule",{value:!0});gZ(bZ(),Nl);gZ(fj(),Nl)});var vZ=_(sO=>{"use strict";Object.defineProperty(sO,"__esModule",{value:!0});sO.ActorRdfUpdateQuadsHypermedia=void 0;var K_=R_(),Y4e=ul(),pj=class extends K_.ActorRdfUpdateQuadsDestination{constructor(e){super(e),this.cache=this.cacheSize?new Y4e({max:this.cacheSize}):void 0;let r=this.cache;r&&this.httpInvalidator.addInvalidateListener(({url:n})=>n?r.del(n):r.reset())}async test(e){if(!(0,K_.getContextDestinationUrl)((0,K_.getContextDestination)(e.context)))throw new Error(`Actor ${this.name} can only update quads against a single destination URL.`);return!0}getDestination(e){let r=(0,K_.getContextDestination)(e),n=(0,K_.getContextDestinationUrl)(r);if(this.cache&&this.cache.has(n))return this.cache.get(n);let i=(async()=>{let a,s;try{let u=await this.mediatorDereferenceRdf.mediate({context:e,url:n,acceptErrors:!0});s=u.exists,n=u.url;let d=await this.mediatorMetadata.mediate({context:e,url:n,quads:u.data,triples:u.metadata?.triples});a=(await this.mediatorMetadataExtract.mediate({context:e,url:n,metadata:d.metadata,headers:u.headers,requestTime:u.requestTime})).metadata}catch{a={},s=!1}let{destination:o}=await this.mediatorRdfUpdateHypermedia.mediate({context:e,url:n,metadata:a,exists:s,forceDestinationType:(0,K_.getDataDestinationType)(r)});return o})();return this.cache&&this.cache.set(n,i),i}};sO.ActorRdfUpdateQuadsHypermedia=pj});var wZ=_(wp=>{"use strict";var Z4e=wp&&wp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eNe=wp&&wp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Z4e(e,t,r)};Object.defineProperty(wp,"__esModule",{value:!0});eNe(vZ(),wp)});var TZ=_(oO=>{"use strict";Object.defineProperty(oO,"__esModule",{value:!0});oO.ActorQueryOperationClear=void 0;var SZ=dt(),tNe=Bt(),rNe=new tNe.DataFactory,_j=class extends SZ.ActorQueryOperationTypedMediated{constructor(e){super(e,"clear")}async testOperation(e,r){return SZ.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n;e.source==="DEFAULT"?n=rNe.defaultGraph():typeof e.source=="string"?n=e.source:n=[e.source];let{execute:i}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:n,requireExistence:!e.silent,dropGraphs:!1},context:r});return{type:"void",execute:i}}};oO.ActorQueryOperationClear=_j});var EZ=_(Sp=>{"use strict";var nNe=Sp&&Sp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iNe=Sp&&Sp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nNe(e,t,r)};Object.defineProperty(Sp,"__esModule",{value:!0});iNe(TZ(),Sp)});var RZ=_(uO=>{"use strict";Object.defineProperty(uO,"__esModule",{value:!0});uO.ActorQueryOperationCreate=void 0;var OZ=dt(),yj=class extends OZ.ActorQueryOperationTypedMediated{constructor(e){super(e,"create")}async testOperation(e,r){return OZ.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let{execute:n}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[e.source],requireNonExistence:!e.silent},context:r});return{type:"void",execute:n}}};uO.ActorQueryOperationCreate=yj});var AZ=_(Tp=>{"use strict";var aNe=Tp&&Tp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sNe=Tp&&Tp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&aNe(e,t,r)};Object.defineProperty(Tp,"__esModule",{value:!0});sNe(RZ(),Tp)});var xZ=_(lO=>{"use strict";Object.defineProperty(lO,"__esModule",{value:!0});lO.ActorQueryOperationUpdateDeleteInsert=void 0;var cO=N6(),oNe=Kn(),bj=dt(),uNe=er(),cNe=new oNe.BindingsFactory,gj=class extends bj.ActorQueryOperationTypedMediated{constructor(e){super(e,"deleteinsert"),this.blankNodeCounter=0}async testOperation(e,r){return bj.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n=e.where?bj.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.where,context:r})).bindingsStream:new uNe.ArrayIterator([cNe.bindings()],{autoStart:!1}),i,a;e.insert&&(i=new cO.BindingsToQuadsIterator(e.insert.map(cO.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),n.clone(),!1),this.blankNodeCounter++),e.delete&&(a=new cO.BindingsToQuadsIterator(e.delete.map(cO.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),n.clone(),!1),this.blankNodeCounter++);let{execute:s}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:i,quadStreamDelete:a,context:r});return{type:"void",execute:s}}};lO.ActorQueryOperationUpdateDeleteInsert=gj});var IZ=_(Ep=>{"use strict";var lNe=Ep&&Ep.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dNe=Ep&&Ep.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lNe(e,t,r)};Object.defineProperty(Ep,"__esModule",{value:!0});dNe(xZ(),Ep)});var NZ=_(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0});dO.ActorQueryOperationDrop=void 0;var PZ=dt(),fNe=Bt(),hNe=new fNe.DataFactory,mj=class extends PZ.ActorQueryOperationTypedMediated{constructor(e){super(e,"drop")}async testOperation(e,r){return PZ.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n;e.source==="DEFAULT"?n=hNe.defaultGraph():typeof e.source=="string"?n=e.source:n=[e.source];let{execute:i}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:n,requireExistence:!e.silent,dropGraphs:!0},context:r});return{type:"void",execute:i}}};dO.ActorQueryOperationDrop=mj});var DZ=_(Op=>{"use strict";var pNe=Op&&Op.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_Ne=Op&&Op.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pNe(e,t,r)};Object.defineProperty(Op,"__esModule",{value:!0});_Ne(NZ(),Op)});var qZ=_(fO=>{"use strict";Object.defineProperty(fO,"__esModule",{value:!0});fO.ActorQueryOperationLoad=void 0;var CZ=dt(),jZ=Cr(),yNe=Bt(),bNe=jt(),Rp=new yNe.DataFactory,mg=class extends CZ.ActorQueryOperationTypedMediated{constructor(e){super(e,"load"),this.factory=new bNe.Factory,this.constructOperation=this.factory.createConstruct(this.factory.createPattern(Rp.variable("s"),Rp.variable("p"),Rp.variable("o")),[this.factory.createPattern(Rp.variable("s"),Rp.variable("p"),Rp.variable("o"))])}async testOperation(e,r){return CZ.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n=r.set(jZ.KeysRdfResolveQuadPattern.sources,[e.source.value]);e.silent&&(n=n.set(jZ.KeysInitQuery.lenient,!0));let a=mg.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.constructOperation,context:n})).quadStream;e.destination&&(a=a.map(o=>Rp.quad(o.subject,o.predicate,o.object,e.destination)));let{execute:s}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:a,context:r});return{type:"void",execute:s}}};fO.ActorQueryOperationLoad=mg});var LZ=_(Ap=>{"use strict";var gNe=Ap&&Ap.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mNe=Ap&&Ap.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gNe(e,t,r)};Object.defineProperty(Ap,"__esModule",{value:!0});mNe(qZ(),Ap)});var FZ=_(hO=>{"use strict";Object.defineProperty(hO,"__esModule",{value:!0});hO.ActorQueryOperationJoin=void 0;var MZ=dt(),vj=class extends MZ.ActorQueryOperationTypedMediated{constructor(e){super(e,"join")}async testOperation(e,r){return!0}async runOperation(e,r){let n=(await Promise.all(e.input.map(async i=>({output:await this.mediatorQueryOperation.mediate({operation:i,context:r}),operation:i})))).map(({output:i,operation:a})=>({output:MZ.ActorQueryOperation.getSafeBindings(i),operation:a}));return this.mediatorJoin.mediate({type:"inner",entries:n,context:r})}};hO.ActorQueryOperationJoin=vj});var BZ=_(xp=>{"use strict";var vNe=xp&&xp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wNe=xp&&xp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vNe(e,t,r)};Object.defineProperty(xp,"__esModule",{value:!0});wNe(FZ(),xp)});var VZ=_(pO=>{"use strict";Object.defineProperty(pO,"__esModule",{value:!0});pO.ActorQueryOperationLeftJoin=void 0;var wj=dt(),UZ=wh(),Sj=class extends wj.ActorQueryOperationTypedMediated{constructor(e){super(e,"leftjoin")}async testOperation(e,r){return!0}async runOperation(e,r){let n=(await Promise.all(e.input.map(async a=>({output:await this.mediatorQueryOperation.mediate({operation:a,context:r}),operation:a})))).map(({output:a,operation:s})=>({output:wj.ActorQueryOperation.getSafeBindings(a),operation:s})),i=await this.mediatorJoin.mediate({type:"optional",entries:n,context:r});if(e.expression){let a={...wj.ActorQueryOperation.getAsyncExpressionContext(r)},s=new UZ.AsyncEvaluator(e.expression,a),o=i.bindingsStream.transform({autoStart:!1,transform:async(u,d,f)=>{try{await s.evaluateAsEBV(u)&&f(u)}catch(p){(0,UZ.isExpressionError)(p)?this.logWarn(r,"Error occurred while filtering.",()=>({error:p,bindings:u})):o.emit("error",p)}d()}});i.bindingsStream=o}return i}};pO.ActorQueryOperationLeftJoin=Sj});var kZ=_(Ip=>{"use strict";var SNe=Ip&&Ip.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TNe=Ip&&Ip.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&SNe(e,t,r)};Object.defineProperty(Ip,"__esModule",{value:!0});TNe(VZ(),Ip)});var GZ=_(_O=>{"use strict";Object.defineProperty(_O,"__esModule",{value:!0});_O.ActorQueryOperationMinus=void 0;var HZ=dt(),Tj=class extends HZ.ActorQueryOperationTypedMediated{constructor(e){super(e,"minus")}async testOperation(e,r){return!0}async runOperation(e,r){let n=(await Promise.all(e.input.map(async i=>({output:await this.mediatorQueryOperation.mediate({operation:i,context:r}),operation:i})))).map(({output:i,operation:a})=>({output:HZ.ActorQueryOperation.getSafeBindings(i),operation:a}));return this.mediatorJoin.mediate({type:"minus",entries:n,context:r})}};_O.ActorQueryOperationMinus=Tj});var QZ=_(Pp=>{"use strict";var ENe=Pp&&Pp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ONe=Pp&&Pp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ENe(e,t,r)};Object.defineProperty(Pp,"__esModule",{value:!0});ONe(GZ(),Pp)});var KZ=_(yO=>{"use strict";Object.defineProperty(yO,"__esModule",{value:!0});yO.ActorQueryOperationPathSeq=void 0;var zZ=Ju(),WZ=dt(),RNe=jt(),Ej=class extends zZ.ActorAbstractPath{constructor(e){super(e,RNe.Algebra.types.SEQ)}async runOperation(e,r){let n=e.predicate,i=e.subject,a=[],s=await Promise.all(n.input.map((d,f)=>{let p=f===n.input.length-1?e.object:this.generateVariable(e,`b${f}`),y=zZ.ActorAbstractPath.FACTORY.createPath(i,d,p,e.graph),g=this.mediatorQueryOperation.mediate({context:r,operation:y});return i=p,f<n.input.length-1&&a.push(p),{output:g,operation:y}}).map(async({output:d,operation:f})=>({output:WZ.ActorQueryOperation.getSafeBindings(await d),operation:f}))),o=WZ.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:s,context:r})),u=o.bindingsStream.transform({transform(d,f,p){for(let y of a)d=d.delete(y);p(d),f()}});return{type:"bindings",bindingsStream:u,async metadata(){let d=await o.metadata(),f=d.variables.filter(p=>!a.some(y=>y.value===p.value));return{...d,variables:f}}}}};yO.ActorQueryOperationPathSeq=Ej});var XZ=_(Np=>{"use strict";var ANe=Np&&Np.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xNe=Np&&Np.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ANe(e,t,r)};Object.defineProperty(Np,"__esModule",{value:!0});xNe(KZ(),Np)});var $Z=_(gO=>{"use strict";Object.defineProperty(gO,"__esModule",{value:!0});gO.ActorRdfJoinMultiSmallest=void 0;var INe=dt(),bO=Fa(),PNe=jt(),X_=class extends bO.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0})}async sortJoinEntries(e,r){return(await this.mediatorJoinEntriesSort.mediate({entries:e,context:r})).entries}async getOutput(e){let r=await this.sortJoinEntries(await bO.ActorRdfJoin.getEntriesWithMetadatas([...e.entries]),e.context),n=r[0],i=r[1];r.splice(0,2);let a={output:INe.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:e.type,entries:[n,i],context:e.context})),operation:X_.FACTORY.createJoin([n.operation,i.operation],!1)};return r.push(a),{result:await this.mediatorJoin.mediate({type:e.type,entries:r,context:e.context})}}async getJoinCoefficients(e,r){r=[...r],r=(await this.sortJoinEntries(e.entries.map((s,o)=>({...s,metadata:r[o]})),e.context)).map(s=>s.metadata);let i=bO.ActorRdfJoin.getRequestInitialTimes(r),a=bO.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value*r[1].cardinality.value*r.slice(2).reduce((s,o)=>s*o.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:i[0]+r[0].cardinality.value*a[0]+i[1]+r[1].cardinality.value*a[1]+r.slice(2).reduce((s,o,u)=>s+i.slice(2)[u]+o.cardinality.value*a.slice(2)[u],0)}}};gO.ActorRdfJoinMultiSmallest=X_;X_.FACTORY=new PNe.Factory});var JZ=_(Dp=>{"use strict";var NNe=Dp&&Dp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DNe=Dp&&Dp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&NNe(e,t,r)};Object.defineProperty(Dp,"__esModule",{value:!0});DNe($Z(),Dp)});var ZZ=_(mO=>{"use strict";Object.defineProperty(mO,"__esModule",{value:!0});mO.ActorQueryOperationQuadpattern=void 0;var CNe=Kn(),YZ=dt(),jNe=Cr(),qNe=Bt(),$_=vo(),LNe=jt(),MNe=new CNe.BindingsFactory,Oj=new qNe.DataFactory,FNe=new LNe.Factory,ws=class extends YZ.ActorQueryOperationTyped{constructor(e){super(e,"pattern")}static isTermVariable(e){return e.termType==="Variable"}static getVariables(e){return(0,$_.uniqTerms)((0,$_.getTerms)(e).filter(ws.isTermVariable))}static getDuplicateElementLinks(e){let r={},n=!1;for(let a of $_.QUAD_TERM_NAMES)if(e[a].termType==="Variable"){let s=e[a].value,o=(r[s]||(r[s]=[])).push(a);n=n||o>1}if(!n)return;let i={};for(let a in r){let s=r[a],o=s.slice(1);o.length>0&&(i[s[0]]=o)}return i}static validateMetadata(e){for(let r of["cardinality","canContainUndefs"])if(!(r in e))throw new Error(`Invalid metadata: missing ${r} in ${JSON.stringify(e)}`);return e}static getMetadata(e,r,n){return()=>new Promise((i,a)=>{e.getProperty("metadata",s=>i(s)),e.on("error",a)}).then(i=>("canContainUndefs"in i||(i.canContainUndefs=!1),ws.quadsMetadataToBindingsMetadata(ws.validateMetadata(i),r,n)))}static quadsMetadataToBindingsMetadata(e,r,n){return{...e,order:e.order?ws.quadsOrderToBindingsOrder(e.order,r):void 0,availableOrders:e.availableOrders?e.availableOrders.map(i=>({cost:i.cost,terms:ws.quadsOrderToBindingsOrder(i.terms,r)})):void 0,variables:n}}static quadsOrderToBindingsOrder(e,r){let n={};return e.map(i=>{let a=r[i.term];if(!!a&&!n[a])return n[a]=!0,{term:Oj.variable(a),direction:i.direction}}).filter(i=>Boolean(i))}async testOperation(e,r){return!0}async runOperation(e,r){e.context&&(r=r.merge(e.context));let n=e,i=this.unionDefaultGraph||r.get(jNe.KeysQueryOperation.unionDefaultGraph);e.graph.termType==="DefaultGraph"&&i&&(n=FNe.createPattern(e.subject,e.predicate,e.object,Oj.variable("__comunica:defaultGraph")));let a=await this.mediatorResolveQuadPattern.mediate({pattern:n,context:r}),s=ws.getVariables(e),o=(0,$_.reduceTerms)(e,(p,y,g)=>(y.termType==="Variable"&&(p[g]=y.value),p),{}),u=(p,y,g)=>{let v=o[g];return v&&p.push([Oj.variable(v),y]),p},d=ws.getMetadata(a.data,o,s),f=new YZ.ClosableTransformIterator(async()=>{let p=a.data,y=ws.getDuplicateElementLinks(e);return e.graph.termType==="Variable"&&!i&&(p=p.filter(g=>g.graph.termType!=="DefaultGraph")),y&&(p=p.filter(g=>{for(let v of $_.TRIPLE_TERM_NAMES)for(let E of y[v]||[])if(!g[v].equals(g[E]))return!1;return!0})),p.map(g=>MNe.bindings((0,$_.reduceTerms)(g,u,[])))},{autoStart:!1,onClose:()=>a.data.destroy()});return{type:"bindings",bindingsStream:f,metadata:d}}};mO.ActorQueryOperationQuadpattern=ws});var eee=_(Cp=>{"use strict";var BNe=Cp&&Cp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),UNe=Cp&&Cp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&BNe(e,t,r)};Object.defineProperty(Cp,"__esModule",{value:!0});UNe(ZZ(),Cp)});var tee=_(vO=>{"use strict";Object.defineProperty(vO,"__esModule",{value:!0});vO.ActorHttpProxy=void 0;var VNe=zc(),Rj=Cr(),Aj=class extends VNe.ActorHttp{constructor(e){super(e)}async test(e){let r=e.context.get(Rj.KeysHttpProxy.httpProxyHandler);if(!r)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await r.getProxy(e))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:Number.POSITIVE_INFINITY}}async run(e){let r=typeof e.input=="string"?e.input:e.input.url,n=e.context.get(Rj.KeysHttpProxy.httpProxyHandler),i=await this.mediatorHttp.mediate({...await n.getProxy(e),context:e.context.delete(Rj.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(i,"url",{configurable:!0,enumerable:!0,get:()=>i.headers.get("x-final-url")??r}),i}};vO.ActorHttpProxy=Aj});var ree=_(wO=>{"use strict";Object.defineProperty(wO,"__esModule",{value:!0});wO.ProxyHandlerStatic=void 0;var xj=class{constructor(e){this.prefixUrl=e}async getProxy(e){return{init:e.init,input:this.modifyInput(e.input)}}modifyInput(e){return typeof e=="string"?this.prefixUrl+e:new Request(this.prefixUrl+e.url,e)}};wO.ProxyHandlerStatic=xj});var iee=_(Dl=>{"use strict";var kNe=Dl&&Dl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nee=Dl&&Dl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&kNe(e,t,r)};Object.defineProperty(Dl,"__esModule",{value:!0});nee(tee(),Dl);nee(ree(),Dl)});var Pj=_(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.ActorDereferenceHttpBase=J_.mediaTypesToAcceptString=void 0;var aee=Sw(),see=zc(),HNe=TE(),GNe=is(),QNe=O_(),zNe=/^[^ ;]*/u;function oee(t,e){let r="*/*;q=0.1",n=[],i=Object.entries(t).map(([s,o])=>({mediaType:s,priority:o})).sort((s,o)=>o.priority===s.priority?s.mediaType.localeCompare(o.mediaType):o.priority-s.priority),a=i.length-1;for(let{mediaType:s,priority:o}of i){let u=s+(o!==1?`;q=${o.toFixed(3).replace(/0*$/u,"")}`:"");if(a+u.length>e){for(;a+r.length>e;)a-=(n.pop()||"").length+1;n.push(r);break}n.push(u),a+=u.length}return n.length===0?"*/*":n.join(",")}J_.mediaTypesToAcceptString=oee;var Ij=class extends aee.ActorDereference{constructor(e){super(e)}async test({url:e}){if(!/^https?:/u.test(e))throw new Error(`Cannot retrieve ${e} because it is not an HTTP(S) URL.`);return!0}async run(e){let r=!0,n=new HNe.Headers(e.headers);n.append("Accept",oee(await e.mediaTypes?.()??{},this.getMaxAcceptHeaderLength()));let i,a=Date.now();try{i=await this.mediatorHttp.mediate({context:e.context,init:{headers:n,method:e.method},input:e.url})}catch(d){return this.handleDereferenceErrors(e,d)}let s=(0,GNe.resolve)(i.url,e.url),o=Date.now()-a;if(i.status!==200){r=!1;let d=i.body?await QNe(see.ActorHttp.toNodeReadable(i.body)):"empty response";if(!e.acceptErrors){let f=new Error(`Could not retrieve ${e.url} (HTTP status ${i.status}):
${d}`);return this.handleDereferenceErrors(e,f,i.headers,o)}}let u=zNe.exec(i.headers.get("content-type")??"")?.[0];return{url:s,data:r?see.ActorHttp.toNodeReadable(i.body):(0,aee.emptyReadable)(),exists:r,requestTime:o,headers:i.headers,mediaType:u!=="text/plain"?u:void 0}}};J_.ActorDereferenceHttpBase=Ij});var uee=_(SO=>{"use strict";Object.defineProperty(SO,"__esModule",{value:!0});SO.ActorDereferenceHttp=void 0;var WNe=Pj(),Nj=class extends WNe.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}};SO.ActorDereferenceHttp=Nj});var lee=_(Cl=>{"use strict";var KNe=Cl&&Cl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cee=Cl&&Cl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&KNe(e,t,r)};Object.defineProperty(Cl,"__esModule",{value:!0});cee(uee(),Cl);cee(Pj(),Cl)});var Oee=_((OHe,Eee)=>{var XNe=new($9()).LoggerVoid,$Ne=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^2.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),dee=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^2.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),fee=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^2.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),TO=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^2.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),xt=new(dt()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^2.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),Dj=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^2.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),Ba=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^2.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),vg=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^2.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),wg=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^2.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),Sg=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^2.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),Cj=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^2.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),jp=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^2.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),hee=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^2.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),pee=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^2.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),_ee=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^2.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),jj=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^2.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),ec=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^2.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),EO=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^2.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),OO=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/^2.0.0/components/ActorRdfResolveHypermedia.jsonld#ActorRdfResolveHypermedia_default_bus"}),yee=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^2.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),bee=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^2.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),RO=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^2.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),qj=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^2.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),Ua=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^2.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),AO=new(Je()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/^2.0.0/components/ActorRdfResolveQuadPattern.jsonld#ActorRdfResolveQuadPattern_default_bus"}),AVe=new(e5()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:dee}),JNe=new(uA()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:dee}),xVe=new(o5()).ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:fee}),Lj=new(Ui()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:fee}),YNe=new(uA()).MediatorCombinePipeline({name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:TO}),IVe=new(d5()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:TO}),PVe=new(h5()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:TO}),NVe=new(y5()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:TO}),Dt=new(Ty()).MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:xt}),DVe=new(m5()).ActorQueryOperationValues({name:"urn:comunica:default:query-operation/actors#values",bus:xt}),ZNe=new(Ui()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:Dj}),CVe=new(S5()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:Dj}),jVe=new(e7()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:Dj}),e6e=new(Ui()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:Ba}),t6e=new(Pd()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:Ba}),r6e=new(Pd()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:Ba}),qVe=new(eU()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:Ba}),LVe=new(rU()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:Ba}),MVe=new(iU()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:Ba}),FVe=new(dU()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:Ba}),BVe=new(pU()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:Ba}),UVe=new(bU()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:Ba}),VVe=new(ZU()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:Ba}),n6e=new(tV()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:vg}),i6e=new(eb()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:vg}),a6e=new(eb()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:vg}),s6e=new(eb()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^2.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:vg}),o6e=new(eb()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-resolve-quad-pattern-hypermedia/^2.0.0/components/ActorRdfResolveQuadPatternHypermedia.jsonld#IActorRdfResolveQuadPatternHypermediaArgs_default_invalidator",bus:vg}),gee=new(Ui()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:wg}),mee=new(Pd()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:wg}),u6e=new(Pd()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:wg}),kVe=new(Ck()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:wg}),HVe=new(kk()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:wg}),jl=new(Ty()).MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#main",bus:Sg}),c6e=new(GH()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:Sg}),l6e=new(YH()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:Cj}),d6e=new(Ui()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:Cj}),vee=new(Ui()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:jp}),wee=new(Pd()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:jp}),GVe=new(nG()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:jp}),QVe=new(VG()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:jp}),zVe=new(sz()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:jp}),Mj=new(Ui()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:hee}),WVe=new(lz()).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:pee}),See=new(Ui()).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:pee}),KVe=new(pz()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:_ee}),Ss=new(Ty()).MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:_ee}),XVe=new(gz()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:jj}),$Ve=new(wz()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:jj}),Fj=new(Ui()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:jj}),JVe=new(Oz()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:ec}),YVe=new(Az()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:ec}),ZVe=new(Iz()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:ec}),eke=new(Nz()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:ec}),tke=new(Cz()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:ec}),rke=new(qz()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:ec}),nke=new(Mz()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:ec}),ike=new(Bz()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:ec}),Bj=new(Pd()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:ec}),ake=new(Vz()).ActorRdfParseHtml({busRdfParseHtml:EO,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:jp}),ske=new(sW()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:EO}),oke=new(uW()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:EO}),uke=new(gW()).ActorRdfResolveHypermediaNone({name:"urn:comunica:default:rdf-resolve-hypermedia/actors#none",bus:OO}),f6e=new(Ty()).MediatorNumber({field:"filterFactor",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-resolve-hypermedia/mediators#main",bus:OO}),cke=new(SW()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:yee}),h6e=new(Ui()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:yee}),lke=new(PW()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:bee}),p6e=new(Ui()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:bee}),_6e=new(Ui()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:RO}),dke=new(XW()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:qj}),Tg=new(Ui()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:qj}),Eg=new(YW()).MediatorJoinCoefficientsFixed({cpuWeight:1,memoryWeight:1,timeWeight:10,ioWeight:100,name:"urn:comunica:default:rdf-join/mediators#main",bus:Ua}),Tee=new(Ui()).MediatorRace({name:"urn:comunica:default:rdf-resolve-quad-pattern/mediators#main",bus:AO}),fke=new(i6()).ActorRdfResolveQuadPatternRdfJsSource({name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#rdfjs-source",bus:AO}),hke=new(tK()).ActorQueryOperationAsk({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#ask",bus:xt}),pke=new(N6()).ActorQueryOperationConstruct({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#construct",bus:xt}),_ke=new(dK()).ActorQueryOperationDescribeSubject({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#describe",bus:xt}),yke=new(hK()).ActorQueryOperationBgpJoin({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#bgp",bus:xt}),bke=new(yK()).ActorQueryOperationDistinctHash({mediatorHashBindings:Lj,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#distinct",bus:xt}),gke=new(u$()).ActorQueryOperationExtend({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#extend",bus:xt}),mke=new(l$()).ActorQueryOperationFilterSparqlee({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#filter",bus:xt}),vke=new(f$()).ActorQueryOperationFromQuad({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#from",bus:xt}),wke=new(y$()).ActorQueryOperationGroup({mediatorHashBindings:Lj,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#group",bus:xt}),Ske=new(g$()).ActorQueryOperationNop({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#nop",bus:xt}),Tke=new(S$()).ActorQueryOperationOrderBySparqlee({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#orderby",bus:xt}),Eke=new(O$()).ActorQueryOperationProject({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#project",bus:xt}),Oke=new(x$()).ActorQueryOperationReducedHash({mediatorHashBindings:Lj,cacheSize:100,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#reduced",bus:xt}),Rke=new(N$()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#service",bus:xt}),Ake=new(C$()).ActorQueryOperationSlice({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#slice",bus:xt}),xke=new(aS()).ActorQueryOperationUnion({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#union",bus:xt}),Ike=new(F$()).ActorQueryOperationPathAlt({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#path-alt",bus:xt}),Pke=new(V$()).ActorQueryOperationPathInv({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#path-inv",bus:xt}),Nke=new(G$()).ActorQueryOperationPathLink({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#path-link",bus:xt}),Dke=new(W$()).ActorQueryOperationPathNps({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#path-nps",bus:xt}),Cke=new(J$()).ActorQueryOperationPathOneOrMore({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:xt}),jke=new(eJ()).ActorQueryOperationPathZeroOrMore({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:xt}),qke=new(nJ()).ActorQueryOperationPathZeroOrOne({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:xt}),Lke=new(sJ()).ActorQueryOperationAddRewrite({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#update-add",bus:xt}),Mke=new(uJ()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#update-composite",bus:xt}),Fke=new(dJ()).ActorQueryOperationCopyRewrite({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#update-copy",bus:xt}),Bke=new(pJ()).ActorQueryOperationMoveRewrite({mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#update-move",bus:xt}),y6e=new(nA()).ActorInitQuery({mediatorOptimizeQueryOperation:YNe,mediatorQueryOperation:Dt,mediatorQueryParse:ZNe,mediatorQueryResultSerialize:e6e,mediatorQueryResultSerializeMediaTypeCombiner:t6e,mediatorQueryResultSerializeMediaTypeFormatCombiner:r6e,mediatorContextPreprocess:JNe,mediatorHttpInvalidate:n6e,logger:XNe,defaultQueryInputFormat:"sparql",contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:init/actors#query",bus:$Ne}),b6e=new(J8()).ActionObserverHttp({httpInvalidator:i6e,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:Sg}),g6e=new(eC()).ActionObserverHttp({httpInvalidator:a6e,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:Sg}),Uke=new(SJ()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:gee,mediatorMediaTypeCombiner:mee,mediatorMediaTypeFormatCombiner:u6e,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:Ba}),Vke=new($J()).ActorRdfParseJsonLd({mediatorHttp:jl,mediaTypePriorities:{"application/json":.5,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:jp}),kke=new(iY()).ActorRdfResolveHypermediaSparql({mediatorHttp:jl,checkUrlSuffix:!0,forceHttpGet:!1,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:OO}),Hke=new(lY()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:jl,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:RO}),Gke=new(hY()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:jl,mediatorRdfSerializeMediatypes:mee,mediatorRdfSerialize:gee,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:RO}),Qke=new(yY()).ActorRdfUpdateHypermediaSparql({mediatorHttp:jl,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:RO}),zke=new(vY()).ActorQueryOperationSparqlEndpoint({mediatorHttp:jl,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,forceHttpGet:!1,name:"urn:comunica:default:query-operation/actors#sparql-endpoint",bus:xt}),Wke=new(EY()).ActorDereferenceRdfParse({mediatorDereference:d6e,mediatorParse:vee,mediatorParseMediatypes:wee,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:hee}),Kke=new(xY()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:wee,mediatorRdfParseHandle:vee,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:EO}),Xke=new(NY()).ActorRdfJoinNone({mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:Ua}),$ke=new(CY()).ActorRdfJoinSingle({mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:Ua}),Jke=new(qY()).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:Ua}),Yke=new(zC()).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorJoinEntriesSort:See,mediatorQueryOperation:Dt,mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:Ua}),Zke=new(JY()).ActorRdfJoinHash({mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:Ua}),eHe=new(ZY()).ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:Ua}),tHe=new(tZ()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:Ua}),rHe=new(nZ()).ActorRdfJoinMinusHash({mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:Ua}),nHe=new(sZ()).ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:Ua}),iHe=new(cZ()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorQueryOperation:Dt,mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:Ua}),aHe=new(dZ()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:Ua}),sHe=new(pZ()).ActorRdfResolveHypermediaQpf({mediatorMetadata:Fj,mediatorMetadataExtract:Bj,mediatorDereferenceRdf:Mj,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:rdf-resolve-hypermedia/actors#qpf",bus:OO}),oHe=new(mZ()).ActorRdfResolveQuadPatternHypermedia({cacheSize:100,httpInvalidator:o6e,maxIterators:64,mediatorDereferenceRdf:Mj,mediatorMetadata:Fj,mediatorMetadataExtract:Bj,mediatorRdfResolveHypermedia:f6e,mediatorRdfResolveHypermediaLinks:h6e,mediatorRdfResolveHypermediaLinksQueue:p6e,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#hypermedia",bus:AO}),uHe=new(wZ()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:s6e,mediatorDereferenceRdf:Mj,mediatorMetadata:Fj,mediatorMetadataExtract:Bj,mediatorRdfUpdateHypermedia:_6e,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:qj}),cHe=new(EZ()).ActorQueryOperationClear({mediatorUpdateQuads:Tg,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#update-clear",bus:xt}),lHe=new(AZ()).ActorQueryOperationCreate({mediatorUpdateQuads:Tg,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#update-create",bus:xt}),dHe=new(IZ()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:Tg,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:xt}),fHe=new(DZ()).ActorQueryOperationDrop({mediatorUpdateQuads:Tg,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#update-drop",bus:xt}),hHe=new(LZ()).ActorQueryOperationLoad({mediatorUpdateQuads:Tg,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#update-load",bus:xt}),pHe=new(BZ()).ActorQueryOperationJoin({mediatorJoin:Eg,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#join",bus:xt}),_He=new(kZ()).ActorQueryOperationLeftJoin({mediatorJoin:Eg,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:xt}),yHe=new(QZ()).ActorQueryOperationMinus({mediatorJoin:Eg,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#minus",bus:xt}),bHe=new(XZ()).ActorQueryOperationPathSeq({mediatorJoin:Eg,mediatorQueryOperation:Dt,name:"urn:comunica:default:query-operation/actors#path-seq",bus:xt}),gHe=new(JZ()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:See,mediatorJoin:Eg,mediatorJoinSelectivity:Ss,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:Ua}),mHe=new(eee()).ActorQueryOperationQuadpattern({mediatorResolveQuadPattern:Tee,unionDefaultGraph:!1,name:"urn:comunica:default:query-operation/actors#quadpattern",bus:xt}),vHe=new(v6()).ActorRdfResolveQuadPatternFederated({mediatorResolveQuadPattern:Tee,skipEmptyPatterns:!1,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#federated",bus:AO}),wHe=new(iee()).ActorHttpProxy({mediatorHttp:jl,name:"urn:comunica:default:http/actors#proxy",bus:Sg,beforeActors:[c6e]}),SHe=new(lee()).ActorDereferenceHttp({mediatorHttp:jl,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:Cj,beforeActors:[l6e]}),THe=new(J8()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:b6e,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:Ba}),EHe=new(eC()).ActorQueryResultSerializeStats({httpObserver:g6e,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:Ba});Eee.exports=y6e});var Ree=_(xO=>{"use strict";Object.defineProperty(xO,"__esModule",{value:!0});xO.QueryEngine=void 0;var m6e=nA(),v6e=Oee(),Uj=class extends m6e.QueryEngineBase{constructor(e=v6e){super(e)}};xO.QueryEngine=Uj});var Aee=_(qp=>{"use strict";var w6e=qp&&qp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),S6e=qp&&qp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&w6e(e,t,r)};Object.defineProperty(qp,"__esModule",{value:!0});S6e(Ree(),qp)});var T6e=Fee(Aee());var export_QueryEngine=T6e.QueryEngine;export{export_QueryEngine as QueryEngine};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */
/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */
/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */
